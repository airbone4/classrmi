<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>test for class</title>
  <meta name="description" content="web article test">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="test for class" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="web article test" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="test for class" />
  
  <meta name="twitter:description" content="web article test" />
  

<meta name="author" content="lend jwj cen">


<meta name="date" content="2018-10-28">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="r-packages.html">
<link rel="next" href="assignment.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="adv-r.css" type="text/css" />
<link rel="stylesheet" href="tableStyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">testing </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 網路資源</a></li>
<li class="chapter" data-level="2" data-path="file-system.html"><a href="file-system.html"><i class="fa fa-check"></i><b>2</b> File System</a><ul>
<li class="chapter" data-level="2.1" data-path="file-system.html"><a href="file-system.html#exploring-file-system"><i class="fa fa-check"></i><b>2.1</b> Exploring file system</a></li>
<li class="chapter" data-level="2.2" data-path="file-system.html"><a href="file-system.html#creating-of-a-directory"><i class="fa fa-check"></i><b>2.2</b> Creating of a directory</a></li>
<li class="chapter" data-level="2.3" data-path="file-system.html"><a href="file-system.html#r"><i class="fa fa-check"></i><b>2.3</b> R系統檔案列表</a></li>
<li class="chapter" data-level="2.4" data-path="file-system.html"><a href="file-system.html#constructing-of-file-names-in-r"><i class="fa fa-check"></i><b>2.4</b> Constructing of file names in R</a><ul>
<li class="chapter" data-level="2.4.1" data-path="file-system.html"><a href="file-system.html#note-about-windows"><i class="fa fa-check"></i><b>2.4.1</b> Note about Windows</a></li>
<li class="chapter" data-level="2.4.2" data-path="file-system.html"><a href="file-system.html#section-2.4.2"><i class="fa fa-check"></i><b>2.4.2</b> 和工作區相關的指令</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>3</b> Functions</a><ul>
<li class="chapter" data-level="3.1" data-path="functions.html"><a href="functions.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#outline"><i class="fa fa-check"></i>Outline</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="functions.html"><a href="functions.html#function-fundamentals"><i class="fa fa-check"></i><b>3.2</b> Function fundamentals</a><ul>
<li class="chapter" data-level="3.2.1" data-path="functions.html"><a href="functions.html#first-class-functions"><i class="fa fa-check"></i><b>3.2.1</b> First-class functions</a></li>
<li class="chapter" data-level="3.2.2" data-path="functions.html"><a href="functions.html#function-components"><i class="fa fa-check"></i><b>3.2.2</b> Function components</a></li>
<li class="chapter" data-level="3.2.3" data-path="functions.html"><a href="functions.html#primitive-functions"><i class="fa fa-check"></i><b>3.2.3</b> Primitive functions</a></li>
<li class="chapter" data-level="3.2.4" data-path="functions.html"><a href="functions.html#exercises"><i class="fa fa-check"></i><b>3.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="functions.html"><a href="functions.html#lexical-scoping"><i class="fa fa-check"></i><b>3.3</b> Lexical scoping</a><ul>
<li class="chapter" data-level="3.3.1" data-path="functions.html"><a href="functions.html#name-masking"><i class="fa fa-check"></i><b>3.3.1</b> Name masking</a></li>
<li class="chapter" data-level="3.3.2" data-path="functions.html"><a href="functions.html#functions-vs.variables"><i class="fa fa-check"></i><b>3.3.2</b> Functions vs. variables</a></li>
<li class="chapter" data-level="3.3.3" data-path="functions.html"><a href="functions.html#fresh-start"><i class="fa fa-check"></i><b>3.3.3</b> A fresh start</a></li>
<li class="chapter" data-level="3.3.4" data-path="functions.html"><a href="functions.html#dynamic-lookup"><i class="fa fa-check"></i><b>3.3.4</b> Dynamic lookup</a></li>
<li class="chapter" data-level="3.3.5" data-path="functions.html"><a href="functions.html#exercises-1"><i class="fa fa-check"></i><b>3.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="functions.html"><a href="functions.html#lazy-evaluation"><i class="fa fa-check"></i><b>3.4</b> Lazy evaluation</a><ul>
<li class="chapter" data-level="3.4.1" data-path="functions.html"><a href="functions.html#forcing-evaluation"><i class="fa fa-check"></i><b>3.4.1</b> Forcing evaluation</a></li>
<li class="chapter" data-level="3.4.2" data-path="functions.html"><a href="functions.html#promises"><i class="fa fa-check"></i><b>3.4.2</b> Promises</a></li>
<li class="chapter" data-level="3.4.3" data-path="functions.html"><a href="functions.html#default-arguments"><i class="fa fa-check"></i><b>3.4.3</b> Default arguments</a></li>
<li class="chapter" data-level="3.4.4" data-path="functions.html"><a href="functions.html#missing-arguments"><i class="fa fa-check"></i><b>3.4.4</b> Missing arguments</a></li>
<li class="chapter" data-level="3.4.5" data-path="functions.html"><a href="functions.html#exercises-2"><i class="fa fa-check"></i><b>3.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="functions.html"><a href="functions.html#fun-dot-dot-dot"><i class="fa fa-check"></i><b>3.5</b> <code>...</code> (dot-dot-dot)</a><ul>
<li class="chapter" data-level="3.5.1" data-path="functions.html"><a href="functions.html#exercises-3"><i class="fa fa-check"></i><b>3.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="functions.html"><a href="functions.html#exiting-a-function"><i class="fa fa-check"></i><b>3.6</b> Exiting a function</a><ul>
<li class="chapter" data-level="3.6.1" data-path="functions.html"><a href="functions.html#implicit-vs.explict-returns"><i class="fa fa-check"></i><b>3.6.1</b> Implicit vs. explict returns</a></li>
<li class="chapter" data-level="3.6.2" data-path="functions.html"><a href="functions.html#invisible-values"><i class="fa fa-check"></i><b>3.6.2</b> Invisible values</a></li>
<li class="chapter" data-level="3.6.3" data-path="functions.html"><a href="functions.html#errors"><i class="fa fa-check"></i><b>3.6.3</b> Errors</a></li>
<li class="chapter" data-level="3.6.4" data-path="functions.html"><a href="functions.html#on-exit"><i class="fa fa-check"></i><b>3.6.4</b> Exit handlers</a></li>
<li class="chapter" data-level="3.6.5" data-path="functions.html"><a href="functions.html#exercises-4"><i class="fa fa-check"></i><b>3.6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="functions.html"><a href="functions.html#function-forms"><i class="fa fa-check"></i><b>3.7</b> Function forms</a><ul>
<li class="chapter" data-level="3.7.1" data-path="functions.html"><a href="functions.html#rewriting-to-prefix-form"><i class="fa fa-check"></i><b>3.7.1</b> Rewriting to prefix form</a></li>
<li class="chapter" data-level="3.7.2" data-path="functions.html"><a href="functions.html#prefix-form-prefix-form"><i class="fa fa-check"></i><b>3.7.2</b> Prefix form {prefix-form}</a></li>
<li class="chapter" data-level="3.7.3" data-path="functions.html"><a href="functions.html#infix-functions"><i class="fa fa-check"></i><b>3.7.3</b> Infix functions</a></li>
<li class="chapter" data-level="3.7.4" data-path="functions.html"><a href="functions.html#replacement-functions"><i class="fa fa-check"></i><b>3.7.4</b> Replacement functions</a></li>
<li class="chapter" data-level="3.7.5" data-path="functions.html"><a href="functions.html#special-forms"><i class="fa fa-check"></i><b>3.7.5</b> Special forms</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="functions.html"><a href="functions.html#invoking-a-function"><i class="fa fa-check"></i><b>3.8</b> Invoking a function</a><ul>
<li class="chapter" data-level="3.8.1" data-path="functions.html"><a href="functions.html#exercises-5"><i class="fa fa-check"></i><b>3.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="functions.html"><a href="functions.html#function-answers"><i class="fa fa-check"></i><b>3.9</b> Quiz answers</a></li>
<li class="chapter" data-level="3.10" data-path="functions.html"><a href="functions.html#quick-view"><i class="fa fa-check"></i><b>3.10</b> quick view</a><ul>
<li class="chapter" data-level="3.10.1" data-path="functions.html"><a href="functions.html#section-3.10.1"><i class="fa fa-check"></i><b>3.10.1</b> 編輯/瀏覽資料</a></li>
<li class="chapter" data-level="3.10.2" data-path="functions.html"><a href="functions.html#section-3.10.2"><i class="fa fa-check"></i><b>3.10.2</b> 個別欄位</a></li>
<li class="chapter" data-level="3.10.3" data-path="functions.html"><a href="functions.html#section-3.10.3"><i class="fa fa-check"></i><b>3.10.3</b> 質性數據的分析</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>4</b> R Packages</a><ul>
<li class="chapter" data-level="4.1" data-path="r-packages.html"><a href="r-packages.html#section-4.1"><i class="fa fa-check"></i><b>4.1</b> 基本</a><ul>
<li class="chapter" data-level="4.1.1" data-path="r-packages.html"><a href="r-packages.html#reference"><i class="fa fa-check"></i><b>4.1.1</b> reference</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="r-packages.html"><a href="r-packages.html#section-4.2"><i class="fa fa-check"></i><b>4.2</b> 範例解析</a><ul>
<li class="chapter" data-level="4.2.1" data-path="r-packages.html"><a href="r-packages.html#test"><i class="fa fa-check"></i><b>4.2.1</b> test</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="r-packages.html"><a href="r-packages.html#debug"><i class="fa fa-check"></i><b>4.3</b> 測試debug</a></li>
<li class="chapter" data-level="4.4" data-path="r-packages.html"><a href="r-packages.html#-package-"><i class="fa fa-check"></i><b>4.4</b> 自製 package 範例</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-type.html"><a href="data-type.html"><i class="fa fa-check"></i><b>5</b> data type</a><ul>
<li class="chapter" data-level="5.1" data-path="data-type.html"><a href="data-type.html#section-5.1"><i class="fa fa-check"></i><b>5.1</b> 基本操作</a><ul>
<li class="chapter" data-level="5.1.1" data-path="data-type.html"><a href="data-type.html#section-5.1.1"><i class="fa fa-check"></i><b>5.1.1</b> 指派</a></li>
<li class="chapter" data-level="5.1.2" data-path="data-type.html"><a href="data-type.html#section-5.1.2"><i class="fa fa-check"></i><b>5.1.2</b> 資源</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-type.html"><a href="data-type.html#section-5.2"><i class="fa fa-check"></i><b>5.2</b> 介紹</a></li>
<li class="chapter" data-level="5.3" data-path="data-type.html"><a href="data-type.html#section-5.3"><i class="fa fa-check"></i><b>5.3</b> 實數的比較</a></li>
<li class="chapter" data-level="5.4" data-path="data-type.html"><a href="data-type.html#section-5.4"><i class="fa fa-check"></i><b>5.4</b> 字串</a><ul>
<li class="chapter" data-level="5.4.1" data-path="data-type.html"><a href="data-type.html#section-5.4.1"><i class="fa fa-check"></i><b>5.4.1</b> 建立字串</a></li>
<li class="chapter" data-level="5.4.2" data-path="data-type.html"><a href="data-type.html#section-5.4.2"><i class="fa fa-check"></i><b>5.4.2</b> 空字串</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="data-type.html"><a href="data-type.html#is-family"><i class="fa fa-check"></i><b>5.5</b> 型態操作is family</a></li>
<li class="chapter" data-level="5.6" data-path="data-type.html"><a href="data-type.html#vector"><i class="fa fa-check"></i><b>5.6</b> vector</a><ul>
<li class="chapter" data-level="5.6.1" data-path="data-type.html"><a href="data-type.html#section-5.6.1"><i class="fa fa-check"></i><b>5.6.1</b> 練習範例</a></li>
<li class="chapter" data-level="5.6.2" data-path="data-type.html"><a href="data-type.html#vector-"><i class="fa fa-check"></i><b>5.6.2</b> vector 相關的運算</a></li>
<li class="chapter" data-level="5.6.3" data-path="data-type.html"><a href="data-type.html#vector"><i class="fa fa-check"></i><b>5.6.3</b> 如何存取vector中的元素</a></li>
<li class="chapter" data-level="5.6.4" data-path="data-type.html"><a href="data-type.html#section-5.6.4"><i class="fa fa-check"></i><b>5.6.4</b> 邏輯做為索引</a></li>
<li class="chapter" data-level="5.6.5" data-path="data-type.html"><a href="data-type.html#-character-vector-"><i class="fa fa-check"></i><b>5.6.5</b> 利用字串( character vector) 作為索引</a></li>
<li class="chapter" data-level="5.6.6" data-path="data-type.html"><a href="data-type.html#how-to-modify-a-vector-in-r"><i class="fa fa-check"></i><b>5.6.6</b> How to modify a vector in R?</a></li>
<li class="chapter" data-level="5.6.7" data-path="data-type.html"><a href="data-type.html#how-to-delete-a-vector"><i class="fa fa-check"></i><b>5.6.7</b> How to delete a Vector?</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="data-type.html"><a href="data-type.html#list"><i class="fa fa-check"></i><b>5.7</b> List</a><ul>
<li class="chapter" data-level="5.7.1" data-path="data-type.html"><a href="data-type.html#creating-a-list"><i class="fa fa-check"></i><b>5.7.1</b> Creating a List</a></li>
<li class="chapter" data-level="5.7.2" data-path="data-type.html"><a href="data-type.html#accessing-list-elements"><i class="fa fa-check"></i><b>5.7.2</b> Accessing List Elements</a></li>
<li class="chapter" data-level="5.7.3" data-path="data-type.html"><a href="data-type.html#manipulating-list-elements"><i class="fa fa-check"></i><b>5.7.3</b> Manipulating List Elements</a></li>
<li class="chapter" data-level="5.7.4" data-path="data-type.html"><a href="data-type.html#merging-lists"><i class="fa fa-check"></i><b>5.7.4</b> Merging Lists</a></li>
<li class="chapter" data-level="5.7.5" data-path="data-type.html"><a href="data-type.html#converting-list-to-vector"><i class="fa fa-check"></i><b>5.7.5</b> Converting List to Vector</a></li>
<li class="chapter" data-level="5.7.6" data-path="data-type.html"><a href="data-type.html#vector-list"><i class="fa fa-check"></i><b>5.7.6</b> 比較vector, list問題</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="data-type.html"><a href="data-type.html#vector-"><i class="fa fa-check"></i><b>5.8</b> vector 函數範例</a><ul>
<li class="chapter" data-level="5.8.1" data-path="data-type.html"><a href="data-type.html#cbindrbind"><i class="fa fa-check"></i><b>5.8.1</b> cbind,rbind</a></li>
<li class="chapter" data-level="5.8.2" data-path="data-type.html"><a href="data-type.html#diff"><i class="fa fa-check"></i><b>5.8.2</b> 函數diff</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="data-type.html"><a href="data-type.html#matrix"><i class="fa fa-check"></i><b>5.9</b> matrix</a></li>
<li class="chapter" data-level="5.10" data-path="data-type.html"><a href="data-type.html#section-5.10"><i class="fa fa-check"></i><b>5.10</b> 字串函數</a></li>
<li class="chapter" data-level="5.11" data-path="data-type.html"><a href="data-type.html#regular-expression-syntax"><i class="fa fa-check"></i><b>5.11</b> Regular expression syntax</a><ul>
<li class="chapter" data-level="5.11.1" data-path="data-type.html"><a href="data-type.html#escape-sequences"><i class="fa fa-check"></i><b>5.11.1</b> Escape sequences</a></li>
<li class="chapter" data-level="5.11.2" data-path="data-type.html"><a href="data-type.html#section-5.11.2"><i class="fa fa-check"></i><b>5.11.2</b> 應用</a></li>
<li class="chapter" data-level="5.11.3" data-path="data-type.html"><a href="data-type.html#quantifiers"><i class="fa fa-check"></i><b>5.11.3</b> 數量修飾詞Quantifiers</a></li>
<li class="chapter" data-level="5.11.4" data-path="data-type.html"><a href="data-type.html#position-of-pattern-within-the-string"><i class="fa fa-check"></i><b>5.11.4</b> Position of pattern within the string</a></li>
<li class="chapter" data-level="5.11.5" data-path="data-type.html"><a href="data-type.html#operators"><i class="fa fa-check"></i><b>5.11.5</b> Operators</a></li>
<li class="chapter" data-level="5.11.6" data-path="data-type.html"><a href="data-type.html#character-classes"><i class="fa fa-check"></i><b>5.11.6</b> Character classes</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="data-type.html"><a href="data-type.html#factors"><i class="fa fa-check"></i><b>5.12</b> Factors</a><ul>
<li class="chapter" data-level="5.12.1" data-path="data-type.html"><a href="data-type.html#data-frames"><i class="fa fa-check"></i><b>5.12.1</b> Data Frames</a></li>
<li class="chapter" data-level="5.12.2" data-path="data-type.html"><a href="data-type.html#logical"><i class="fa fa-check"></i><b>5.12.2</b> Logical</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="data-type.html"><a href="data-type.html#tables"><i class="fa fa-check"></i><b>5.13</b> Tables</a><ul>
<li class="chapter" data-level="5.13.1" data-path="data-type.html"><a href="data-type.html#one-way-tables"><i class="fa fa-check"></i><b>5.13.1</b> One Way Tables</a></li>
<li class="chapter" data-level="5.13.2" data-path="data-type.html"><a href="data-type.html#two-way-tables"><i class="fa fa-check"></i><b>5.13.2</b> Two Way Tables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="assignment.html"><a href="assignment.html"><i class="fa fa-check"></i><b>6</b> assignment</a><ul>
<li class="chapter" data-level="6.1" data-path="assignment.html"><a href="assignment.html#oop"><i class="fa fa-check"></i><b>6.1</b> OOP</a></li>
<li class="chapter" data-level="6.2" data-path="assignment.html"><a href="assignment.html#operator"><i class="fa fa-check"></i><b>6.2</b> operator %&gt;%</a></li>
<li class="chapter" data-level="6.3" data-path="assignment.html"><a href="assignment.html#attribute"><i class="fa fa-check"></i><b>6.3</b> attribute</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i><b>7</b> IO</a><ul>
<li class="chapter" data-level="7.1" data-path="io.html"><a href="io.html#csv"><i class="fa fa-check"></i><b>7.1</b> csv</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="environments.html"><a href="environments.html"><i class="fa fa-check"></i><b>8</b> Environments</a><ul>
<li class="chapter" data-level="8.1" data-path="environments.html"><a href="environments.html#introduction-1"><i class="fa fa-check"></i><b>8.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#quiz"><i class="fa fa-check"></i>Quiz</a></li>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#outline-1"><i class="fa fa-check"></i>Outline</a></li>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="environments.html"><a href="environments.html#env-basics"><i class="fa fa-check"></i><b>8.2</b> Environment basics</a><ul>
<li class="chapter" data-level="8.2.1" data-path="environments.html"><a href="environments.html#basics"><i class="fa fa-check"></i><b>8.2.1</b> Basics</a></li>
<li class="chapter" data-level="8.2.2" data-path="environments.html"><a href="environments.html#important-environments"><i class="fa fa-check"></i><b>8.2.2</b> Important environments</a></li>
<li class="chapter" data-level="8.2.3" data-path="environments.html"><a href="environments.html#parents"><i class="fa fa-check"></i><b>8.2.3</b> Parents</a></li>
<li class="chapter" data-level="8.2.4" data-path="environments.html"><a href="environments.html#getting-and-setting"><i class="fa fa-check"></i><b>8.2.4</b> Getting and setting</a></li>
<li class="chapter" data-level="8.2.5" data-path="environments.html"><a href="environments.html#finalisers"><i class="fa fa-check"></i><b>8.2.5</b> Finalisers</a></li>
<li class="chapter" data-level="8.2.6" data-path="environments.html"><a href="environments.html#advanced-bindings"><i class="fa fa-check"></i><b>8.2.6</b> Advanced bindings</a></li>
<li class="chapter" data-level="8.2.7" data-path="environments.html"><a href="environments.html#exercises-6"><i class="fa fa-check"></i><b>8.2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="environments.html"><a href="environments.html#env-recursion"><i class="fa fa-check"></i><b>8.3</b> Recursing over environments</a><ul>
<li class="chapter" data-level="8.3.1" data-path="environments.html"><a href="environments.html#exercises-7"><i class="fa fa-check"></i><b>8.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="environments.html"><a href="environments.html#function-envs"><i class="fa fa-check"></i><b>8.4</b> Special environments</a><ul>
<li class="chapter" data-level="8.4.1" data-path="environments.html"><a href="environments.html#package-environments-and-the-search-path"><i class="fa fa-check"></i><b>8.4.1</b> Package environments and the search path</a></li>
<li class="chapter" data-level="8.4.2" data-path="environments.html"><a href="environments.html#the-function-environment"><i class="fa fa-check"></i><b>8.4.2</b> The function environment</a></li>
<li class="chapter" data-level="8.4.3" data-path="environments.html"><a href="environments.html#namespaces"><i class="fa fa-check"></i><b>8.4.3</b> Namespaces</a></li>
<li class="chapter" data-level="8.4.4" data-path="environments.html"><a href="environments.html#execution-environments"><i class="fa fa-check"></i><b>8.4.4</b> Execution environments</a></li>
<li class="chapter" data-level="8.4.5" data-path="environments.html"><a href="environments.html#exercises-8"><i class="fa fa-check"></i><b>8.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="environments.html"><a href="environments.html#the-call-stack"><i class="fa fa-check"></i><b>8.5</b> The call stack</a><ul>
<li class="chapter" data-level="8.5.1" data-path="environments.html"><a href="environments.html#simple-call-stacks"><i class="fa fa-check"></i><b>8.5.1</b> Simple call stacks</a></li>
<li class="chapter" data-level="8.5.2" data-path="environments.html"><a href="environments.html#lazy-evaluation-1"><i class="fa fa-check"></i><b>8.5.2</b> Lazy evaluation</a></li>
<li class="chapter" data-level="8.5.3" data-path="environments.html"><a href="environments.html#frames"><i class="fa fa-check"></i><b>8.5.3</b> Frames</a></li>
<li class="chapter" data-level="8.5.4" data-path="environments.html"><a href="environments.html#dynamic-scope"><i class="fa fa-check"></i><b>8.5.4</b> Dynamic scope</a></li>
<li class="chapter" data-level="8.5.5" data-path="environments.html"><a href="environments.html#exercises-9"><i class="fa fa-check"></i><b>8.5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="environments.html"><a href="environments.html#explicit-envs"><i class="fa fa-check"></i><b>8.6</b> As data structures</a></li>
<li class="chapter" data-level="8.7" data-path="environments.html"><a href="environments.html#section"><i class="fa fa-check"></i><b>8.7</b> <code>&lt;&lt;-</code></a><ul>
<li class="chapter" data-level="8.7.1" data-path="environments.html"><a href="environments.html#exercises-10"><i class="fa fa-check"></i><b>8.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="environments.html"><a href="environments.html#env-answers"><i class="fa fa-check"></i><b>8.8</b> Quiz answers</a><ul>
<li class="chapter" data-level="8.8.1" data-path="environments.html"><a href="environments.html#term"><i class="fa fa-check"></i><b>8.8.1</b> term</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html"><i class="fa fa-check"></i><b>9</b> Tidy Basic 01</a><ul>
<li class="chapter" data-level="9.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#long-and-wide-data"><i class="fa fa-check"></i><b>9.1</b> long and wide data</a><ul>
<li class="chapter" data-level="9.1.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#gather-wide-to-long"><i class="fa fa-check"></i><b>9.1.1</b> gather: wide to long</a></li>
<li class="chapter" data-level="9.1.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#spread-long-to-wide"><i class="fa fa-check"></i><b>9.1.2</b> spread :long to wide</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#dplyr"><i class="fa fa-check"></i><b>9.2</b> dplyr</a></li>
<li class="chapter" data-level="9.3" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#other"><i class="fa fa-check"></i><b>9.3</b> other</a><ul>
<li class="chapter" data-level="9.3.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#basic-verbs"><i class="fa fa-check"></i><b>9.3.1</b> Basic verbs</a></li>
<li class="chapter" data-level="9.3.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#group-by"><i class="fa fa-check"></i><b>9.3.2</b> Group by</a></li>
<li class="chapter" data-level="9.3.3" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#summarize"><i class="fa fa-check"></i><b>9.3.3</b> summarize()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="basic-plot.html"><a href="basic-plot.html"><i class="fa fa-check"></i><b>10</b> Basic Plot</a><ul>
<li class="chapter" data-level="10.1" data-path="basic-plot.html"><a href="basic-plot.html#reference-1"><i class="fa fa-check"></i><b>10.1</b> reference</a></li>
<li class="chapter" data-level="10.2" data-path="basic-plot.html"><a href="basic-plot.html#basic"><i class="fa fa-check"></i><b>10.2</b> basic</a><ul>
<li class="chapter" data-level="10.2.1" data-path="basic-plot.html"><a href="basic-plot.html#creating-a-graph"><i class="fa fa-check"></i><b>10.2.1</b> Creating a Graph</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="basic-plot.html"><a href="basic-plot.html#histograms-and-density-plots"><i class="fa fa-check"></i><b>10.3</b> Histograms and Density Plots</a><ul>
<li class="chapter" data-level="10.3.1" data-path="basic-plot.html"><a href="basic-plot.html#histograms"><i class="fa fa-check"></i><b>10.3.1</b> Histograms</a></li>
<li class="chapter" data-level="10.3.2" data-path="basic-plot.html"><a href="basic-plot.html#kernel-density-plot"><i class="fa fa-check"></i><b>10.3.2</b> Kernel Density Plot</a></li>
<li class="chapter" data-level="10.3.3" data-path="basic-plot.html"><a href="basic-plot.html#comparing-groups-via-kernal-density"><i class="fa fa-check"></i><b>10.3.3</b> Comparing Groups VIA Kernal Density</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="basic-plot.html"><a href="basic-plot.html#combining-plots"><i class="fa fa-check"></i><b>10.4</b> Combining Plots</a></li>
<li class="chapter" data-level="10.5" data-path="basic-plot.html"><a href="basic-plot.html#add-texts-within-the-graph"><i class="fa fa-check"></i><b>10.5</b> Add texts within the graph</a><ul>
<li class="chapter" data-level="10.5.1" data-path="basic-plot.html"><a href="basic-plot.html#add-text-in-the-margins-of-the-graph"><i class="fa fa-check"></i><b>10.5.1</b> Add text in the margins of the graph</a></li>
<li class="chapter" data-level="10.5.2" data-path="basic-plot.html"><a href="basic-plot.html#add-mathematical-annotation-to-a-plot"><i class="fa fa-check"></i><b>10.5.2</b> Add mathematical annotation to a plot</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="basic-plot.html"><a href="basic-plot.html#section-10.6"><i class="fa fa-check"></i><b>10.6</b> 函數畫圖</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="rbook-.html"><a href="rbook-.html"><i class="fa fa-check"></i><b>11</b> rbook 提要</a><ul>
<li class="chapter" data-level="11.1" data-path="rbook-.html"><a href="rbook-.html#index.rmd"><i class="fa fa-check"></i><b>11.1</b> index.Rmd</a></li>
<li class="chapter" data-level="11.2" data-path="rbook-.html"><a href="rbook-.html#_output.yml-"><i class="fa fa-check"></i><b>11.2</b> 其他_output.yml 範例</a></li>
<li class="chapter" data-level="11.3" data-path="rbook-.html"><a href="rbook-.html#travis.yml"><i class="fa fa-check"></i><b>11.3</b> .travis.yml</a></li>
<li class="chapter" data-level="11.4" data-path="rbook-.html"><a href="rbook-.html#section-11.4"><i class="fa fa-check"></i><b>11.4</b> 紀錄</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html"><i class="fa fa-check"></i><b>12</b> gitbook introduction</a><ul>
<li class="chapter" data-level="12.1" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#output.yml"><i class="fa fa-check"></i><b>12.1</b> _output.yml:</a></li>
<li class="chapter" data-level="12.2" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#bookdown.yml"><i class="fa fa-check"></i><b>12.2</b> _bookdown.yml:</a></li>
<li class="chapter" data-level="12.3" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#index.rmd-1"><i class="fa fa-check"></i><b>12.3</b> index.rmd</a></li>
<li class="chapter" data-level="12.4" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#section-12.4"><i class="fa fa-check"></i><b>12.4</b> 執行</a></li>
<li class="chapter" data-level="12.5" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#travis"><i class="fa fa-check"></i><b>12.5</b> 加入:Travis</a><ul>
<li class="chapter" data-level="12.5.1" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#travis.yml-1"><i class="fa fa-check"></i><b>12.5.1</b> .travis.yml:</a></li>
<li class="chapter" data-level="12.5.2" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#description"><i class="fa fa-check"></i><b>12.5.2</b> DESCRIPTION</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html"><i class="fa fa-check"></i><b>13</b> Sample and Distribution 01</a><ul>
<li class="chapter" data-level="13.1" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html#section-13.1"><i class="fa fa-check"></i><b>13.1</b> 排列組合與概率的計算</a></li>
<li class="chapter" data-level="13.2" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html#distribution"><i class="fa fa-check"></i><b>13.2</b> distribution</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">test for class</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-type" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> data type</h1>
<div id="section-5.1" class="section level2">
<h2><span class="header-section-number">5.1</span> 基本操作</h2>
<div id="section-5.1.1" class="section level3">
<h3><span class="header-section-number">5.1.1</span> 指派</h3>
<p>雖然也可以用=但是，R的設計是使用&lt;-。</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<p><code>a&lt;-3</code>是一個指派的敘述句,不會回饋資訊到螢幕上。如果要知道a的內容是甚麼,就打入<code>a</code> 或者<code>(a&lt;-3)</code></p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1">    a</a>
<a class="sourceLine" id="cb118-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb118-3" data-line-number="3">(a&lt;-<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb118-4" data-line-number="4"><span class="co">#&gt; [1] 3</span></a></code></pre></div>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">sqrt</span>(a <span class="op">*</span><span class="st"> </span>a <span class="op">+</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb119-2" data-line-number="2">b</a>
<a class="sourceLine" id="cb119-3" data-line-number="3"><span class="co">#&gt; [1] 3.74</span></a></code></pre></div>
<p>在session中的如果要列出已經定義過的變數,可以利用ls</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"><span class="kw">ls</span>()</a>
<a class="sourceLine" id="cb120-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot;</span></a></code></pre></div>
</div>
<div id="section-5.1.2" class="section level3">
<h3><span class="header-section-number">5.1.2</span> 資源</h3>
<ul>
<li><a href="http://adv-r.had.co.nz/Data-structures.html">資料結構</a></li>
</ul>
</div>
</div>
<div id="section-5.2" class="section level2">
<h2><span class="header-section-number">5.2</span> 介紹</h2>
<p>在R語言中,型態不須經過宣告(declared)。 一個變數的型態經由assignment的過程決定,即&lt;-右邊的R-Objects。也就是在指派變數值的時候,同時決定了型態。基本的 R-object有 −</p>
<ul>
<li>Vectors<br />
</li>
<li>Lists<br />
</li>
<li>Matrices</li>
<li>Arrays</li>
<li>Factors</li>
<li>Data Frames</li>
</ul>
<p>最簡單的是vector物件,atomic vector 有6種data types(有時也叫做 6 個classes)</p>
<table>
<thead>
<tr class="header">
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Logical</td>
<td>TRUE, FALSE</td>
</tr>
<tr class="even">
<td>Numeric</td>
<td>1.3, 5, 99</td>
</tr>
<tr class="odd">
<td>Integer</td>
<td>3L, 24L, 0L</td>
</tr>
<tr class="even">
<td>Complex</td>
<td>5 + 4i</td>
</tr>
<tr class="odd">
<td>Character</td>
<td>‘b’ , “good”, “TRUE”, ‘23.4’</td>
</tr>
<tr class="even">
<td>Raw</td>
<td>“Hello” is stored as 48 65 6c 6c 6f</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="ot">TRUE</span> </a>
<a class="sourceLine" id="cb121-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-3" data-line-number="3"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb121-4" data-line-number="4"></a>
<a class="sourceLine" id="cb121-5" data-line-number="5">v &lt;-<span class="st"> </span><span class="fl">23.5</span></a>
<a class="sourceLine" id="cb121-6" data-line-number="6"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-7" data-line-number="7"><span class="co">#&gt; [1] &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb121-8" data-line-number="8"></a>
<a class="sourceLine" id="cb121-9" data-line-number="9">v &lt;-<span class="st"> </span>2L</a>
<a class="sourceLine" id="cb121-10" data-line-number="10"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-11" data-line-number="11"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb121-12" data-line-number="12"></a>
<a class="sourceLine" id="cb121-13" data-line-number="13">v &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">+</span>5i</a>
<a class="sourceLine" id="cb121-14" data-line-number="14"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-15" data-line-number="15"><span class="co">#&gt; [1] &quot;complex&quot;</span></a>
<a class="sourceLine" id="cb121-16" data-line-number="16"></a>
<a class="sourceLine" id="cb121-17" data-line-number="17">v &lt;-<span class="st"> &quot;TRUE&quot;</span></a>
<a class="sourceLine" id="cb121-18" data-line-number="18"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-19" data-line-number="19"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb121-20" data-line-number="20"></a>
<a class="sourceLine" id="cb121-21" data-line-number="21">v &lt;-<span class="st"> </span><span class="kw">charToRaw</span>(<span class="st">&quot;Hello&quot;</span>)</a>
<a class="sourceLine" id="cb121-22" data-line-number="22"><span class="kw">print</span>(<span class="kw">class</span>(v))</a>
<a class="sourceLine" id="cb121-23" data-line-number="23"><span class="co">#&gt; [1] &quot;raw&quot;</span></a></code></pre></div>
</div>
<div id="section-5.3" class="section level2">
<h2><span class="header-section-number">5.3</span> 實數的比較</h2>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"></a>
<a class="sourceLine" id="cb122-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb122-3" data-line-number="3">y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb122-4" data-line-number="4">y[<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb122-5" data-line-number="5"><span class="co">#&gt; [1] 0.6</span></a>
<a class="sourceLine" id="cb122-6" data-line-number="6">x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb122-7" data-line-number="7"><span class="co">#&gt; [1] 0.4</span></a>
<a class="sourceLine" id="cb122-8" data-line-number="8"><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb122-9" data-line-number="9"><span class="co">#&gt; [1] 0.6</span></a>
<a class="sourceLine" id="cb122-10" data-line-number="10">y[<span class="dv">4</span>] <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb122-11" data-line-number="11"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb122-12" data-line-number="12">y[<span class="dv">4</span>] <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb122-13" data-line-number="13"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb122-14" data-line-number="14"><span class="co">## note:</span></a>
<a class="sourceLine" id="cb122-15" data-line-number="15"><span class="kw">all.equal</span>(y[<span class="dv">4</span>], <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>])</a>
<a class="sourceLine" id="cb122-16" data-line-number="16"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb122-17" data-line-number="17"><span class="co">## Q: what is the result of : 1-0.4 ==0.6</span></a></code></pre></div>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1"><span class="fl">0.1+0.2</span> <span class="op">==</span><span class="st"> </span><span class="fl">0.3</span></a>
<a class="sourceLine" id="cb123-2" data-line-number="2"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb123-3" data-line-number="3"><span class="kw">all.equal</span>(<span class="fl">0.1+0.2</span>,<span class="fl">0.3</span>)</a>
<a class="sourceLine" id="cb123-4" data-line-number="4"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
<div id="section-5.4" class="section level2">
<h2><span class="header-section-number">5.4</span> 字串</h2>
<p><a href="https://www.gastonsanchez.com/r4strings/chars.html">參考</a></p>
<div id="section-5.4.1" class="section level3">
<h3><span class="header-section-number">5.4.1</span> 建立字串</h3>
<p>可以是 雙引號中&quot;&quot; 或 單引號中’’。
字串中如果有雙引號,或單引號，則如下表示:<br />
“‘這個’來自’那個’”</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1">a &lt;-<span class="st"> &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb124-2" data-line-number="2">a</a>
<a class="sourceLine" id="cb124-3" data-line-number="3"><span class="co">#&gt; [1] &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb124-4" data-line-number="4"><span class="kw">typeof</span>(a)</a>
<a class="sourceLine" id="cb124-5" data-line-number="5"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<p>利用函數:character() 這個函數的參數,為整數,建立一個list,裡面的元素都是空字串</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1"><span class="co"># 變數ex初始化為character vector,參看後面的討論</span></a>
<a class="sourceLine" id="cb125-2" data-line-number="2">(ex &lt;-<span class="st"> </span><span class="kw">character</span>(<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb125-3" data-line-number="3"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb125-4" data-line-number="4"><span class="kw">length</span>(ex)</a>
<a class="sourceLine" id="cb125-5" data-line-number="5"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb125-6" data-line-number="6"><span class="kw">class</span>(ex)</a>
<a class="sourceLine" id="cb125-7" data-line-number="7"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb125-8" data-line-number="8"></a>
<a class="sourceLine" id="cb125-9" data-line-number="9"><span class="co"># 如果剛剛沒有設定ex &lt;- character(0),這裡會發生錯誤</span></a>
<a class="sourceLine" id="cb125-10" data-line-number="10">(ex[<span class="dv">1</span>] &lt;-<span class="st"> &quot;first&quot;</span>)</a>
<a class="sourceLine" id="cb125-11" data-line-number="11"><span class="co">#&gt; [1] &quot;first&quot;</span></a>
<a class="sourceLine" id="cb125-12" data-line-number="12"></a>
<a class="sourceLine" id="cb125-13" data-line-number="13"><span class="co"># check its length again</span></a>
<a class="sourceLine" id="cb125-14" data-line-number="14"><span class="kw">length</span>(ex)</a>
<a class="sourceLine" id="cb125-15" data-line-number="15"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p>索引可以用跳的:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">(ex[<span class="dv">4</span>] &lt;-<span class="st"> &quot;fourth&quot;</span>)</a>
<a class="sourceLine" id="cb126-2" data-line-number="2"><span class="co">#&gt; [1] &quot;fourth&quot;</span></a>
<a class="sourceLine" id="cb126-3" data-line-number="3"><span class="kw">length</span>(ex)</a>
<a class="sourceLine" id="cb126-4" data-line-number="4"><span class="co">#&gt; [1] 4</span></a>
<a class="sourceLine" id="cb126-5" data-line-number="5"><span class="kw">typeof</span>(ex)</a>
<a class="sourceLine" id="cb126-6" data-line-number="6"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb126-7" data-line-number="7">ex</a>
<a class="sourceLine" id="cb126-8" data-line-number="8"><span class="co">#&gt; [1] &quot;first&quot;  NA       NA       &quot;fourth&quot;</span></a></code></pre></div>
<p>跳過的索引,內容自動為<code>NA</code>.</p>
</div>
<div id="section-5.4.2" class="section level3">
<h3><span class="header-section-number">5.4.2</span> 空字串</h3>
<p>引號內連空白都沒有的字串:
(比較上面利用character(5)可以建立5個元素為空字串的vector。)</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1"><span class="co"># empty string</span></a>
<a class="sourceLine" id="cb127-2" data-line-number="2">empty_str &lt;-<span class="st"> &quot;&quot;</span></a>
<a class="sourceLine" id="cb127-3" data-line-number="3">empty_str</a>
<a class="sourceLine" id="cb127-4" data-line-number="4"><span class="co">#&gt; [1] &quot;&quot;</span></a>
<a class="sourceLine" id="cb127-5" data-line-number="5"></a>
<a class="sourceLine" id="cb127-6" data-line-number="6"><span class="co"># class</span></a>
<a class="sourceLine" id="cb127-7" data-line-number="7"><span class="kw">class</span>(empty_str)</a>
<a class="sourceLine" id="cb127-8" data-line-number="8"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div id="character0" class="section level4">
<h4><span class="header-section-number">5.4.2.1</span> 討論character(0)</h4>
<p>前面說character(2),可以傳回長度2,每個元素都是空白字串&quot;&quot;的向量,那麼character(0)是甚麼?
除了前面提到的變數初始化為向量(也許可以說是向量宣告)
例如,整數也是這樣</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">zz&lt;-<span class="kw">integer</span>(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb128-2" data-line-number="2">zz[<span class="dv">4</span>]=<span class="dv">6</span></a>
<a class="sourceLine" id="cb128-3" data-line-number="3">zz</a>
<a class="sourceLine" id="cb128-4" data-line-number="4"><span class="co">#&gt; [1] NA NA NA  6</span></a></code></pre></div>
<p>這裡對character(0)做一些測試:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1">ex1&lt;-<span class="kw">character</span>(<span class="dv">0</span>) </a>
<a class="sourceLine" id="cb129-2" data-line-number="2">ex2&lt;-<span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb129-3" data-line-number="3"></a>
<a class="sourceLine" id="cb129-4" data-line-number="4"><span class="kw">typeof</span>(ex1)</a>
<a class="sourceLine" id="cb129-5" data-line-number="5"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb129-6" data-line-number="6"><span class="kw">typeof</span>(ex2)</a>
<a class="sourceLine" id="cb129-7" data-line-number="7"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="kw">str</span>(ex1)</a>
<a class="sourceLine" id="cb130-2" data-line-number="2"><span class="co">#&gt;  chr(0)</span></a>
<a class="sourceLine" id="cb130-3" data-line-number="3"><span class="kw">str</span>(ex2)</a>
<a class="sourceLine" id="cb130-4" data-line-number="4"><span class="co">#&gt;  chr &quot;&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1"><span class="kw">class</span>(ex1)</a>
<a class="sourceLine" id="cb131-2" data-line-number="2"><span class="co">#&gt; [1] &quot;character&quot;</span></a>
<a class="sourceLine" id="cb131-3" data-line-number="3"><span class="kw">class</span>(ex2)</a>
<a class="sourceLine" id="cb131-4" data-line-number="4"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1"><span class="kw">is.list</span>(ex1)</a>
<a class="sourceLine" id="cb132-2" data-line-number="2"><span class="co">#&gt; [1] FALSE</span></a>
<a class="sourceLine" id="cb132-3" data-line-number="3"><span class="kw">is.list</span>(ex2)</a>
<a class="sourceLine" id="cb132-4" data-line-number="4"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
<p>surprise: 一個字元也是向量。</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="kw">is.vector</span>(ex1)</a>
<a class="sourceLine" id="cb133-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb133-3" data-line-number="3"><span class="kw">is.vector</span>(ex2)</a>
<a class="sourceLine" id="cb133-4" data-line-number="4"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1"><span class="kw">length</span>(ex1)</a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="co">#&gt; [1] 0</span></a>
<a class="sourceLine" id="cb134-3" data-line-number="3"><span class="kw">length</span>(ex2)</a>
<a class="sourceLine" id="cb134-4" data-line-number="4"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p>最後,這兩個是不是相等</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" data-line-number="1">ex1<span class="op">==</span>ex2</a>
<a class="sourceLine" id="cb135-2" data-line-number="2"><span class="co">#&gt; logical(0)</span></a></code></pre></div>
</div>
</div>
</div>
<div id="is-family" class="section level2">
<h2><span class="header-section-number">5.5</span> 型態操作is family</h2>
<p>is.numeric(), is.integer(), and is.double()
## 型態轉換 as family</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb136-2" data-line-number="2"><span class="kw">as.numeric</span>(a)</a>
<a class="sourceLine" id="cb136-3" data-line-number="3"><span class="co">#&gt; [1] 1 0</span></a>
<a class="sourceLine" id="cb136-4" data-line-number="4">an&lt;-<span class="kw">as.logical</span>(a)</a>
<a class="sourceLine" id="cb136-5" data-line-number="5">an</a>
<a class="sourceLine" id="cb136-6" data-line-number="6"><span class="co">#&gt; [1]  TRUE FALSE</span></a></code></pre></div>
</div>
<div id="vector" class="section level2">
<h2><span class="header-section-number">5.6</span> vector</h2>
<p>利用<code>c</code>函數，可以使用vector存放一個以上的數字。</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb137-2" data-line-number="2">a1 =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a></code></pre></div>
<p>有關list的運算:加減乘除等等</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb138-2" data-line-number="2">a<span class="op">+</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb138-3" data-line-number="3"><span class="co">#&gt; [1] 2 3 4 5 6</span></a></code></pre></div>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"><span class="kw">mean</span>(a)</a>
<a class="sourceLine" id="cb139-2" data-line-number="2"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb139-3" data-line-number="3"><span class="kw">var</span>(a)</a>
<a class="sourceLine" id="cb139-4" data-line-number="4"><span class="co">#&gt; [1] 2.5</span></a>
<a class="sourceLine" id="cb139-5" data-line-number="5"><span class="kw">summary</span>(a)</a>
<a class="sourceLine" id="cb139-6" data-line-number="6"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb139-7" data-line-number="7"><span class="co">#&gt;       1       2       3       3       4       5</span></a></code></pre></div>
<p>list的元素,利用中括號</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1">a =<span class="st"> </span><span class="dv">2</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2">a[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb140-3" data-line-number="3"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb140-4" data-line-number="4">a[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb140-5" data-line-number="5"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb140-6" data-line-number="6">a[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb140-7" data-line-number="7"><span class="co">#&gt; integer(0)</span></a>
<a class="sourceLine" id="cb140-8" data-line-number="8">a[<span class="dv">6</span>]</a>
<a class="sourceLine" id="cb140-9" data-line-number="9"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>在R中,的最小的索引值為1base.如果給索引為0,可以知道資料是否被排序。 超出索引範圍得到&quot;NA。</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1">a=<span class="dv">2</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2">x =<span class="st"> </span>a[<span class="dv">6</span>]</a></code></pre></div>
<div class="sidebar">
<p>如何判斷是否NA</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1">x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>上面的比較沒有意義,和NA的任何運算都是NA</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1">r =<span class="st"> </span>x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb143-2" data-line-number="2">r</a>
<a class="sourceLine" id="cb143-3" data-line-number="3"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>結論:任何變數和NA運算,結果還是NA<br />
另一種方法</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="kw">print</span>(x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span>)</a>
<a class="sourceLine" id="cb144-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a></code></pre></div>
<p>如何判斷NA ? <code>is.na()</code></p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1">    <span class="kw">is.na</span>(a[<span class="dv">6</span>])</a>
<a class="sourceLine" id="cb145-2" data-line-number="2"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
<p>初始化向量,可以利用a&lt;-10 或指定numeric(double)型態</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">numeric</span>(<span class="dv">10</span>) </a>
<a class="sourceLine" id="cb146-2" data-line-number="2">a</a>
<a class="sourceLine" id="cb146-3" data-line-number="3"><span class="co">#&gt;  [1] 0 0 0 0 0 0 0 0 0 0</span></a></code></pre></div>
<p>如果想要知到變數的資料型別,利用函數typeof()</p>
<p>typeof()函數回傳的結果是“字串”</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1"><span class="kw">typeof</span>(a) <span class="co"># 結果是&quot;double&quot;</span></a>
<a class="sourceLine" id="cb147-2" data-line-number="2"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb147-3" data-line-number="3">s =<span class="st"> </span><span class="kw">typeof</span>(a)</a>
<a class="sourceLine" id="cb147-4" data-line-number="4">s</a>
<a class="sourceLine" id="cb147-5" data-line-number="5"><span class="co">#&gt; [1] &quot;double&quot;</span></a>
<a class="sourceLine" id="cb147-6" data-line-number="6"><span class="kw">typeof</span>(s) <span class="co">#結果是 &quot;character&quot;</span></a>
<a class="sourceLine" id="cb147-7" data-line-number="7"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div id="section-5.6.1" class="section level3">
<h3><span class="header-section-number">5.6.1</span> 練習範例</h3>
<p>Q1. a,a1,a2 屬於甚麼型態</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1">a =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb148-2" data-line-number="2">a1 =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb148-3" data-line-number="3">a2 =<span class="st"> </span><span class="kw">numeric</span>(<span class="dv">4</span>)</a></code></pre></div>
<p>A1</p>
<p>Q2:a3的長度是甚麼?2,或6</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1">a1&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb149-2" data-line-number="2">a2&lt;-<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb149-3" data-line-number="3">a3&lt;-<span class="kw">c</span>(a1,a2)</a></code></pre></div>
<p>HINT:
a1
a2
a3;length(a3)</p>
<div class="sidebar">
<h2 id="vector"><span class="header-section-number">5.6.1</span> 字串和vector</h2>
<p>在EXCEL中，vector 一般指的是只放元素為數字的陣列(array);而陣列是可以存數字和文字的區域。table是有欄位的陣列。
但是在R語言中,vector 只是元素型態相同即可。</p>
</div>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1">a &lt;-<span class="st"> &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb150-2" data-line-number="2">a</a>
<a class="sourceLine" id="cb150-3" data-line-number="3"><span class="co">#&gt; [1] &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb150-4" data-line-number="4"><span class="kw">typeof</span>(a)</a>
<a class="sourceLine" id="cb150-5" data-line-number="5"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>)</a>
<a class="sourceLine" id="cb151-2" data-line-number="2">b</a>
<a class="sourceLine" id="cb151-3" data-line-number="3"><span class="co">#&gt; [1] &quot;hello&quot; &quot;there&quot;</span></a>
<a class="sourceLine" id="cb151-4" data-line-number="4">b[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb151-5" data-line-number="5"><span class="co">#&gt; [1] &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb151-6" data-line-number="6"></a>
<a class="sourceLine" id="cb151-7" data-line-number="7"><span class="kw">typeof</span>(b)</a>
<a class="sourceLine" id="cb151-8" data-line-number="8"><span class="co">#&gt; [1] &quot;character&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1">(<span class="dt">a =</span> <span class="kw">character</span>(<span class="dv">5</span>)) <span class="co"># 產生5個空白字串</span></a>
<a class="sourceLine" id="cb152-2" data-line-number="2"><span class="co">#&gt; [1] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;</span></a>
<a class="sourceLine" id="cb152-3" data-line-number="3">(<span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]) <span class="co"># 注意,letters不是函數</span></a>
<a class="sourceLine" id="cb152-4" data-line-number="4"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</span></a>
<a class="sourceLine" id="cb152-5" data-line-number="5">letters</a>
<a class="sourceLine" id="cb152-6" data-line-number="6"><span class="co">#&gt;  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot;</span></a>
<a class="sourceLine" id="cb152-7" data-line-number="7"><span class="co">#&gt; [18] &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span></a></code></pre></div>
<p>因為c函數的運算結果為vector,因此下例中,其元素都是字串</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"> (a&lt;-<span class="kw">c</span>(<span class="st">&quot;d&quot;</span>,<span class="dv">4</span>,<span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb153-2" data-line-number="2"><span class="co">#&gt; [1] &quot;d&quot;    &quot;4&quot;    &quot;TRUE&quot;</span></a></code></pre></div>
<p>問題:
怎樣知道r是空集合?</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"></a>
<a class="sourceLine" id="cb154-2" data-line-number="2">y &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] </a>
<a class="sourceLine" id="cb154-3" data-line-number="3">z &lt;-<span class="st"> </span>letters[<span class="dv">4</span><span class="op">:</span><span class="dv">6</span>] </a>
<a class="sourceLine" id="cb154-4" data-line-number="4">r&lt;-<span class="kw">intersect</span>(y,z) </a>
<a class="sourceLine" id="cb154-5" data-line-number="5">r</a>
<a class="sourceLine" id="cb154-6" data-line-number="6"><span class="co">#&gt; character(0)</span></a>
<a class="sourceLine" id="cb154-7" data-line-number="7"><span class="kw">is.na</span>(r)</a>
<a class="sourceLine" id="cb154-8" data-line-number="8"><span class="co">#&gt; logical(0)</span></a></code></pre></div>
<p>另外,當vector有多個字串,而使用索引0的時候,也會出現 <code>character(0)</code>,例如:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1">string &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;sun&#39;</span>, <span class="st">&#39;sky&#39;</span>, <span class="st">&#39;clouds&#39;</span>)</a>
<a class="sourceLine" id="cb155-2" data-line-number="2">string[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb155-3" data-line-number="3"><span class="co">#&gt; character(0)</span></a></code></pre></div>
</div>
<div id="vector-" class="section level3">
<h3><span class="header-section-number">5.6.2</span> vector 相關的運算</h3>
<p>連續數字可以利用操作元<code>:</code>,例如:</p>
<p>x &lt;- 1:7; x
y &lt;- 2:-2; y</p>
<p>比較複雜的序列可以利用函數 seq() ,例如</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.2</span>)          <span class="co"># specify step size</span></a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="co">#&gt;  [1] 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0</span></a></code></pre></div>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dt">length.out=</span><span class="dv">4</span>)    <span class="co"># specify length of the vector</span></a>
<a class="sourceLine" id="cb157-2" data-line-number="2"><span class="co">#&gt; [1] 1.00 2.33 3.67 5.00</span></a></code></pre></div>
</div>
<div id="vector" class="section level3">
<h3><span class="header-section-number">5.6.3</span> 如何存取vector中的元素</h3>
<p>元素索引可以利用 logical, integer or character vector.</p>
<p>如果利用整數索引,則從1開始.但是,如果索引值給的是負數(例如-2),則除了2號元素以外,都會被傳回。但是不能同時有正負。同時,浮點數會被truncated。</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb158-2" data-line-number="2">[<span class="dv">1</span>]  <span class="dv">0</span>  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">6</span>  <span class="dv">8</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb158-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">3</span>]           <span class="co"># access 3rd element</span></a>
<a class="sourceLine" id="cb158-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">4</span></a>
<a class="sourceLine" id="cb158-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]     <span class="co"># access 2nd and 4th element</span></a>
<a class="sourceLine" id="cb158-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb158-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x[<span class="op">-</span><span class="dv">1</span>]          <span class="co"># access all but 1st element</span></a>
<a class="sourceLine" id="cb158-8" data-line-number="8">[<span class="dv">1</span>]  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">6</span>  <span class="dv">8</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb158-9" data-line-number="9"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">-4</span>)]    <span class="co"># 不能混合正負</span></a>
<a class="sourceLine" id="cb158-10" data-line-number="10">Error <span class="cf">in</span> x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">-4</span>)] <span class="op">:</span><span class="st"> </span>only <span class="dv">0</span><span class="st">&#39;s may be mixed with negative subscripts</span></a>
<a class="sourceLine" id="cb158-11" data-line-number="11"><span class="st">&gt; x[c(2.4, 3.54)]    # real numbers are truncated to integers</span></a>
<a class="sourceLine" id="cb158-12" data-line-number="12"><span class="st">[1] 2 4</span></a></code></pre></div>
</div>
<div id="section-5.6.4" class="section level3">
<h3><span class="header-section-number">5.6.4</span> 邏輯做為索引</h3>
<p>說是索引有點誤導,可以認為是元素篩選。例如</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]</a>
<a class="sourceLine" id="cb159-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span>  <span class="dv">3</span></a>
<a class="sourceLine" id="cb159-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[x <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>]  <span class="co"># filtering vectors based on conditions</span></a>
<a class="sourceLine" id="cb159-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-1</span></a>
<a class="sourceLine" id="cb159-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb159-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">3</span></a></code></pre></div>
<p>In the above example, the expression x&gt;0 will yield a logical vector (FALSE, FALSE, FALSE, TRUE) which is then used for indexing.</p>
</div>
<div id="-character-vector-" class="section level3">
<h3><span class="header-section-number">5.6.5</span> 利用字串( character vector) 作為索引</h3>
<p>每個元素可以有名稱:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;first&quot;</span>=<span class="dv">3</span>, <span class="st">&quot;second&quot;</span>=<span class="dv">0</span>, <span class="st">&quot;third&quot;</span>=<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb160-2" data-line-number="2"><span class="op">&gt;</span><span class="st"> </span><span class="kw">names</span>(x)</a>
<a class="sourceLine" id="cb160-3" data-line-number="3">[<span class="dv">1</span>] <span class="st">&quot;first&quot;</span>  <span class="st">&quot;second&quot;</span> <span class="st">&quot;third&quot;</span> </a>
<a class="sourceLine" id="cb160-4" data-line-number="4"><span class="op">&gt;</span><span class="st"> </span>x[<span class="st">&quot;second&quot;</span>]</a>
<a class="sourceLine" id="cb160-5" data-line-number="5">second </a>
<a class="sourceLine" id="cb160-6" data-line-number="6"><span class="dv">0</span> </a>
<a class="sourceLine" id="cb160-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="st">&quot;first&quot;</span>, <span class="st">&quot;third&quot;</span>)]</a>
<a class="sourceLine" id="cb160-8" data-line-number="8">first third </a>
<a class="sourceLine" id="cb160-9" data-line-number="9"><span class="dv">3</span>     <span class="dv">9</span></a></code></pre></div>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dt">y=</span><span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb161-2" data-line-number="2">a[<span class="st">&quot;x1&quot;</span>] <span class="co"># 不是a[x1]</span></a>
<a class="sourceLine" id="cb161-3" data-line-number="3"><span class="co">#&gt; x1 </span></a>
<a class="sourceLine" id="cb161-4" data-line-number="4"><span class="co">#&gt;  1</span></a></code></pre></div>
<p>[] 和[[]]的差別:<br />
原來是甚麼(例如,list 或vector),[]只是返回子集合(仍然是list或vector),但是[[]]則是返回內容.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"></a>
<a class="sourceLine" id="cb162-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>, <span class="dt">c =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb162-3" data-line-number="3">x[<span class="st">&quot;a&quot;</span>]</a>
<a class="sourceLine" id="cb162-4" data-line-number="4"><span class="co">#&gt; a </span></a>
<a class="sourceLine" id="cb162-5" data-line-number="5"><span class="co">#&gt; 1</span></a>
<a class="sourceLine" id="cb162-6" data-line-number="6">x[[<span class="st">&quot;a&quot;</span>]]</a>
<a class="sourceLine" id="cb162-7" data-line-number="7"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb162-8" data-line-number="8">x[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb162-9" data-line-number="9"><span class="co">#&gt; a </span></a>
<a class="sourceLine" id="cb162-10" data-line-number="10"><span class="co">#&gt; 1</span></a>
<a class="sourceLine" id="cb162-11" data-line-number="11">x[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb162-12" data-line-number="12"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p>和list的區別是
1. $
1. 不必有&quot;&quot;</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1">a1&lt;-<span class="kw">list</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dt">y=</span><span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb163-2" data-line-number="2">a1<span class="op">$</span>x</a>
<a class="sourceLine" id="cb163-3" data-line-number="3"><span class="co">#&gt; [1] 1 2</span></a></code></pre></div>
</div>
<div id="how-to-modify-a-vector-in-r" class="section level3">
<h3><span class="header-section-number">5.6.6</span> How to modify a vector in R?</h3>
<p>We can modify a vector using the assignment operator.</p>
<p>We can use the techniques discussed above to access specific elements and modify them.</p>
<p>If we want to truncate the elements, we can use reassignments.</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb164-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-2</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb164-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">0</span>; x        <span class="co"># modify 2nd element</span></a>
<a class="sourceLine" id="cb164-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">-3</span>  <span class="dv">0</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb164-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[x<span class="op">&lt;</span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">5</span>; x   <span class="co"># modify elements less than 0</span></a>
<a class="sourceLine" id="cb164-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">0</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb164-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span>x[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]; x      <span class="co"># truncate x to first 4 elements</span></a>
<a class="sourceLine" id="cb164-8" data-line-number="8">[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">0</span> <span class="dv">5</span> <span class="dv">0</span></a></code></pre></div>
</div>
<div id="how-to-delete-a-vector" class="section level3">
<h3><span class="header-section-number">5.6.7</span> How to delete a Vector?</h3>
<p>We can delete a vector by simply assigning a NULL to it.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb165-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-2</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb165-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb165-4" data-line-number="4"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb165-5" data-line-number="5"><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb165-6" data-line-number="6"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb165-7" data-line-number="7"><span class="ot">NULL</span></a></code></pre></div>

</div>
</div>
<div id="list" class="section level2">
<h2><span class="header-section-number">5.7</span> List</h2>
<p>Lists are the R objects which contain elements of different types like − numbers, strings, vectors and another list inside it. A list can also contain a matrix or a function as its elements. List is created using list() function.</p>
<div id="creating-a-list" class="section level3">
<h3><span class="header-section-number">5.7.1</span> Creating a List</h3>
<p>包含多種type的List: strings, numbers, vectors and a logical values.</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Green&quot;</span>, <span class="kw">c</span>(<span class="dv">21</span>,<span class="dv">32</span>,<span class="dv">11</span>), <span class="ot">TRUE</span>, <span class="fl">51.23</span>, <span class="fl">119.1</span>)</a>
<a class="sourceLine" id="cb166-2" data-line-number="2"><span class="kw">print</span>(list_data)</a>
<a class="sourceLine" id="cb166-3" data-line-number="3"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb166-4" data-line-number="4"><span class="co">#&gt; [1] &quot;Red&quot;</span></a>
<a class="sourceLine" id="cb166-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb166-6" data-line-number="6"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb166-7" data-line-number="7"><span class="co">#&gt; [1] &quot;Green&quot;</span></a>
<a class="sourceLine" id="cb166-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb166-9" data-line-number="9"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb166-10" data-line-number="10"><span class="co">#&gt; [1] 21 32 11</span></a>
<a class="sourceLine" id="cb166-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb166-12" data-line-number="12"><span class="co">#&gt; [[4]]</span></a>
<a class="sourceLine" id="cb166-13" data-line-number="13"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb166-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb166-15" data-line-number="15"><span class="co">#&gt; [[5]]</span></a>
<a class="sourceLine" id="cb166-16" data-line-number="16"><span class="co">#&gt; [1] 51.2</span></a>
<a class="sourceLine" id="cb166-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb166-18" data-line-number="18"><span class="co">#&gt; [[6]]</span></a>
<a class="sourceLine" id="cb166-19" data-line-number="19"><span class="co">#&gt; [1] 119</span></a></code></pre></div>
<p>　
### Naming List Elements</p>
<p>The list elements can be given names and they can be accessed using these names.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1"></a>
<a class="sourceLine" id="cb167-2" data-line-number="2"><span class="co">#Create a list containing a vector, a matrix and a list.</span></a>
<a class="sourceLine" id="cb167-3" data-line-number="3">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb167-4" data-line-number="4">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb167-5" data-line-number="5"></a>
<a class="sourceLine" id="cb167-6" data-line-number="6"><span class="co">#Give names to the elements in the list.</span></a>
<a class="sourceLine" id="cb167-7" data-line-number="7"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb167-8" data-line-number="8"></a>
<a class="sourceLine" id="cb167-9" data-line-number="9"><span class="co">#Show the list.</span></a>
<a class="sourceLine" id="cb167-10" data-line-number="10"><span class="kw">print</span>(list_data)</a>
<a class="sourceLine" id="cb167-11" data-line-number="11"><span class="co">#&gt; $`1st Quarter`</span></a>
<a class="sourceLine" id="cb167-12" data-line-number="12"><span class="co">#&gt; [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;</span></a>
<a class="sourceLine" id="cb167-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb167-14" data-line-number="14"><span class="co">#&gt; $A_Matrix</span></a>
<a class="sourceLine" id="cb167-15" data-line-number="15"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb167-16" data-line-number="16"><span class="co">#&gt; [1,]    3    5   -2</span></a>
<a class="sourceLine" id="cb167-17" data-line-number="17"><span class="co">#&gt; [2,]    9    1    8</span></a>
<a class="sourceLine" id="cb167-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb167-19" data-line-number="19"><span class="co">#&gt; $`A Inner list`</span></a>
<a class="sourceLine" id="cb167-20" data-line-number="20"><span class="co">#&gt; $`A Inner list`[[1]]</span></a>
<a class="sourceLine" id="cb167-21" data-line-number="21"><span class="co">#&gt; [1] &quot;green&quot;</span></a>
<a class="sourceLine" id="cb167-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb167-23" data-line-number="23"><span class="co">#&gt; $`A Inner list`[[2]]</span></a>
<a class="sourceLine" id="cb167-24" data-line-number="24"><span class="co">#&gt; [1] 12.3</span></a></code></pre></div>
</div>
<div id="accessing-list-elements" class="section level3">
<h3><span class="header-section-number">5.7.2</span> Accessing List Elements</h3>
<p>Elements of the list can be accessed by the index of the element in the list. In case of named lists it can also be accessed using the names.</p>
<p>We continue to use the list in the above example −</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" data-line-number="1"><span class="co"># Create a list containing a vector, a matrix and a list.</span></a>
<a class="sourceLine" id="cb168-2" data-line-number="2">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb168-3" data-line-number="3">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb168-4" data-line-number="4"></a>
<a class="sourceLine" id="cb168-5" data-line-number="5"><span class="co"># Give names to the elements in the list.</span></a>
<a class="sourceLine" id="cb168-6" data-line-number="6"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb168-7" data-line-number="7"></a>
<a class="sourceLine" id="cb168-8" data-line-number="8"><span class="co"># Access the first element of the list.</span></a>
<a class="sourceLine" id="cb168-9" data-line-number="9"><span class="kw">print</span>(list_data[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb168-10" data-line-number="10"><span class="co">#&gt; $`1st Quarter`</span></a>
<a class="sourceLine" id="cb168-11" data-line-number="11"><span class="co">#&gt; [1] &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot;</span></a>
<a class="sourceLine" id="cb168-12" data-line-number="12"></a>
<a class="sourceLine" id="cb168-13" data-line-number="13"><span class="co"># Access the thrid element. As it is also a list, all its elements will be printed.</span></a>
<a class="sourceLine" id="cb168-14" data-line-number="14"><span class="kw">print</span>(list_data[<span class="dv">3</span>])</a>
<a class="sourceLine" id="cb168-15" data-line-number="15"><span class="co">#&gt; $`A Inner list`</span></a>
<a class="sourceLine" id="cb168-16" data-line-number="16"><span class="co">#&gt; $`A Inner list`[[1]]</span></a>
<a class="sourceLine" id="cb168-17" data-line-number="17"><span class="co">#&gt; [1] &quot;green&quot;</span></a>
<a class="sourceLine" id="cb168-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb168-19" data-line-number="19"><span class="co">#&gt; $`A Inner list`[[2]]</span></a>
<a class="sourceLine" id="cb168-20" data-line-number="20"><span class="co">#&gt; [1] 12.3</span></a>
<a class="sourceLine" id="cb168-21" data-line-number="21"></a>
<a class="sourceLine" id="cb168-22" data-line-number="22"><span class="co"># Access the list element using the name of the element.</span></a>
<a class="sourceLine" id="cb168-23" data-line-number="23"><span class="kw">print</span>(list_data<span class="op">$</span>A_Matrix)</a>
<a class="sourceLine" id="cb168-24" data-line-number="24"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb168-25" data-line-number="25"><span class="co">#&gt; [1,]    3    5   -2</span></a>
<a class="sourceLine" id="cb168-26" data-line-number="26"><span class="co">#&gt; [2,]    9    1    8</span></a></code></pre></div>
</div>
<div id="manipulating-list-elements" class="section level3">
<h3><span class="header-section-number">5.7.3</span> Manipulating List Elements</h3>
<p>We can add, delete and update list elements as shown below. We can add and delete elements only at the end of a list. But we can update any element.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1"><span class="co"># Create a list containing a vector, a matrix and a list.</span></a>
<a class="sourceLine" id="cb169-2" data-line-number="2">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb169-3" data-line-number="3">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb169-4" data-line-number="4"></a>
<a class="sourceLine" id="cb169-5" data-line-number="5"><span class="co"># Give names to the elements in the list.</span></a>
<a class="sourceLine" id="cb169-6" data-line-number="6"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb169-7" data-line-number="7"></a>
<a class="sourceLine" id="cb169-8" data-line-number="8"><span class="co"># Add element at the end of the list.</span></a>
<a class="sourceLine" id="cb169-9" data-line-number="9">list_data[<span class="dv">4</span>] &lt;-<span class="st"> &quot;New element&quot;</span></a>
<a class="sourceLine" id="cb169-10" data-line-number="10"><span class="kw">print</span>(list_data[<span class="dv">4</span>])</a>
<a class="sourceLine" id="cb169-11" data-line-number="11"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb169-12" data-line-number="12"><span class="co">#&gt; [1] &quot;New element&quot;</span></a>
<a class="sourceLine" id="cb169-13" data-line-number="13"></a>
<a class="sourceLine" id="cb169-14" data-line-number="14"><span class="co"># Remove the last element.</span></a>
<a class="sourceLine" id="cb169-15" data-line-number="15">list_data[<span class="dv">4</span>] &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb169-16" data-line-number="16"></a>
<a class="sourceLine" id="cb169-17" data-line-number="17"><span class="co"># Print the 4th Element.</span></a>
<a class="sourceLine" id="cb169-18" data-line-number="18"><span class="kw">print</span>(list_data[<span class="dv">4</span>])</a>
<a class="sourceLine" id="cb169-19" data-line-number="19"><span class="co">#&gt; $&lt;NA&gt;</span></a>
<a class="sourceLine" id="cb169-20" data-line-number="20"><span class="co">#&gt; NULL</span></a>
<a class="sourceLine" id="cb169-21" data-line-number="21"></a>
<a class="sourceLine" id="cb169-22" data-line-number="22"><span class="co"># Update the 3rd Element.</span></a>
<a class="sourceLine" id="cb169-23" data-line-number="23">list_data[<span class="dv">3</span>] &lt;-<span class="st"> &quot;updated element&quot;</span></a>
<a class="sourceLine" id="cb169-24" data-line-number="24"><span class="kw">print</span>(list_data[<span class="dv">3</span>])</a>
<a class="sourceLine" id="cb169-25" data-line-number="25"><span class="co">#&gt; $`A Inner list`</span></a>
<a class="sourceLine" id="cb169-26" data-line-number="26"><span class="co">#&gt; [1] &quot;updated element&quot;</span></a></code></pre></div>
</div>
<div id="merging-lists" class="section level3">
<h3><span class="header-section-number">5.7.4</span> Merging Lists</h3>
<p>You can merge many lists into one list by placing all the lists inside one list() function.</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" data-line-number="1"><span class="co"># Create two lists.</span></a>
<a class="sourceLine" id="cb170-2" data-line-number="2">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb170-3" data-line-number="3">list2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;Sun&quot;</span>,<span class="st">&quot;Mon&quot;</span>,<span class="st">&quot;Tue&quot;</span>)</a>
<a class="sourceLine" id="cb170-4" data-line-number="4"></a>
<a class="sourceLine" id="cb170-5" data-line-number="5"><span class="co"># Merge the two lists.</span></a>
<a class="sourceLine" id="cb170-6" data-line-number="6">merged.list &lt;-<span class="st"> </span><span class="kw">c</span>(list1,list2)</a>
<a class="sourceLine" id="cb170-7" data-line-number="7"></a>
<a class="sourceLine" id="cb170-8" data-line-number="8"><span class="co"># Print the merged list.</span></a>
<a class="sourceLine" id="cb170-9" data-line-number="9"><span class="kw">print</span>(merged.list)</a>
<a class="sourceLine" id="cb170-10" data-line-number="10"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb170-11" data-line-number="11"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb170-12" data-line-number="12"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb170-13" data-line-number="13"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb170-14" data-line-number="14"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb170-15" data-line-number="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb170-16" data-line-number="16"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb170-17" data-line-number="17"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb170-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb170-19" data-line-number="19"><span class="co">#&gt; [[4]]</span></a>
<a class="sourceLine" id="cb170-20" data-line-number="20"><span class="co">#&gt; [1] &quot;Sun&quot;</span></a>
<a class="sourceLine" id="cb170-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb170-22" data-line-number="22"><span class="co">#&gt; [[5]]</span></a>
<a class="sourceLine" id="cb170-23" data-line-number="23"><span class="co">#&gt; [1] &quot;Mon&quot;</span></a>
<a class="sourceLine" id="cb170-24" data-line-number="24"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb170-25" data-line-number="25"><span class="co">#&gt; [[6]]</span></a>
<a class="sourceLine" id="cb170-26" data-line-number="26"><span class="co">#&gt; [1] &quot;Tue&quot;</span></a></code></pre></div>
</div>
<div id="converting-list-to-vector" class="section level3">
<h3><span class="header-section-number">5.7.5</span> Converting List to Vector</h3>
<p>A list can be converted to a vector so that the elements of the vector can be used for further manipulation. All the arithmetic operations on vectors can be applied after the list is converted into vectors. To do this conversion, we use the unlist() function. It takes the list as input and produces a vector.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="co"># Create lists.</span></a>
<a class="sourceLine" id="cb171-2" data-line-number="2">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb171-3" data-line-number="3"><span class="kw">print</span>(list1)</a>
<a class="sourceLine" id="cb171-4" data-line-number="4"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb171-5" data-line-number="5"><span class="co">#&gt; [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb171-6" data-line-number="6"></a>
<a class="sourceLine" id="cb171-7" data-line-number="7">list2 &lt;-<span class="kw">list</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">14</span>)</a>
<a class="sourceLine" id="cb171-8" data-line-number="8"><span class="kw">print</span>(list2)</a>
<a class="sourceLine" id="cb171-9" data-line-number="9"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb171-10" data-line-number="10"><span class="co">#&gt; [1] 10 11 12 13 14</span></a>
<a class="sourceLine" id="cb171-11" data-line-number="11"></a>
<a class="sourceLine" id="cb171-12" data-line-number="12"><span class="co"># Convert the lists to vectors.</span></a>
<a class="sourceLine" id="cb171-13" data-line-number="13">v1 &lt;-<span class="st"> </span><span class="kw">unlist</span>(list1)</a>
<a class="sourceLine" id="cb171-14" data-line-number="14">v2 &lt;-<span class="st"> </span><span class="kw">unlist</span>(list2)</a>
<a class="sourceLine" id="cb171-15" data-line-number="15"></a>
<a class="sourceLine" id="cb171-16" data-line-number="16"><span class="kw">print</span>(v1)</a>
<a class="sourceLine" id="cb171-17" data-line-number="17"><span class="co">#&gt; [1] 1 2 3 4 5</span></a>
<a class="sourceLine" id="cb171-18" data-line-number="18"><span class="kw">print</span>(v2)</a>
<a class="sourceLine" id="cb171-19" data-line-number="19"><span class="co">#&gt; [1] 10 11 12 13 14</span></a>
<a class="sourceLine" id="cb171-20" data-line-number="20"></a>
<a class="sourceLine" id="cb171-21" data-line-number="21"><span class="co"># Now add the vectors</span></a>
<a class="sourceLine" id="cb171-22" data-line-number="22">result &lt;-<span class="st"> </span>v1<span class="op">+</span>v2</a>
<a class="sourceLine" id="cb171-23" data-line-number="23"><span class="kw">print</span>(result)</a>
<a class="sourceLine" id="cb171-24" data-line-number="24"><span class="co">#&gt; [1] 11 13 15 17 19</span></a></code></pre></div>
</div>
<div id="vector-list" class="section level3">
<h3><span class="header-section-number">5.7.6</span> 比較vector, list問題</h3>
<ol style="list-style-type: decimal">
<li>Q length()函數可以知道vector,list 的長度,但是為甚麼length(“hello”)的長度是1?</li>
</ol>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>,<span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb172-2" data-line-number="2"><span class="kw">length</span>(a)</a>
<a class="sourceLine" id="cb172-3" data-line-number="3"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb172-4" data-line-number="4"><span class="kw">length</span>(a[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb172-5" data-line-number="5"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb172-6" data-line-number="6"><span class="kw">length</span>(a[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb172-7" data-line-number="7"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb172-8" data-line-number="8"><span class="kw">nchar</span>(a[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb172-9" data-line-number="9"><span class="co">#&gt; [1] 5</span></a>
<a class="sourceLine" id="cb172-10" data-line-number="10"><span class="kw">length</span>(<span class="st">&quot;hello&quot;</span>)</a>
<a class="sourceLine" id="cb172-11" data-line-number="11"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<ol style="list-style-type: decimal">
<li>Q</li>
</ol>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1">a&lt;-<span class="kw">list</span>(<span class="st">&quot;hello&quot;</span>,<span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb173-2" data-line-number="2"><span class="kw">length</span>(a)</a>
<a class="sourceLine" id="cb173-3" data-line-number="3"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb173-4" data-line-number="4"><span class="kw">length</span>(a[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb173-5" data-line-number="5"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb173-6" data-line-number="6"><span class="kw">length</span>(a[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb173-7" data-line-number="7"><span class="co">#&gt; [1] 1</span></a></code></pre></div>

</div>
</div>
<div id="vector-" class="section level2">
<h2><span class="header-section-number">5.8</span> vector 函數範例</h2>
<div id="cbindrbind" class="section level3">
<h3><span class="header-section-number">5.8.1</span> cbind,rbind</h3>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" data-line-number="1">x&lt;-<span class="kw">runif</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb174-2" data-line-number="2">y&lt;-<span class="kw">runif</span>(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb174-3" data-line-number="3"><span class="kw">cbind</span>(x,y)</a>
<a class="sourceLine" id="cb174-4" data-line-number="4"><span class="co">#&gt; Warning in cbind(x, y): number of rows of result is not a multiple of</span></a>
<a class="sourceLine" id="cb174-5" data-line-number="5"><span class="co">#&gt; vector length (arg 1)</span></a>
<a class="sourceLine" id="cb174-6" data-line-number="6"><span class="co">#&gt;           x     y</span></a>
<a class="sourceLine" id="cb174-7" data-line-number="7"><span class="co">#&gt; [1,] 0.0808 0.466</span></a>
<a class="sourceLine" id="cb174-8" data-line-number="8"><span class="co">#&gt; [2,] 0.8343 0.498</span></a>
<a class="sourceLine" id="cb174-9" data-line-number="9"><span class="co">#&gt; [3,] 0.6008 0.290</span></a>
<a class="sourceLine" id="cb174-10" data-line-number="10"><span class="co">#&gt; [4,] 0.1572 0.733</span></a>
<a class="sourceLine" id="cb174-11" data-line-number="11"><span class="co">#&gt; [5,] 0.0074 0.773</span></a>
<a class="sourceLine" id="cb174-12" data-line-number="12"><span class="co">#&gt; [6,] 0.0808 0.875</span></a></code></pre></div>
</div>
<div id="diff" class="section level3">
<h3><span class="header-section-number">5.8.2</span> 函數diff</h3>
<p>Arguments<br />
* x: a numeric vector or matrix containing the values to be differenced.<br />
* lag: an integer indicating which lag to use.<br />
* differences: an integer indicating the order of the difference.<br />
例如
diff(x,lag=d,differences=n)
x[(1+d):n] - x[1:(n-d)]</p>

</div>
</div>
<div id="matrix" class="section level2">
<h2><span class="header-section-number">5.9</span> matrix</h2>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>),<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb175-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb175-3" data-line-number="3"><span class="co">#&gt; [1,]    1    3    5</span></a>
<a class="sourceLine" id="cb175-4" data-line-number="4"><span class="co">#&gt; [2,]    2    4    6</span></a></code></pre></div>
<p>問題: 怎樣產生<br />
1 2 3<br />
4 5 6<br />
的矩陣</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="kw">diag</span>(<span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb176-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2] [,3] [,4] [,5]</span></a>
<a class="sourceLine" id="cb176-3" data-line-number="3"><span class="co">#&gt; [1,]    1    0    0    0    0</span></a>
<a class="sourceLine" id="cb176-4" data-line-number="4"><span class="co">#&gt; [2,]    0    1    0    0    0</span></a>
<a class="sourceLine" id="cb176-5" data-line-number="5"><span class="co">#&gt; [3,]    0    0    1    0    0</span></a>
<a class="sourceLine" id="cb176-6" data-line-number="6"><span class="co">#&gt; [4,]    0    0    0    1    0</span></a>
<a class="sourceLine" id="cb176-7" data-line-number="7"><span class="co">#&gt; [5,]    0    0    0    0    1</span></a></code></pre></div>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;r1&quot;</span>, <span class="st">&quot;r2&quot;</span>, <span class="st">&quot;r3&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;c1&quot;</span>, <span class="st">&quot;c2&quot;</span>, <span class="st">&quot;c3&quot;</span>)))</a>
<a class="sourceLine" id="cb177-2" data-line-number="2"><span class="co">#&gt;    c1 c2 c3</span></a>
<a class="sourceLine" id="cb177-3" data-line-number="3"><span class="co">#&gt; r1  1  2  3</span></a>
<a class="sourceLine" id="cb177-4" data-line-number="4"><span class="co">#&gt; r2  4  5  6</span></a>
<a class="sourceLine" id="cb177-5" data-line-number="5"><span class="co">#&gt; r3  7  8  9</span></a></code></pre></div>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1">m1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>), <span class="dt">ncol =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb178-2" data-line-number="2"><span class="kw">rownames</span>(m1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;r1&quot;</span>, <span class="st">&quot;r2&quot;</span>, <span class="st">&quot;r3&quot;</span>)</a>
<a class="sourceLine" id="cb178-3" data-line-number="3"><span class="kw">colnames</span>(m1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;c1&quot;</span>, <span class="st">&quot;c2&quot;</span>, <span class="st">&quot;c3&quot;</span>)</a>
<a class="sourceLine" id="cb178-4" data-line-number="4"></a>
<a class="sourceLine" id="cb178-5" data-line-number="5">m1</a>
<a class="sourceLine" id="cb178-6" data-line-number="6"><span class="co">#&gt;    c1 c2 c3</span></a>
<a class="sourceLine" id="cb178-7" data-line-number="7"><span class="co">#&gt; r1  1  4  7</span></a>
<a class="sourceLine" id="cb178-8" data-line-number="8"><span class="co">#&gt; r2  2  5  8</span></a>
<a class="sourceLine" id="cb178-9" data-line-number="9"><span class="co">#&gt; r3  3  6  9</span></a></code></pre></div>
<p>m1[1, 2]</p>
<p>m1[1:2, 2:3]</p>
<p>m1[1,]
m1[,2]
m1[1:2,]
m1[, 2:3]</p>
<p>m1[-1,]
m1[,-2]</p>
<p>m1[c(“r1”, “r3”), c(“c1”, “c3”)]</p>
<p>m1[1]
m1[9]
m1[3:7]</p>
<p>m1 &gt; 3</p>
<p>m1[m1 &gt; 3]</p>
<p>m1 + m1
m1 - 2<em>m1
m1 </em> m1
m1 / m1
m1 ^ 2
m1 %*% m1</p>
<p>t(m1)</p>

</div>
<div id="section-5.10" class="section level2">
<h2><span class="header-section-number">5.10</span> 字串函數</h2>
<div id="asic-character-string-functions-provided-by-r" class="section level4">
<h4><span class="header-section-number">5.10.0.1</span> asic character string functions provided by R:</h4>
<ul>
<li>nchar: string length<br />
</li>
<li>paste: concatenate strings</li>
<li>substr: substring</li>
<li>toupper: convert entire string to uppercase</li>
<li>tolower: convert entire string to lowercase</li>
<li>chartr: character map replacement (like “tr”)</li>
<li>strtrim：trunates string</li>
</ul>
<p>nchar, substr, toupper, tolower will accept string vectors as arguments and return vector results.</p>
<p>strtrim accepts both a vector of strings and a vector of truncation positions.</p>
<ul>
<li><code>\'</code>: 等同於 <code>&quot;'&quot;</code> .<br />
</li>
<li><code>\&quot;</code>: 等同於 <code>'&quot;'</code>.<br />
</li>
<li><code>\n</code>: newline.<br />
</li>
<li><code>\r</code>: carriage return.<br />
</li>
<li><code>\t</code>: tab character.</li>
</ul>
<blockquote>
<p>Note: <code>cat()</code> and <code>print()</code> 處理逃逸字元的方式不一樣如果要在螢幕上解讀上面的字串,需要的是 <code>cat()</code>.</p>
</blockquote>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="kw">print</span>(<span class="st">&quot;a</span><span class="ch">\n</span><span class="st">b&quot;</span>)</a>
<a class="sourceLine" id="cb179-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a\nb&quot;</span></a>
<a class="sourceLine" id="cb179-3" data-line-number="3"><span class="kw">cat</span>(<span class="st">&quot;a</span><span class="ch">\n</span><span class="st">b&quot;</span>)</a>
<a class="sourceLine" id="cb179-4" data-line-number="4"><span class="co">#&gt; a</span></a>
<a class="sourceLine" id="cb179-5" data-line-number="5"><span class="co">#&gt; b</span></a></code></pre></div>
<p>問題:
1. 解釋paste0(c(1,2),c(3,4),collapse=’’)
2. 怎樣得到“1234”</p>
</div>
</div>
<div id="regular-expression-syntax" class="section level2">
<h2><span class="header-section-number">5.11</span> Regular expression syntax</h2>
<p>利用一些特殊字元，例如 <code>$ * + . ? [ ] ^ { } | ( ) \</code>構成Regular expressions，用來在文字中表達某些搜尋樣式的語法。 這裡只是簡短的介紹</p>
<div id="functions-which-work-with-regular-expression-patterns" class="section level4">
<h4><span class="header-section-number">5.11.0.1</span> Functions which work with regular expression patterns</h4>
<ul>
<li>strsplit: split string into substrings at occurances of regexp</li>
<li>grep: search for a regular expression within a string</li>
<li>sub: search and then replace an occurance of a regular expression in a strng</li>
<li>gsub: global search and replace all occurances of a regular expression in a string</li>
</ul>
</div>
<div id="escape-sequences" class="section level3">
<h3><span class="header-section-number">5.11.1</span> Escape sequences</h3>
<p>正規表達式中<code>.</code>代表任意字元,但是如果我們要在字串中查找“.”(例如,檔案名稱中的點) 的時候要怎樣表示?答案是使用逃逸字元<code>\</code>。但是在R語言中,正規表達式，也是使用字串，可是在字串中,<code>\</code>本身就逃逸字元，因此需要<code>\\.</code>。</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1">dot &lt;-<span class="st"> &quot;</span><span class="ch">\\</span><span class="st">.&quot;</span></a>
<a class="sourceLine" id="cb180-2" data-line-number="2"><span class="kw">writeLines</span>(dot)</a>
<a class="sourceLine" id="cb180-3" data-line-number="3"><span class="co">#&gt; \.</span></a>
<a class="sourceLine" id="cb180-4" data-line-number="4"></a>
<a class="sourceLine" id="cb180-5" data-line-number="5">x &lt;-<span class="st"> &quot;a</span><span class="ch">\\</span><span class="st">b&quot;</span></a>
<a class="sourceLine" id="cb180-6" data-line-number="6"><span class="kw">writeLines</span>(x)</a>
<a class="sourceLine" id="cb180-7" data-line-number="7"><span class="co">#&gt; a\b</span></a></code></pre></div>
<div id="grep-grepl" class="section level4">
<h4><span class="header-section-number">5.11.1.1</span> grep, grepl</h4>
<p>grep,grepl的差別是後者不支援參數value，且比對的結果和搜尋內容的個數相同。</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="kw">grep</span>(<span class="st">&quot;a</span><span class="ch">\\</span><span class="st">.c&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a.c&quot;</span>, <span class="st">&quot;bef&quot;</span>))</a>
<a class="sourceLine" id="cb181-2" data-line-number="2"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb181-3" data-line-number="3"><span class="kw">grep</span>(<span class="st">&quot;a</span><span class="ch">\\</span><span class="st">.c&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a.c&quot;</span>, <span class="st">&quot;bef&quot;</span>),<span class="dt">value=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb181-4" data-line-number="4"><span class="co">#&gt; [1] &quot;a.c&quot;</span></a>
<a class="sourceLine" id="cb181-5" data-line-number="5"><span class="kw">grepl</span>(<span class="st">&quot;a</span><span class="ch">\\</span><span class="st">.c&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;a.c&quot;</span>, <span class="st">&quot;bef&quot;</span>))</a>
<a class="sourceLine" id="cb181-6" data-line-number="6"><span class="co">#&gt; [1] FALSE  TRUE FALSE</span></a></code></pre></div>
<p>又另一個例子,是在字串中尋找單引號,假定要在國家中找尋是否有名稱包含單引號的名字,可以使用<code>'\''</code>
問題:為甚麼不是<code>'\\''</code>
hint:
這裡的逃逸字元只是字串的標準用法,<code>'</code>不是正規表達式的特殊字元。</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1">country&lt;-<span class="kw">read.delim</span>(<span class="st">&#39;resources/country.txt&#39;</span>,<span class="dt">header=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb182-2" data-line-number="2"><span class="kw">names</span>(country)&lt;-<span class="st">&quot;Name&quot;</span> </a>
<a class="sourceLine" id="cb182-3" data-line-number="3">cname &lt;-<span class="kw">levels</span>(country<span class="op">$</span>Name)</a>
<a class="sourceLine" id="cb182-4" data-line-number="4"><span class="kw">grep</span>(<span class="st">&#39;</span><span class="ch">\&#39;</span><span class="st">&#39;</span>, cname, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb182-5" data-line-number="5"><span class="co">#&gt; [1] &quot;Cote d&#39;Ivoire&quot;</span></a></code></pre></div>
<p>note:
* 不是country.names&lt;-“Name”</p>
<p>問題:下面兩行有甚麼差別?</p>
<pre><code>grep(&#39;\&#39;&#39;, country$Name, value = TRUE)
grep(&#39;\&#39;&#39;, levels(country$Name), value = TRUE)
</code></pre>
<p>Hint: levels 傳回唯一值</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1"><span class="kw">levels</span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;a&quot;</span>)))</a>
<a class="sourceLine" id="cb184-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a&quot; &quot;b&quot;</span></a>
<a class="sourceLine" id="cb184-3" data-line-number="3"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;a&quot;</span>))</a>
<a class="sourceLine" id="cb184-4" data-line-number="4"><span class="co">#&gt; [1] a b a</span></a>
<a class="sourceLine" id="cb184-5" data-line-number="5"><span class="co">#&gt; Levels: a b</span></a></code></pre></div>
</div>
<div id="regexpr-gregexpr" class="section level4">
<h4><span class="header-section-number">5.11.1.2</span> regexpr, gregexpr</h4>
<p><code>regexpr</code> 函數的使用方式類似<code>grepl</code>。傳回整數向量(表示符合位置，如果找不到,則傳回-1),個數和比對字串串列相同。這個向量同時有屬性<code>match.length</code>(參考範例) .</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1">s&lt;-<span class="st">&quot;a.b.c.9&quot;</span></a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="kw">regexpr</span>(<span class="st">&#39;b&#39;</span>,s )</a>
<a class="sourceLine" id="cb185-3" data-line-number="3"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb185-4" data-line-number="4"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb185-5" data-line-number="5"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-6" data-line-number="6"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb185-7" data-line-number="7"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb185-8" data-line-number="8"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb185-9" data-line-number="9"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb185-10" data-line-number="10"><span class="kw">regexpr</span>(<span class="st">&#39;.&#39;</span>,s ) <span class="co"># 要定位符號「.」,這是錯的,\.也錯</span></a>
<a class="sourceLine" id="cb185-11" data-line-number="11"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-12" data-line-number="12"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb185-13" data-line-number="13"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-14" data-line-number="14"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb185-15" data-line-number="15"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb185-16" data-line-number="16"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb185-17" data-line-number="17"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb185-18" data-line-number="18"><span class="kw">regexpr</span>(<span class="st">&#39;</span><span class="ch">\\</span><span class="st">.&#39;</span>,s ) <span class="co"># 正確</span></a>
<a class="sourceLine" id="cb185-19" data-line-number="19"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb185-20" data-line-number="20"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb185-21" data-line-number="21"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-22" data-line-number="22"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb185-23" data-line-number="23"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb185-24" data-line-number="24"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb185-25" data-line-number="25"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb185-26" data-line-number="26"><span class="kw">regexpr</span>(<span class="st">&#39;[.]&#39;</span>,s ) <span class="co"># 正確 ,不需要regexpr(&#39;[\\.]&#39;,s )</span></a>
<a class="sourceLine" id="cb185-27" data-line-number="27"><span class="co">#&gt; [1] 2</span></a>
<a class="sourceLine" id="cb185-28" data-line-number="28"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb185-29" data-line-number="29"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-30" data-line-number="30"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb185-31" data-line-number="31"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb185-32" data-line-number="32"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb185-33" data-line-number="33"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb185-34" data-line-number="34"><span class="kw">regexpr</span>(<span class="st">&#39;</span><span class="ch">\\</span><span class="st">d&#39;</span>,s ) <span class="co"># 正確</span></a>
<a class="sourceLine" id="cb185-35" data-line-number="35"><span class="co">#&gt; [1] 7</span></a>
<a class="sourceLine" id="cb185-36" data-line-number="36"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb185-37" data-line-number="37"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb185-38" data-line-number="38"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb185-39" data-line-number="39"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb185-40" data-line-number="40"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb185-41" data-line-number="41"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb185-42" data-line-number="42">x&lt;-<span class="kw">regexpr</span>(<span class="st">&#39;[0-9]&#39;</span>,s ) <span class="co"># 正確</span></a>
<a class="sourceLine" id="cb185-43" data-line-number="43"><span class="kw">attr</span>(x,<span class="st">&quot;match.length&quot;</span>)</a>
<a class="sourceLine" id="cb185-44" data-line-number="44"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1"></a>
<a class="sourceLine" id="cb186-2" data-line-number="2">s&lt;-<span class="st">&quot;a.b.c.9 6 8&quot;</span></a>
<a class="sourceLine" id="cb186-3" data-line-number="3">x&lt;-<span class="kw">regexpr</span>(<span class="st">&#39;[0-9]&#39;</span>,s ) </a>
<a class="sourceLine" id="cb186-4" data-line-number="4">x</a>
<a class="sourceLine" id="cb186-5" data-line-number="5"><span class="co">#&gt; [1] 7</span></a>
<a class="sourceLine" id="cb186-6" data-line-number="6"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb186-7" data-line-number="7"><span class="co">#&gt; [1] 1</span></a>
<a class="sourceLine" id="cb186-8" data-line-number="8"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb186-9" data-line-number="9"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb186-10" data-line-number="10"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb186-11" data-line-number="11"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb186-12" data-line-number="12"><span class="kw">attr</span>(x,<span class="st">&quot;match.length&quot;</span>)</a>
<a class="sourceLine" id="cb186-13" data-line-number="13"><span class="co">#&gt; [1] 1</span></a></code></pre></div>
<p><code>gregexpr()</code> 和 <code>regexpr()</code>一樣,只是會在目標字串中搜尋所有符合的位置而不是只找第一個(g:全局)。 因此傳回的結果個數雖然和查找的串列元素個數一樣,但是每個元素都是一個向量。如果都沒找到,只有一個-1。</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1"></a>
<a class="sourceLine" id="cb187-2" data-line-number="2">s&lt;-<span class="st">&quot;a.b.c.9 6 8&quot;</span></a>
<a class="sourceLine" id="cb187-3" data-line-number="3"> <span class="kw">gregexpr</span>(<span class="st">&#39;[0-9]&#39;</span>,s ) </a>
<a class="sourceLine" id="cb187-4" data-line-number="4"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb187-5" data-line-number="5"><span class="co">#&gt; [1]  7  9 11</span></a>
<a class="sourceLine" id="cb187-6" data-line-number="6"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb187-7" data-line-number="7"><span class="co">#&gt; [1] 1 1 1</span></a>
<a class="sourceLine" id="cb187-8" data-line-number="8"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb187-9" data-line-number="9"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb187-10" data-line-number="10"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb187-11" data-line-number="11"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
</div>
</div>
<div id="section-5.11.2" class="section level3">
<h3><span class="header-section-number">5.11.2</span> 應用</h3>
<p>產生3個檔案,檔案名稱含有cat</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1"><span class="kw">file.create</span>(<span class="kw">c</span>(<span class="st">&quot;xcat1.rmd&quot;</span>, <span class="st">&quot;ycat2.txt&quot;</span>, <span class="st">&quot;zcat3.rmd&quot;</span>))</a>
<a class="sourceLine" id="cb188-2" data-line-number="2"><span class="co">#&gt; [1] TRUE TRUE TRUE</span></a></code></pre></div>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1">files&lt;-<span class="kw">list.files</span>(<span class="st">&quot;.&quot;</span>)</a>
<a class="sourceLine" id="cb189-2" data-line-number="2"><span class="kw">grep</span>(<span class="st">&quot;cat&quot;</span>, files, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb189-3" data-line-number="3"><span class="co">#&gt; [1] &quot;xcat1.rmd&quot; &quot;ycat2.txt&quot; &quot;zcat3.rmd&quot;</span></a>
<a class="sourceLine" id="cb189-4" data-line-number="4"><span class="kw">grep</span>(<span class="st">&quot;cat&quot;</span>, files, <span class="dt">value =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb189-5" data-line-number="5"><span class="co">#&gt; [1] 46 48 49</span></a>
<a class="sourceLine" id="cb189-6" data-line-number="6"><span class="kw">grepl</span>(<span class="st">&quot;cat&quot;</span>, files)</a>
<a class="sourceLine" id="cb189-7" data-line-number="7"><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb189-8" data-line-number="8"><span class="co">#&gt; [12] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb189-9" data-line-number="9"><span class="co">#&gt; [23] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb189-10" data-line-number="10"><span class="co">#&gt; [34] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb189-11" data-line-number="11"><span class="co">#&gt; [45] FALSE  TRUE FALSE  TRUE  TRUE</span></a></code></pre></div>
</div>
<div id="quantifiers" class="section level3">
<h3><span class="header-section-number">5.11.3</span> 數量修飾詞Quantifiers</h3>
<p>指定重複次數.</p>
<ul>
<li><code>*</code>: 至少0個。<br />
</li>
<li><code>+</code>: 至少一個.<br />
</li>
<li><code>?</code>: 最多一個.<br />
</li>
<li><code>{n}</code>: 剛好n個.<br />
</li>
<li><code>{n,}</code>: 至少n個.<br />
</li>
<li><code>{n,m}</code>: 次數在 n 到 m 之間(包括n,m).</li>
</ul>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1">(strings &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;ab&quot;</span>, <span class="st">&quot;acb&quot;</span>, <span class="st">&quot;accb&quot;</span>, <span class="st">&quot;acccb&quot;</span>, <span class="st">&quot;accccb&quot;</span>))</a>
<a class="sourceLine" id="cb190-2" data-line-number="2"><span class="co">#&gt; [1] &quot;a&quot;      &quot;ab&quot;     &quot;acb&quot;    &quot;accb&quot;   &quot;acccb&quot;  &quot;accccb&quot;</span></a>
<a class="sourceLine" id="cb190-3" data-line-number="3"><span class="kw">grep</span>(<span class="st">&quot;ac*b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-4" data-line-number="4"><span class="co">#&gt; [1] &quot;ab&quot;     &quot;acb&quot;    &quot;accb&quot;   &quot;acccb&quot;  &quot;accccb&quot;</span></a>
<a class="sourceLine" id="cb190-5" data-line-number="5"><span class="kw">grep</span>(<span class="st">&quot;ac+b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-6" data-line-number="6"><span class="co">#&gt; [1] &quot;acb&quot;    &quot;accb&quot;   &quot;acccb&quot;  &quot;accccb&quot;</span></a>
<a class="sourceLine" id="cb190-7" data-line-number="7"><span class="kw">grep</span>(<span class="st">&quot;ac?b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-8" data-line-number="8"><span class="co">#&gt; [1] &quot;ab&quot;  &quot;acb&quot;</span></a>
<a class="sourceLine" id="cb190-9" data-line-number="9"><span class="kw">grep</span>(<span class="st">&quot;ac{2}b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-10" data-line-number="10"><span class="co">#&gt; [1] &quot;accb&quot;</span></a>
<a class="sourceLine" id="cb190-11" data-line-number="11"><span class="kw">grep</span>(<span class="st">&quot;ac{2,}b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-12" data-line-number="12"><span class="co">#&gt; [1] &quot;accb&quot;   &quot;acccb&quot;  &quot;accccb&quot;</span></a>
<a class="sourceLine" id="cb190-13" data-line-number="13"><span class="kw">grep</span>(<span class="st">&quot;ac{2,3}b&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb190-14" data-line-number="14"><span class="co">#&gt; [1] &quot;accb&quot;  &quot;acccb&quot;</span></a></code></pre></div>
<div id="exercise" class="section level4">
<h4><span class="header-section-number">5.11.3.1</span> Exercise</h4>
<p>Find all countries with <code>ee</code> in Gapminder using quantifiers.</p>
<pre><code>#&gt; [1] &quot;Greece&quot;</code></pre>
</div>
</div>
<div id="position-of-pattern-within-the-string" class="section level3">
<h3><span class="header-section-number">5.11.4</span> Position of pattern within the string</h3>
<ul>
<li><code>^</code>: 字串開頭.<br />
</li>
<li><code>$</code>: 字串結尾.<br />
</li>
<li><code>\b</code>: 左右都空白的 <em>word</em>.<br />
</li>
<li><code>\B</code>: 左右不是空白 <em>word</em>.</li>
</ul>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1">(strings &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;abcd&quot;</span>, <span class="st">&quot;cdab&quot;</span>, <span class="st">&quot;cabd&quot;</span>, <span class="st">&quot;c abd&quot;</span>))</a>
<a class="sourceLine" id="cb192-2" data-line-number="2"><span class="co">#&gt; [1] &quot;abcd&quot;  &quot;cdab&quot;  &quot;cabd&quot;  &quot;c abd&quot;</span></a>
<a class="sourceLine" id="cb192-3" data-line-number="3"><span class="kw">grep</span>(<span class="st">&quot;ab&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb192-4" data-line-number="4"><span class="co">#&gt; [1] &quot;abcd&quot;  &quot;cdab&quot;  &quot;cabd&quot;  &quot;c abd&quot;</span></a>
<a class="sourceLine" id="cb192-5" data-line-number="5"><span class="kw">grep</span>(<span class="st">&quot;^ab&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb192-6" data-line-number="6"><span class="co">#&gt; [1] &quot;abcd&quot;</span></a>
<a class="sourceLine" id="cb192-7" data-line-number="7"><span class="kw">grep</span>(<span class="st">&quot;ab$&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb192-8" data-line-number="8"><span class="co">#&gt; [1] &quot;cdab&quot;</span></a>
<a class="sourceLine" id="cb192-9" data-line-number="9"><span class="kw">grep</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">bab&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb192-10" data-line-number="10"><span class="co">#&gt; [1] &quot;abcd&quot;  &quot;c abd&quot;</span></a></code></pre></div>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1"><span class="kw">regexpr</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">bab&quot;</span>, strings)</a>
<a class="sourceLine" id="cb193-2" data-line-number="2"><span class="co">#&gt; [1]  1 -1 -1  3</span></a>
<a class="sourceLine" id="cb193-3" data-line-number="3"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb193-4" data-line-number="4"><span class="co">#&gt; [1]  2 -1 -1  2</span></a>
<a class="sourceLine" id="cb193-5" data-line-number="5"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb193-6" data-line-number="6"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb193-7" data-line-number="7"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb193-8" data-line-number="8"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="kw">regexpr</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">Bab&quot;</span>, strings)</a>
<a class="sourceLine" id="cb194-2" data-line-number="2"><span class="co">#&gt; [1] -1  3  2 -1</span></a>
<a class="sourceLine" id="cb194-3" data-line-number="3"><span class="co">#&gt; attr(,&quot;match.length&quot;)</span></a>
<a class="sourceLine" id="cb194-4" data-line-number="4"><span class="co">#&gt; [1] -1  2  2 -1</span></a>
<a class="sourceLine" id="cb194-5" data-line-number="5"><span class="co">#&gt; attr(,&quot;index.type&quot;)</span></a>
<a class="sourceLine" id="cb194-6" data-line-number="6"><span class="co">#&gt; [1] &quot;chars&quot;</span></a>
<a class="sourceLine" id="cb194-7" data-line-number="7"><span class="co">#&gt; attr(,&quot;useBytes&quot;)</span></a>
<a class="sourceLine" id="cb194-8" data-line-number="8"><span class="co">#&gt; [1] TRUE</span></a></code></pre></div>
<div id="exercise-1" class="section level4">
<h4><span class="header-section-number">5.11.4.1</span> Exercise</h4>
<p>Find all <code>.txt</code> files in the repository.</p>
<pre><code>#&gt; [1] &quot;ycat2.txt&quot;
#&gt; [1] &quot;ycat2.txt&quot;</code></pre>
</div>
</div>
<div id="operators" class="section level3">
<h3><span class="header-section-number">5.11.5</span> Operators</h3>
<ul>
<li><code>.</code>: 任意字元。<br />
</li>
<li><code>[...]</code>: 例如,[ade] 3個字元其中一個。[a-e],a到e.<br />
</li>
<li><code>[^...]</code>: 除了[]指定的字元，非[…]的意思。.<br />
</li>
<li><code>\</code>: 抑制下列字元在字串,<code>&quot;&quot;</code>,中的特殊意思 <code>$ * + . ? [ ] ^ { } | ( ) \</code>, 只是在R中,因為<code>\</code>又有特殊意義 ,因此必須雙<code>\</code>例如 <code>\\$</code>。<br />
</li>
<li><code>|</code>: 或.<br />
</li>
<li><code>(...)</code>: 字元組,根據出現的順序,可以用 <code>\\N</code>識別( <strong>backreference</strong>).</li>
</ul>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1">(strings &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;^ab&quot;</span>, <span class="st">&quot;ab&quot;</span>, <span class="st">&quot;abc&quot;</span>, <span class="st">&quot;abd&quot;</span>, <span class="st">&quot;abe&quot;</span>, <span class="st">&quot;ab 12&quot;</span>))</a>
<a class="sourceLine" id="cb196-2" data-line-number="2"><span class="co">#&gt; [1] &quot;^ab&quot;   &quot;ab&quot;    &quot;abc&quot;   &quot;abd&quot;   &quot;abe&quot;   &quot;ab 12&quot;</span></a>
<a class="sourceLine" id="cb196-3" data-line-number="3"><span class="kw">grep</span>(<span class="st">&quot;ab.&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb196-4" data-line-number="4"><span class="co">#&gt; [1] &quot;abc&quot;   &quot;abd&quot;   &quot;abe&quot;   &quot;ab 12&quot;</span></a>
<a class="sourceLine" id="cb196-5" data-line-number="5"><span class="kw">grep</span>(<span class="st">&quot;ab[c-e]&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb196-6" data-line-number="6"><span class="co">#&gt; [1] &quot;abc&quot; &quot;abd&quot; &quot;abe&quot;</span></a>
<a class="sourceLine" id="cb196-7" data-line-number="7"><span class="kw">grep</span>(<span class="st">&quot;ab[^c]&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb196-8" data-line-number="8"><span class="co">#&gt; [1] &quot;abd&quot;   &quot;abe&quot;   &quot;ab 12&quot;</span></a>
<a class="sourceLine" id="cb196-9" data-line-number="9"><span class="kw">grep</span>(<span class="st">&quot;^ab&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb196-10" data-line-number="10"><span class="co">#&gt; [1] &quot;ab&quot;    &quot;abc&quot;   &quot;abd&quot;   &quot;abe&quot;   &quot;ab 12&quot;</span></a>
<a class="sourceLine" id="cb196-11" data-line-number="11"><span class="kw">grep</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">^ab&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb196-12" data-line-number="12"><span class="co">#&gt; [1] &quot;^ab&quot;</span></a>
<a class="sourceLine" id="cb196-13" data-line-number="13"><span class="kw">grep</span>(<span class="st">&quot;abc|abd&quot;</span>, strings, <span class="dt">value =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb196-14" data-line-number="14"><span class="co">#&gt; [1] &quot;abc&quot; &quot;abd&quot;</span></a>
<a class="sourceLine" id="cb196-15" data-line-number="15"><span class="kw">gsub</span>(<span class="st">&quot;(ab) 12&quot;</span>, <span class="st">&quot;</span><span class="ch">\\</span><span class="st">1 34&quot;</span>, strings) </a>
<a class="sourceLine" id="cb196-16" data-line-number="16"><span class="co">#&gt; [1] &quot;^ab&quot;   &quot;ab&quot;    &quot;abc&quot;   &quot;abd&quot;   &quot;abe&quot;   &quot;ab 34&quot;</span></a></code></pre></div>
<p>note:
要讓<code>.</code>失效，可以<code>[.]</code>或 <code>\\.</code> 表示。</p>
<div id="excercise" class="section level4">
<h4><span class="header-section-number">5.11.5.1</span> Excercise</h4>
<p>找出國名中間有字元<code>i</code> <code>t</code> 並且將<code>land</code>結尾的字串改為大寫。例如,Finland-&gt;FinLAND</p>
<pre><code>#&gt; [1] &quot;FinLAND&quot;     &quot;IceLAND&quot;     &quot;IreLAND&quot;     &quot;SwaziLAND&quot;   &quot;SwitzerLAND&quot;
#&gt; [6] &quot;ThaiLAND&quot;</code></pre>
</div>
</div>
<div id="character-classes" class="section level3">
<h3><span class="header-section-number">5.11.6</span> Character classes</h3>
<p>預設字元分類例如 numbers, letters, 分類。
開頭<code>[:</code> 結尾 <code>:]</code> ，另一種簡寫方式為利用 <code>\</code> 。</p>
<ul>
<li><code>[:digit:]</code> or <code>\d</code>: 數字,等同 <code>[0-9]</code>.<br />
</li>
<li><code>\D</code>: 非數字,等同 <code>[^0-9]</code>.<br />
</li>
<li><code>[:lower:]</code>: 小寫,等同 <code>[a-z]</code>.<br />
</li>
<li><code>[:upper:]</code>: 大寫,等同 <code>[A-Z]</code>.<br />
</li>
<li><code>[:alpha:]</code>: 字母,等同 <code>[[:lower:][:upper:]]</code> or <code>[A-z]</code>.<br />
</li>
<li><code>[:alnum:]</code>: 等同 <code>[[:alpha:][:digit:]]</code> 或 <code>[A-z0-9]</code>.<br />
</li>
<li><code>\w</code>: word characters, equivalent to <code>[[:alnum:]_]</code> or <code>[A-z0-9_]</code>.<br />
</li>
<li><code>\W</code>: not word, equivalent to <code>[^A-z0-9_]</code>.<br />
</li>
<li><code>[:xdigit:]</code>: hexadecimal digits (base 16), 0 1 2 3 4 5 6 7 8 9 A B C D E F a b c d e f, equivalent to <code>[0-9A-Fa-f]</code>.</li>
<li><code>[:blank:]</code>: blank characters, i.e. space and tab.<br />
</li>
<li><code>[:space:]</code>: space characters: tab, newline, vertical tab, form feed, carriage return, space.</li>
<li><code>\s</code>: space, <code></code>.<br />
</li>
<li><code>\S</code>: not space.<br />
</li>
<li><code>[:punct:]</code>: punctuation characters, ! &quot; # $ % &amp; ’ ( ) * + , - . / : ; &lt; = &gt; ? @ [  ] ^ _ ` { | } ~.</li>
<li><code>[:graph:]</code>: graphical (human readable) characters: equivalent to <code>[[:alnum:][:punct:]]</code>.</li>
<li><code>[:print:]</code>: printable characters, equivalent to <code>[[:alnum:][:punct:]\\s]</code>.</li>
<li><code>[:cntrl:]</code>: control characters, like <code>\n</code> or <code>\r</code>, <code>[\x00-\x1F\x7F]</code>.</li>
</ul>
<p>Note:</p>
<ul>
<li><code>[:...:]</code> 必須寫在中括號中, 例如 <code>[[:digit:]]</code>.<br />
</li>
<li><code>\</code> 注意 <code>\\d</code>. 和 <code>\t</code>的區別。</li>
</ul>

</div>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">5.12</span> Factors</h2>
<p>R也能把資料存為factor(store data is as a factor)。
在大部分實驗中,某些解釋變數經常有不同程度的測試。
(includes trials for different levels of some explanatory variable)
The different levels are also called factors.</p>
<p>觀察carbon dioxide 對樹木的生長速率 trees91.csv <a href="The%20original%20spreadsheet%20is%20located%20at%20http://cdiac.ornl.gov/ftp/ndp061a/trees91.wk1.">1^</a>:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" data-line-number="1">tree =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./resources/trees91.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>);</a>
<a class="sourceLine" id="cb198-2" data-line-number="2"><span class="kw">attributes</span>(tree)</a>
<a class="sourceLine" id="cb198-3" data-line-number="3"><span class="co">#&gt; $names</span></a>
<a class="sourceLine" id="cb198-4" data-line-number="4"><span class="co">#&gt;  [1] &quot;C&quot;      &quot;N&quot;      &quot;CHBR&quot;   &quot;REP&quot;    &quot;LFBM&quot;   &quot;STBM&quot;   &quot;RTBM&quot;  </span></a>
<a class="sourceLine" id="cb198-5" data-line-number="5"><span class="co">#&gt;  [8] &quot;LFNCC&quot;  &quot;STNCC&quot;  &quot;RTNCC&quot;  &quot;LFBCC&quot;  &quot;STBCC&quot;  &quot;RTBCC&quot;  &quot;LFCACC&quot;</span></a>
<a class="sourceLine" id="cb198-6" data-line-number="6"><span class="co">#&gt; [15] &quot;STCACC&quot; &quot;RTCACC&quot; &quot;LFKCC&quot;  &quot;STKCC&quot;  &quot;RTKCC&quot;  &quot;LFMGCC&quot; &quot;STMGCC&quot;</span></a>
<a class="sourceLine" id="cb198-7" data-line-number="7"><span class="co">#&gt; [22] &quot;RTMGCC&quot; &quot;LFPCC&quot;  &quot;STPCC&quot;  &quot;RTPCC&quot;  &quot;LFSCC&quot;  &quot;STSCC&quot;  &quot;RTSCC&quot; </span></a>
<a class="sourceLine" id="cb198-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb198-9" data-line-number="9"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb198-10" data-line-number="10"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a>
<a class="sourceLine" id="cb198-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb198-12" data-line-number="12"><span class="co">#&gt; $row.names</span></a>
<a class="sourceLine" id="cb198-13" data-line-number="13"><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23</span></a>
<a class="sourceLine" id="cb198-14" data-line-number="14"><span class="co">#&gt; [24] 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46</span></a>
<a class="sourceLine" id="cb198-15" data-line-number="15"><span class="co">#&gt; [47] 47 48 49 50 51 52 53 54</span></a>
<a class="sourceLine" id="cb198-16" data-line-number="16"><span class="kw">names</span>(tree)</a>
<a class="sourceLine" id="cb198-17" data-line-number="17"><span class="co">#&gt;  [1] &quot;C&quot;      &quot;N&quot;      &quot;CHBR&quot;   &quot;REP&quot;    &quot;LFBM&quot;   &quot;STBM&quot;   &quot;RTBM&quot;  </span></a>
<a class="sourceLine" id="cb198-18" data-line-number="18"><span class="co">#&gt;  [8] &quot;LFNCC&quot;  &quot;STNCC&quot;  &quot;RTNCC&quot;  &quot;LFBCC&quot;  &quot;STBCC&quot;  &quot;RTBCC&quot;  &quot;LFCACC&quot;</span></a>
<a class="sourceLine" id="cb198-19" data-line-number="19"><span class="co">#&gt; [15] &quot;STCACC&quot; &quot;RTCACC&quot; &quot;LFKCC&quot;  &quot;STKCC&quot;  &quot;RTKCC&quot;  &quot;LFMGCC&quot; &quot;STMGCC&quot;</span></a>
<a class="sourceLine" id="cb198-20" data-line-number="20"><span class="co">#&gt; [22] &quot;RTMGCC&quot; &quot;LFPCC&quot;  &quot;STPCC&quot;  &quot;RTPCC&quot;  &quot;LFSCC&quot;  &quot;STSCC&quot;  &quot;RTSCC&quot;</span></a></code></pre></div>
<p>A description of the data file is located at <a href="http://cdiac.ornl.gov/ftp/ndp061a/ndp061a.txt" class="uri">http://cdiac.ornl.gov/ftp/ndp061a/ndp061a.txt</a> .</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1"><span class="kw">summary</span>(tree<span class="op">$</span>CHBR)</a>
<a class="sourceLine" id="cb199-2" data-line-number="2"><span class="co">#&gt;  A1  A2  A3  A4  A5  A6  A7  B1  B2  B3  B4  B5  B6  B7  C1  C2  C3  C4 </span></a>
<a class="sourceLine" id="cb199-3" data-line-number="3"><span class="co">#&gt;   3   1   1   3   1   3   1   1   3   3   3   3   3   3   1   3   1   3 </span></a>
<a class="sourceLine" id="cb199-4" data-line-number="4"><span class="co">#&gt;  C5  C6  C7 CL6 CL7  D1  D2  D3  D4  D5  D6  D7 </span></a>
<a class="sourceLine" id="cb199-5" data-line-number="5"><span class="co">#&gt;   1   1   1   1   1   1   1   3   1   1   1   1</span></a></code></pre></div>
<p>在CHBR這個欄位中,因為不全都是數字,因此R自動假定這是一個factor。
<code>summary()</code>函數不會列出5個統計輛,而是列出次數表。</p>
<p>但有些欄位例如C,也是一個factor。但是,R認定為數字,這時必須手動處理。<br />
以下將 tree$C 轉為 factor:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1">tree<span class="op">$</span>C</a>
<a class="sourceLine" id="cb200-2" data-line-number="2"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3</span></a>
<a class="sourceLine" id="cb200-3" data-line-number="3"><span class="co">#&gt; [36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4</span></a>
<a class="sourceLine" id="cb200-4" data-line-number="4"><span class="kw">summary</span>(tree<span class="op">$</span>C)</a>
<a class="sourceLine" id="cb200-5" data-line-number="5"><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></a>
<a class="sourceLine" id="cb200-6" data-line-number="6"><span class="co">#&gt;    1.00    2.00    2.00    2.52    3.00    4.00</span></a>
<a class="sourceLine" id="cb200-7" data-line-number="7">tree<span class="op">$</span>C &lt;-<span class="st"> </span><span class="kw">factor</span>(tree<span class="op">$</span>C)</a>
<a class="sourceLine" id="cb200-8" data-line-number="8">tree<span class="op">$</span>C</a>
<a class="sourceLine" id="cb200-9" data-line-number="9"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3</span></a>
<a class="sourceLine" id="cb200-10" data-line-number="10"><span class="co">#&gt; [36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4</span></a>
<a class="sourceLine" id="cb200-11" data-line-number="11"><span class="co">#&gt; Levels: 1 2 3 4</span></a>
<a class="sourceLine" id="cb200-12" data-line-number="12"><span class="kw">summary</span>(tree<span class="op">$</span>C)</a>
<a class="sourceLine" id="cb200-13" data-line-number="13"><span class="co">#&gt;  1  2  3  4 </span></a>
<a class="sourceLine" id="cb200-14" data-line-number="14"><span class="co">#&gt;  8 23 10 13</span></a>
<a class="sourceLine" id="cb200-15" data-line-number="15"><span class="kw">levels</span>(tree<span class="op">$</span>C)</a>
<a class="sourceLine" id="cb200-16" data-line-number="16"><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;</span></a></code></pre></div>
<p>一旦向量轉為一組factors, 5個基本統計量不再有意義。</p>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">5.12.1</span> Data Frames</h3>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1"><span class="co"># 順便看看結構</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2"><span class="kw">typeof</span>(tree)</a>
<a class="sourceLine" id="cb201-3" data-line-number="3"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb201-4" data-line-number="4"><span class="kw">class</span>(tree)</a>
<a class="sourceLine" id="cb201-5" data-line-number="5"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a></code></pre></div>
<p>既然tree是一個tree,那麼</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1">tree[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb202-2" data-line-number="2"><span class="co">#&gt;    C</span></a>
<a class="sourceLine" id="cb202-3" data-line-number="3"><span class="co">#&gt; 1  1</span></a>
<a class="sourceLine" id="cb202-4" data-line-number="4"><span class="co">#&gt; 2  1</span></a>
<a class="sourceLine" id="cb202-5" data-line-number="5"><span class="co">#&gt; 3  1</span></a>
<a class="sourceLine" id="cb202-6" data-line-number="6"><span class="co">#&gt; 4  1</span></a>
<a class="sourceLine" id="cb202-7" data-line-number="7"><span class="co">#&gt; 5  1</span></a>
<a class="sourceLine" id="cb202-8" data-line-number="8"><span class="co">#&gt; 6  1</span></a>
<a class="sourceLine" id="cb202-9" data-line-number="9"><span class="co">#&gt; 7  1</span></a>
<a class="sourceLine" id="cb202-10" data-line-number="10"><span class="co">#&gt; 8  1</span></a>
<a class="sourceLine" id="cb202-11" data-line-number="11"><span class="co">#&gt; 9  2</span></a>
<a class="sourceLine" id="cb202-12" data-line-number="12"><span class="co">#&gt; 10 2</span></a>
<a class="sourceLine" id="cb202-13" data-line-number="13"><span class="co">#&gt; 11 2</span></a>
<a class="sourceLine" id="cb202-14" data-line-number="14"><span class="co">#&gt; 12 2</span></a>
<a class="sourceLine" id="cb202-15" data-line-number="15"><span class="co">#&gt; 13 2</span></a>
<a class="sourceLine" id="cb202-16" data-line-number="16"><span class="co">#&gt; 14 2</span></a>
<a class="sourceLine" id="cb202-17" data-line-number="17"><span class="co">#&gt; 15 2</span></a>
<a class="sourceLine" id="cb202-18" data-line-number="18"><span class="co">#&gt; 16 2</span></a>
<a class="sourceLine" id="cb202-19" data-line-number="19"><span class="co">#&gt; 17 2</span></a>
<a class="sourceLine" id="cb202-20" data-line-number="20"><span class="co">#&gt; 18 2</span></a>
<a class="sourceLine" id="cb202-21" data-line-number="21"><span class="co">#&gt; 19 2</span></a>
<a class="sourceLine" id="cb202-22" data-line-number="22"><span class="co">#&gt; 20 2</span></a>
<a class="sourceLine" id="cb202-23" data-line-number="23"><span class="co">#&gt; 21 2</span></a>
<a class="sourceLine" id="cb202-24" data-line-number="24"><span class="co">#&gt; 22 2</span></a>
<a class="sourceLine" id="cb202-25" data-line-number="25"><span class="co">#&gt; 23 2</span></a>
<a class="sourceLine" id="cb202-26" data-line-number="26"><span class="co">#&gt; 24 2</span></a>
<a class="sourceLine" id="cb202-27" data-line-number="27"><span class="co">#&gt; 25 2</span></a>
<a class="sourceLine" id="cb202-28" data-line-number="28"><span class="co">#&gt; 26 2</span></a>
<a class="sourceLine" id="cb202-29" data-line-number="29"><span class="co">#&gt; 27 2</span></a>
<a class="sourceLine" id="cb202-30" data-line-number="30"><span class="co">#&gt; 28 2</span></a>
<a class="sourceLine" id="cb202-31" data-line-number="31"><span class="co">#&gt; 29 2</span></a>
<a class="sourceLine" id="cb202-32" data-line-number="32"><span class="co">#&gt; 30 2</span></a>
<a class="sourceLine" id="cb202-33" data-line-number="33"><span class="co">#&gt; 31 2</span></a>
<a class="sourceLine" id="cb202-34" data-line-number="34"><span class="co">#&gt; 32 3</span></a>
<a class="sourceLine" id="cb202-35" data-line-number="35"><span class="co">#&gt; 33 3</span></a>
<a class="sourceLine" id="cb202-36" data-line-number="36"><span class="co">#&gt; 34 3</span></a>
<a class="sourceLine" id="cb202-37" data-line-number="37"><span class="co">#&gt; 35 3</span></a>
<a class="sourceLine" id="cb202-38" data-line-number="38"><span class="co">#&gt; 36 3</span></a>
<a class="sourceLine" id="cb202-39" data-line-number="39"><span class="co">#&gt; 37 3</span></a>
<a class="sourceLine" id="cb202-40" data-line-number="40"><span class="co">#&gt; 38 3</span></a>
<a class="sourceLine" id="cb202-41" data-line-number="41"><span class="co">#&gt; 39 3</span></a>
<a class="sourceLine" id="cb202-42" data-line-number="42"><span class="co">#&gt; 40 3</span></a>
<a class="sourceLine" id="cb202-43" data-line-number="43"><span class="co">#&gt; 41 3</span></a>
<a class="sourceLine" id="cb202-44" data-line-number="44"><span class="co">#&gt; 42 4</span></a>
<a class="sourceLine" id="cb202-45" data-line-number="45"><span class="co">#&gt; 43 4</span></a>
<a class="sourceLine" id="cb202-46" data-line-number="46"><span class="co">#&gt; 44 4</span></a>
<a class="sourceLine" id="cb202-47" data-line-number="47"><span class="co">#&gt; 45 4</span></a>
<a class="sourceLine" id="cb202-48" data-line-number="48"><span class="co">#&gt; 46 4</span></a>
<a class="sourceLine" id="cb202-49" data-line-number="49"><span class="co">#&gt; 47 4</span></a>
<a class="sourceLine" id="cb202-50" data-line-number="50"><span class="co">#&gt; 48 4</span></a>
<a class="sourceLine" id="cb202-51" data-line-number="51"><span class="co">#&gt; 49 4</span></a>
<a class="sourceLine" id="cb202-52" data-line-number="52"><span class="co">#&gt; 50 4</span></a>
<a class="sourceLine" id="cb202-53" data-line-number="53"><span class="co">#&gt; 51 4</span></a>
<a class="sourceLine" id="cb202-54" data-line-number="54"><span class="co">#&gt; 52 4</span></a>
<a class="sourceLine" id="cb202-55" data-line-number="55"><span class="co">#&gt; 53 4</span></a>
<a class="sourceLine" id="cb202-56" data-line-number="56"><span class="co">#&gt; 54 4</span></a>
<a class="sourceLine" id="cb202-57" data-line-number="57">tree[[<span class="dv">1</span>]] </a>
<a class="sourceLine" id="cb202-58" data-line-number="58"><span class="co">#&gt;  [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3</span></a>
<a class="sourceLine" id="cb202-59" data-line-number="59"><span class="co">#&gt; [36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4</span></a>
<a class="sourceLine" id="cb202-60" data-line-number="60"><span class="co">#&gt; Levels: 1 2 3 4</span></a>
<a class="sourceLine" id="cb202-61" data-line-number="61"></a>
<a class="sourceLine" id="cb202-62" data-line-number="62"><span class="kw">class</span>(tree[<span class="dv">1</span>]) <span class="co"># data.frame</span></a>
<a class="sourceLine" id="cb202-63" data-line-number="63"><span class="co">#&gt; [1] &quot;data.frame&quot;</span></a>
<a class="sourceLine" id="cb202-64" data-line-number="64"><span class="kw">class</span>(tree[[<span class="dv">1</span>]]) <span class="co"># integer</span></a>
<a class="sourceLine" id="cb202-65" data-line-number="65"><span class="co">#&gt; [1] &quot;factor&quot;</span></a>
<a class="sourceLine" id="cb202-66" data-line-number="66"><span class="kw">typeof</span>(tree[<span class="dv">1</span>]) <span class="co"># list</span></a>
<a class="sourceLine" id="cb202-67" data-line-number="67"><span class="co">#&gt; [1] &quot;list&quot;</span></a>
<a class="sourceLine" id="cb202-68" data-line-number="68"><span class="kw">typeof</span>(tree<span class="op">$</span>C) <span class="co"># integer</span></a>
<a class="sourceLine" id="cb202-69" data-line-number="69"><span class="co">#&gt; [1] &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb202-70" data-line-number="70"><span class="kw">typeof</span>(tree[[<span class="dv">1</span>]]) <span class="co"># integer</span></a>
<a class="sourceLine" id="cb202-71" data-line-number="71"><span class="co">#&gt; [1] &quot;integer&quot;</span></a></code></pre></div>
<p>tree[1] 是一個list<br />
tree[[1]] 外圍的tree[]首先被解讀為list類別,然後[1]傳到類別</p>
<blockquote>
<p>[[ vs [<br />
由typeof,class看起來<br />
[[抽取list中的元素
[只是分割list,中的subset</p>
</blockquote>
<p>簡單介紹一下手動建立</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb203-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb203-3" data-line-number="3">levels &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</a>
<a class="sourceLine" id="cb203-4" data-line-number="4">bubba &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">first =</span> a,</a>
<a class="sourceLine" id="cb203-5" data-line-number="5">                      <span class="dt">second =</span> b,</a>
<a class="sourceLine" id="cb203-6" data-line-number="6">                      <span class="dt">f =</span> levels)</a>
<a class="sourceLine" id="cb203-7" data-line-number="7">bubba</a>
<a class="sourceLine" id="cb203-8" data-line-number="8"><span class="co">#&gt;   first second f</span></a>
<a class="sourceLine" id="cb203-9" data-line-number="9"><span class="co">#&gt; 1     1      2 A</span></a>
<a class="sourceLine" id="cb203-10" data-line-number="10"><span class="co">#&gt; 2     2      4 B</span></a>
<a class="sourceLine" id="cb203-11" data-line-number="11"><span class="co">#&gt; 3     3      6 A</span></a>
<a class="sourceLine" id="cb203-12" data-line-number="12"><span class="co">#&gt; 4     4      8 B</span></a>
<a class="sourceLine" id="cb203-13" data-line-number="13"><span class="kw">summary</span>(bubba)</a>
<a class="sourceLine" id="cb203-14" data-line-number="14"><span class="co">#&gt;      first          second    f    </span></a>
<a class="sourceLine" id="cb203-15" data-line-number="15"><span class="co">#&gt;  Min.   :1.00   Min.   :2.0   A:2  </span></a>
<a class="sourceLine" id="cb203-16" data-line-number="16"><span class="co">#&gt;  1st Qu.:1.75   1st Qu.:3.5   B:2  </span></a>
<a class="sourceLine" id="cb203-17" data-line-number="17"><span class="co">#&gt;  Median :2.50   Median :5.0        </span></a>
<a class="sourceLine" id="cb203-18" data-line-number="18"><span class="co">#&gt;  Mean   :2.50   Mean   :5.0        </span></a>
<a class="sourceLine" id="cb203-19" data-line-number="19"><span class="co">#&gt;  3rd Qu.:3.25   3rd Qu.:6.5        </span></a>
<a class="sourceLine" id="cb203-20" data-line-number="20"><span class="co">#&gt;  Max.   :4.00   Max.   :8.0</span></a>
<a class="sourceLine" id="cb203-21" data-line-number="21">bubba<span class="op">$</span>first</a>
<a class="sourceLine" id="cb203-22" data-line-number="22"><span class="co">#&gt; [1] 1 2 3 4</span></a>
<a class="sourceLine" id="cb203-23" data-line-number="23">bubba<span class="op">$</span>second</a>
<a class="sourceLine" id="cb203-24" data-line-number="24"><span class="co">#&gt; [1] 2 4 6 8</span></a>
<a class="sourceLine" id="cb203-25" data-line-number="25">bubba<span class="op">$</span>f</a>
<a class="sourceLine" id="cb203-26" data-line-number="26"><span class="co">#&gt; [1] A B A B</span></a>
<a class="sourceLine" id="cb203-27" data-line-number="27"><span class="co">#&gt; Levels: A B</span></a></code></pre></div>
</div>
<div id="logical" class="section level3">
<h3><span class="header-section-number">5.12.2</span> Logical</h3>
<p>Another important data type is the logical type. There are two predefined variables, TRUE and FALSE:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1">a =<span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb204-2" data-line-number="2"><span class="kw">typeof</span>(a)</a>
<a class="sourceLine" id="cb204-3" data-line-number="3"><span class="co">#&gt; [1] &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb204-4" data-line-number="4">b =<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb204-5" data-line-number="5"><span class="kw">typeof</span>(b)</a>
<a class="sourceLine" id="cb204-6" data-line-number="6"><span class="co">#&gt; [1] &quot;logical&quot;</span></a></code></pre></div>
<p>The standard logical operators can be used:</p>
<table>
<thead>
<tr class="header">
<th>operator</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&gt;</td>
<td>great than</td>
</tr>
<tr class="odd">
<td>&lt;=</td>
<td>less than or equal</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than or equal</td>
</tr>
<tr class="odd">
<td>==</td>
<td>equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td>|</td>
<td>entry wise or</td>
</tr>
<tr class="even">
<td>||</td>
<td>or</td>
</tr>
<tr class="odd">
<td>!</td>
<td>not</td>
</tr>
<tr class="even">
<td>&amp;</td>
<td>entry wise and</td>
</tr>
<tr class="odd">
<td>&amp;&amp;</td>
<td>and</td>
</tr>
<tr class="even">
<td>xor(a,b)</td>
<td>exclusive or</td>
</tr>
</tbody>
</table>
<p>Note that there is a difference between operators that act on
entries within a vector and the whole vector:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb205-2" data-line-number="2">b =<span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb205-3" data-line-number="3">a <span class="op">|</span><span class="st"> </span>b</a>
<a class="sourceLine" id="cb205-4" data-line-number="4"><span class="co">#&gt; [1]  TRUE FALSE</span></a>
<a class="sourceLine" id="cb205-5" data-line-number="5">a <span class="op">||</span><span class="st"> </span>b</a>
<a class="sourceLine" id="cb205-6" data-line-number="6"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb205-7" data-line-number="7"><span class="kw">xor</span>(a, b)</a>
<a class="sourceLine" id="cb205-8" data-line-number="8"><span class="co">#&gt; [1]  TRUE FALSE</span></a></code></pre></div>
<p>There are a large number of functions that test to determine the type of a variable.
For example the is.numeric function can determine if a variable is numeric:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb206-2" data-line-number="2"><span class="kw">is.numeric</span>(a)</a>
<a class="sourceLine" id="cb206-3" data-line-number="3"><span class="co">#&gt; [1] TRUE</span></a>
<a class="sourceLine" id="cb206-4" data-line-number="4"><span class="kw">is.factor</span>(a)</a>
<a class="sourceLine" id="cb206-5" data-line-number="5"><span class="co">#&gt; [1] FALSE</span></a></code></pre></div>
</div>
</div>
<div id="tables" class="section level2">
<h2><span class="header-section-number">5.13</span> Tables</h2>
<p>除了data frame 以外,還有table 可以用來組織資料。
這裡只看怎樣建立table,分析分訪看其他。</p>
<div id="one-way-tables" class="section level3">
<h3><span class="header-section-number">5.13.1</span> One Way Tables</h3>
<ul>
<li>one-way tables: a table with one row</li>
<li>two-way tables: tables with more than one row.</li>
</ul>
<p>table()指令:<br />
table uses the cross-classifying factors to build a contingency table of the counts at each combination of factor levels.
The arguments it takes is a vector of factors, and it calculates the frequency that each factor occurs.
Here is an
example of how to create a one way table:</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>))</a>
<a class="sourceLine" id="cb207-2" data-line-number="2">results &lt;-<span class="st"> </span><span class="kw">table</span>(a)</a>
<a class="sourceLine" id="cb207-3" data-line-number="3">results</a>
<a class="sourceLine" id="cb207-4" data-line-number="4"><span class="co">#&gt; a</span></a>
<a class="sourceLine" id="cb207-5" data-line-number="5"><span class="co">#&gt; A B C </span></a>
<a class="sourceLine" id="cb207-6" data-line-number="6"><span class="co">#&gt; 4 3 2</span></a>
<a class="sourceLine" id="cb207-7" data-line-number="7">a</a>
<a class="sourceLine" id="cb207-8" data-line-number="8"><span class="co">#&gt; [1] A A B A B B C A C</span></a>
<a class="sourceLine" id="cb207-9" data-line-number="9"><span class="co">#&gt; Levels: A B C</span></a>
<a class="sourceLine" id="cb207-10" data-line-number="10"><span class="kw">attributes</span>(results)</a>
<a class="sourceLine" id="cb207-11" data-line-number="11"><span class="co">#&gt; $dim</span></a>
<a class="sourceLine" id="cb207-12" data-line-number="12"><span class="co">#&gt; [1] 3</span></a>
<a class="sourceLine" id="cb207-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb207-14" data-line-number="14"><span class="co">#&gt; $dimnames</span></a>
<a class="sourceLine" id="cb207-15" data-line-number="15"><span class="co">#&gt; $dimnames$a</span></a>
<a class="sourceLine" id="cb207-16" data-line-number="16"><span class="co">#&gt; [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</span></a>
<a class="sourceLine" id="cb207-17" data-line-number="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb207-18" data-line-number="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb207-19" data-line-number="19"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb207-20" data-line-number="20"><span class="co">#&gt; [1] &quot;table&quot;</span></a>
<a class="sourceLine" id="cb207-21" data-line-number="21"><span class="kw">summary</span>(results)</a>
<a class="sourceLine" id="cb207-22" data-line-number="22"><span class="co">#&gt; Number of cases in table: 9 </span></a>
<a class="sourceLine" id="cb207-23" data-line-number="23"><span class="co">#&gt; Number of factors: 1</span></a></code></pre></div>
<pre><code>
> class(a)
[1] "factor"
> typeof(a)
[1] "integer"
> a[1]
[1] A
Levels: A B C
> a
[1] A A B A B B C A C
Levels: A B C
> a[[1]]
[1] A
Levels: A B C
> typeof(a[[1]])
[1] "integer"
> typeof(a[1])
[1] "integer"
> class(a[[1]])
[1] "factor"
> class(a[1])
[1] "factor"

a[1] a[[1]] 都是Factor 沒有[ 和 [[ 的分別.為甚麼?
> str(a[[1]])
 Factor w/ 3 levels "A","B","C": 1
> str(a[1])
 Factor w/ 3 levels "A","B","C": 1
</code></pre>
<p>如果我們知道A有4,個,B有3個,C有2個,能不能直接建立table?<br />
1. 先建立matrix<br />
2. 再加入欄位名稱<br />
3. 利用函數as.table()</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="co"># step 1</span></a>
<a class="sourceLine" id="cb208-2" data-line-number="2">occur &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>), <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb208-3" data-line-number="3">occur</a>
<a class="sourceLine" id="cb208-4" data-line-number="4"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb208-5" data-line-number="5"><span class="co">#&gt; [1,]    4    3    2</span></a>
<a class="sourceLine" id="cb208-6" data-line-number="6"><span class="co">#step 2</span></a>
<a class="sourceLine" id="cb208-7" data-line-number="7"><span class="kw">colnames</span>(occur) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb208-8" data-line-number="8">occur</a>
<a class="sourceLine" id="cb208-9" data-line-number="9"><span class="co">#&gt;      A B C</span></a>
<a class="sourceLine" id="cb208-10" data-line-number="10"><span class="co">#&gt; [1,] 4 3 2</span></a>
<a class="sourceLine" id="cb208-11" data-line-number="11"><span class="co">#step 3</span></a>
<a class="sourceLine" id="cb208-12" data-line-number="12">occur &lt;-<span class="st"> </span><span class="kw">as.table</span>(occur)</a>
<a class="sourceLine" id="cb208-13" data-line-number="13">occur</a>
<a class="sourceLine" id="cb208-14" data-line-number="14"><span class="co">#&gt;   A B C</span></a>
<a class="sourceLine" id="cb208-15" data-line-number="15"><span class="co">#&gt; A 4 3 2</span></a>
<a class="sourceLine" id="cb208-16" data-line-number="16"><span class="kw">attributes</span>(occur)</a>
<a class="sourceLine" id="cb208-17" data-line-number="17"><span class="co">#&gt; $dim</span></a>
<a class="sourceLine" id="cb208-18" data-line-number="18"><span class="co">#&gt; [1] 1 3</span></a>
<a class="sourceLine" id="cb208-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb208-20" data-line-number="20"><span class="co">#&gt; $dimnames</span></a>
<a class="sourceLine" id="cb208-21" data-line-number="21"><span class="co">#&gt; $dimnames[[1]]</span></a>
<a class="sourceLine" id="cb208-22" data-line-number="22"><span class="co">#&gt; [1] &quot;A&quot;</span></a>
<a class="sourceLine" id="cb208-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb208-24" data-line-number="24"><span class="co">#&gt; $dimnames[[2]]</span></a>
<a class="sourceLine" id="cb208-25" data-line-number="25"><span class="co">#&gt; [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</span></a>
<a class="sourceLine" id="cb208-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb208-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb208-28" data-line-number="28"><span class="co">#&gt; $class</span></a>
<a class="sourceLine" id="cb208-29" data-line-number="29"><span class="co">#&gt; [1] &quot;table&quot;</span></a></code></pre></div>
</div>
<div id="two-way-tables" class="section level3">
<h3><span class="header-section-number">5.13.2</span> Two Way Tables</h3>
<p>這個例子中有兩個問題:第1個問題的答案有“Never,” “Sometimes,” or “Always.”<br />
第2個問題的答案有 “Yes,” “No,” or “Maybe.”
兩個問題分別以向量a,b存放( The set of vectors “a,” and “b,” contain the response for each measurement.)</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Never&quot;</span>, <span class="st">&quot;Always&quot;</span>, <span class="st">&quot;Always&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Never&quot;</span>)</a>
<a class="sourceLine" id="cb209-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</a>
<a class="sourceLine" id="cb209-3" data-line-number="3">results &lt;-<span class="st"> </span><span class="kw">table</span>(a, b)</a>
<a class="sourceLine" id="cb209-4" data-line-number="4">results</a>
<a class="sourceLine" id="cb209-5" data-line-number="5"><span class="co">#&gt;            b</span></a>
<a class="sourceLine" id="cb209-6" data-line-number="6"><span class="co">#&gt; a           Maybe No Yes</span></a>
<a class="sourceLine" id="cb209-7" data-line-number="7"><span class="co">#&gt;   Always        2  0   0</span></a>
<a class="sourceLine" id="cb209-8" data-line-number="8"><span class="co">#&gt;   Never         0  1   1</span></a>
<a class="sourceLine" id="cb209-9" data-line-number="9"><span class="co">#&gt;   Sometimes     2  1   1</span></a></code></pre></div>
<p>在表格中,可以看到同時回答 “Maybe” “Sometimes” 的個數有幾個。</p>
<p>這裡是另一個直接由我們知道的數據建立table的例子</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1">sexsmoke &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">70</span>, <span class="dv">120</span>, <span class="dv">65</span>, <span class="dv">140</span>), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb210-2" data-line-number="2"><span class="kw">rownames</span>(sexsmoke) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>)</a>
<a class="sourceLine" id="cb210-3" data-line-number="3"><span class="kw">colnames</span>(sexsmoke) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;smoke&quot;</span>, <span class="st">&quot;nosmoke&quot;</span>)</a>
<a class="sourceLine" id="cb210-4" data-line-number="4">sexsmoke &lt;-<span class="st"> </span><span class="kw">as.table</span>(sexsmoke)</a>
<a class="sourceLine" id="cb210-5" data-line-number="5">sexsmoke</a>
<a class="sourceLine" id="cb210-6" data-line-number="6"><span class="co">#&gt;        smoke nosmoke</span></a>
<a class="sourceLine" id="cb210-7" data-line-number="7"><span class="co">#&gt; male      70     120</span></a>
<a class="sourceLine" id="cb210-8" data-line-number="8"><span class="co">#&gt; female    65     140</span></a></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-packages.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assignment.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/type_Basic.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
