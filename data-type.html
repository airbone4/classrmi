<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>test for class</title>
  <meta name="description" content="web article test">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="test for class" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="web article test" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="test for class" />
  
  <meta name="twitter:description" content="web article test" />
  

<meta name="author" content="lend jwj cen">


<meta name="date" content="2018-11-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="regular-expression-syntax.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="adv-r.css" type="text/css" />
<link rel="stylesheet" href="tableStyle.css" type="text/css" />
<link rel="stylesheet" href="toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">testing </a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 簡介</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#section-1.1"><i class="fa fa-check"></i><b>1.1</b> 網路資源</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#section-1.2"><i class="fa fa-check"></i><b>1.2</b> 安裝軟體</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#update-package"><i class="fa fa-check"></i><b>1.2.1</b> 自動update package</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#quick-view"><i class="fa fa-check"></i><b>1.3</b> quick view</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#section-1.4"><i class="fa fa-check"></i><b>1.4</b> 資料型態和內容</a><ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#section-1.4.1"><i class="fa fa-check"></i><b>1.4.1</b> 編輯/瀏覽資料</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#section-1.4.2"><i class="fa fa-check"></i><b>1.4.2</b> 個別欄位</a></li>
<li class="chapter" data-level="1.4.3" data-path="index.html"><a href="index.html#section-1.4.3"><i class="fa fa-check"></i><b>1.4.3</b> 質性數據的分析</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#assignment"><i class="fa fa-check"></i><b>1.5</b> assignment</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-type.html"><a href="data-type.html"><i class="fa fa-check"></i><b>2</b> data type</a><ul>
<li class="chapter" data-level="2.1" data-path="data-type.html"><a href="data-type.html#section-2.1"><i class="fa fa-check"></i><b>2.1</b> 基本操作</a><ul>
<li class="chapter" data-level="2.1.1" data-path="data-type.html"><a href="data-type.html#section-2.1.1"><i class="fa fa-check"></i><b>2.1.1</b> 指派</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-type.html"><a href="data-type.html#section-2.2"><i class="fa fa-check"></i><b>2.2</b> 運算</a><ul>
<li class="chapter" data-level="2.2.1" data-path="data-type.html"><a href="data-type.html#section-2.2.1"><i class="fa fa-check"></i><b>2.2.1</b> 四則運算</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-type.html"><a href="data-type.html#logical"><i class="fa fa-check"></i><b>2.2.2</b> Logical</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-type.html"><a href="data-type.html#section-2.2.3"><i class="fa fa-check"></i><b>2.2.3</b> 資源</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-type.html"><a href="data-type.html#section-2.3"><i class="fa fa-check"></i><b>2.3</b> 介紹</a></li>
<li class="chapter" data-level="2.4" data-path="data-type.html"><a href="data-type.html#section-2.4"><i class="fa fa-check"></i><b>2.4</b> 實數的比較</a></li>
<li class="chapter" data-level="2.5" data-path="data-type.html"><a href="data-type.html#section-2.5"><i class="fa fa-check"></i><b>2.5</b> 字串</a><ul>
<li class="chapter" data-level="2.5.1" data-path="data-type.html"><a href="data-type.html#section-2.5.1"><i class="fa fa-check"></i><b>2.5.1</b> 建立字串</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-type.html"><a href="data-type.html#section-2.5.2"><i class="fa fa-check"></i><b>2.5.2</b> 空字串</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-type.html"><a href="data-type.html#is-family"><i class="fa fa-check"></i><b>2.6</b> 型態操作is family</a></li>
<li class="chapter" data-level="2.7" data-path="data-type.html"><a href="data-type.html#vector"><i class="fa fa-check"></i><b>2.7</b> vector</a><ul>
<li class="chapter" data-level="2.7.1" data-path="data-type.html"><a href="data-type.html#section-2.7.1"><i class="fa fa-check"></i><b>2.7.1</b> 練習範例</a></li>
<li class="chapter" data-level="2.7.2" data-path="data-type.html"><a href="data-type.html#vector-"><i class="fa fa-check"></i><b>2.7.2</b> vector 相關的運算</a></li>
<li class="chapter" data-level="2.7.3" data-path="data-type.html"><a href="data-type.html#vector"><i class="fa fa-check"></i><b>2.7.3</b> 如何存取vector中的元素</a></li>
<li class="chapter" data-level="2.7.4" data-path="data-type.html"><a href="data-type.html#section-2.7.4"><i class="fa fa-check"></i><b>2.7.4</b> 邏輯做為索引</a></li>
<li class="chapter" data-level="2.7.5" data-path="data-type.html"><a href="data-type.html#-character-vector-"><i class="fa fa-check"></i><b>2.7.5</b> 利用字串( character vector) 作為索引</a></li>
<li class="chapter" data-level="2.7.6" data-path="data-type.html"><a href="data-type.html#how-to-modify-a-vector-in-r"><i class="fa fa-check"></i><b>2.7.6</b> How to modify a vector in R?</a></li>
<li class="chapter" data-level="2.7.7" data-path="data-type.html"><a href="data-type.html#how-to-delete-a-vector"><i class="fa fa-check"></i><b>2.7.7</b> How to delete a Vector?</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="data-type.html"><a href="data-type.html#list"><i class="fa fa-check"></i><b>2.8</b> List</a><ul>
<li class="chapter" data-level="2.8.1" data-path="data-type.html"><a href="data-type.html#-list"><i class="fa fa-check"></i><b>2.8.1</b> 建立 List</a></li>
<li class="chapter" data-level="2.8.2" data-path="data-type.html"><a href="data-type.html#-list-"><i class="fa fa-check"></i><b>2.8.2</b> 存取 List 元素</a></li>
<li class="chapter" data-level="2.8.3" data-path="data-type.html"><a href="data-type.html#manipulating-list-elements"><i class="fa fa-check"></i><b>2.8.3</b> Manipulating List Elements</a></li>
<li class="chapter" data-level="2.8.4" data-path="data-type.html"><a href="data-type.html#merging-lists"><i class="fa fa-check"></i><b>2.8.4</b> Merging Lists</a></li>
<li class="chapter" data-level="2.8.5" data-path="data-type.html"><a href="data-type.html#list--vector"><i class="fa fa-check"></i><b>2.8.5</b> List 轉 Vector</a></li>
<li class="chapter" data-level="2.8.6" data-path="data-type.html"><a href="data-type.html#vector-list"><i class="fa fa-check"></i><b>2.8.6</b> 比較vector, list中,字串的問題</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="data-type.html"><a href="data-type.html#data-set-build-in"><i class="fa fa-check"></i><b>2.9</b> data set build in</a><ul>
<li class="chapter" data-level="2.9.1" data-path="data-type.html"><a href="data-type.html#list-of-pre-loaded-data"><i class="fa fa-check"></i><b>2.9.1</b> List of pre-loaded data</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="data-type.html"><a href="data-type.html#vector-"><i class="fa fa-check"></i><b>2.10</b> vector 函數範例</a><ul>
<li class="chapter" data-level="2.10.1" data-path="data-type.html"><a href="data-type.html#cbindrbind"><i class="fa fa-check"></i><b>2.10.1</b> cbind,rbind</a></li>
<li class="chapter" data-level="2.10.2" data-path="data-type.html"><a href="data-type.html#diff"><i class="fa fa-check"></i><b>2.10.2</b> 函數diff</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="data-type.html"><a href="data-type.html#-"><i class="fa fa-check"></i><b>2.11</b> 練習: 刪除向量中的一個元素</a><ul>
<li class="chapter" data-level="2.11.1" data-path="data-type.html"><a href="data-type.html#adding-attributes-to-vectors"><i class="fa fa-check"></i><b>2.11.1</b> <span>Adding Attributes to Vectors</span></a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="data-type.html"><a href="data-type.html#matrix"><i class="fa fa-check"></i><b>2.12</b> matrix</a><ul>
<li class="chapter" data-level="2.12.1" data-path="data-type.html"><a href="data-type.html#transpose"><i class="fa fa-check"></i><b>2.12.1</b> Transpose</a></li>
<li class="chapter" data-level="2.12.2" data-path="data-type.html"><a href="data-type.html#section-2.12.2"><i class="fa fa-check"></i><b>2.12.2</b> 合併矩陣</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="data-type.html"><a href="data-type.html#section-2.13"><i class="fa fa-check"></i><b>2.13</b> 字串函數</a><ul>
<li class="chapter" data-level="2.13.1" data-path="data-type.html"><a href="data-type.html#macro"><i class="fa fa-check"></i><b>2.13.1</b> 應用範例macro</a></li>
<li class="chapter" data-level="2.13.2" data-path="data-type.html"><a href="data-type.html#paste"><i class="fa fa-check"></i><b>2.13.2</b> paste</a></li>
<li class="chapter" data-level="2.13.3" data-path="data-type.html"><a href="data-type.html#misc"><i class="fa fa-check"></i><b>2.13.3</b> misc</a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="data-type.html"><a href="data-type.html#factors"><i class="fa fa-check"></i><b>2.14</b> Factors</a><ul>
<li class="chapter" data-level="2.14.1" data-path="data-type.html"><a href="data-type.html#factors"><i class="fa fa-check"></i><b>2.14.1</b> 探索一下factors</a></li>
<li class="chapter" data-level="2.14.2" data-path="data-type.html"><a href="data-type.html#factor"><i class="fa fa-check"></i><b>2.14.2</b> 探索一下factor</a></li>
<li class="chapter" data-level="2.14.3" data-path="data-type.html"><a href="data-type.html#factor-read.csv"><i class="fa fa-check"></i><b>2.14.3</b> factor 和函數read.csv()</a></li>
<li class="chapter" data-level="2.14.4" data-path="data-type.html"><a href="data-type.html#factor-summary"><i class="fa fa-check"></i><b>2.14.4</b> factor 和函數summary()</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="data-type.html"><a href="data-type.html#data-frames"><i class="fa fa-check"></i><b>2.15</b> Data Frames</a><ul>
<li class="chapter" data-level="2.15.1" data-path="data-type.html"><a href="data-type.html#data.frame"><i class="fa fa-check"></i><b>2.15.1</b> 簡單介紹一下手動建立data.frame</a></li>
<li class="chapter" data-level="2.15.2" data-path="data-type.html"><a href="data-type.html#data-frame-"><i class="fa fa-check"></i><b>2.15.2</b> data frame 的常用函數：</a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="data-type.html"><a href="data-type.html#tables"><i class="fa fa-check"></i><b>2.16</b> Tables</a><ul>
<li class="chapter" data-level="2.16.1" data-path="data-type.html"><a href="data-type.html#one-way-tables"><i class="fa fa-check"></i><b>2.16.1</b> One Way Tables</a></li>
<li class="chapter" data-level="2.16.2" data-path="data-type.html"><a href="data-type.html#two-way-tables"><i class="fa fa-check"></i><b>2.16.2</b> Two Way Tables</a></li>
</ul></li>
<li class="chapter" data-level="2.17" data-path="data-type.html"><a href="data-type.html#oop"><i class="fa fa-check"></i><b>2.17</b> OOP</a><ul>
<li class="chapter" data-level="2.17.1" data-path="data-type.html"><a href="data-type.html#section-2.17.1"><i class="fa fa-check"></i><b>2.17.1</b> 變數屬性查詢函數</a></li>
</ul></li>
<li class="chapter" data-level="2.18" data-path="data-type.html"><a href="data-type.html#operator"><i class="fa fa-check"></i><b>2.18</b> operator %&gt;%</a></li>
<li class="chapter" data-level="2.19" data-path="data-type.html"><a href="data-type.html#section-2.19"><i class="fa fa-check"></i><b>2.19</b> 相關操作</a><ul>
<li class="chapter" data-level="2.19.1" data-path="data-type.html"><a href="data-type.html#section-2.19.1"><i class="fa fa-check"></i><b>2.19.1</b> 問題:想要知道有甚麼資料庫可以用?</a></li>
</ul></li>
<li class="chapter" data-level="2.20" data-path="data-type.html"><a href="data-type.html#section-2.20"><i class="fa fa-check"></i><b>2.20</b> 常見錯誤</a><ul>
<li class="chapter" data-level="2.20.1" data-path="data-type.html"><a href="data-type.html#error"><i class="fa fa-check"></i><b>2.20.1</b> error</a></li>
<li class="chapter" data-level="2.20.2" data-path="data-type.html"><a href="data-type.html#error-1"><i class="fa fa-check"></i><b>2.20.2</b> error</a></li>
<li class="chapter" data-level="2.20.3" data-path="data-type.html"><a href="data-type.html#error-2"><i class="fa fa-check"></i><b>2.20.3</b> error</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html"><i class="fa fa-check"></i><b>3</b> Regular expression syntax</a><ul>
<li class="chapter" data-level="3.0.1" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#escape-sequences"><i class="fa fa-check"></i><b>3.0.1</b> Escape sequences</a></li>
<li class="chapter" data-level="3.0.2" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#section-3.0.2"><i class="fa fa-check"></i><b>3.0.2</b> 應用</a></li>
<li class="chapter" data-level="3.0.3" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#quantifiers"><i class="fa fa-check"></i><b>3.0.3</b> 數量修飾詞Quantifiers</a></li>
<li class="chapter" data-level="3.0.4" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#position-of-pattern-within-the-string"><i class="fa fa-check"></i><b>3.0.4</b> Position of pattern within the string</a></li>
<li class="chapter" data-level="3.0.5" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#operators"><i class="fa fa-check"></i><b>3.0.5</b> Operators</a></li>
<li class="chapter" data-level="3.0.6" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#character-classes"><i class="fa fa-check"></i><b>3.0.6</b> Character classes</a></li>
<li class="chapter" data-level="3.1" data-path="regular-expression-syntax.html"><a href="regular-expression-syntax.html#attribute"><i class="fa fa-check"></i><b>3.1</b> attribute</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="file-system.html"><a href="file-system.html"><i class="fa fa-check"></i><b>4</b> File System</a><ul>
<li class="chapter" data-level="4.1" data-path="file-system.html"><a href="file-system.html#exploring-file-system"><i class="fa fa-check"></i><b>4.1</b> Exploring file system</a></li>
<li class="chapter" data-level="4.2" data-path="file-system.html"><a href="file-system.html#creating-of-a-directory"><i class="fa fa-check"></i><b>4.2</b> Creating of a directory</a></li>
<li class="chapter" data-level="4.3" data-path="file-system.html"><a href="file-system.html#r"><i class="fa fa-check"></i><b>4.3</b> R系統檔案列表</a></li>
<li class="chapter" data-level="4.4" data-path="file-system.html"><a href="file-system.html#r"><i class="fa fa-check"></i><b>4.4</b> 在R中建立檔案名稱</a><ul>
<li class="chapter" data-level="4.4.1" data-path="file-system.html"><a href="file-system.html#note-about-windows"><i class="fa fa-check"></i><b>4.4.1</b> Note about Windows</a></li>
<li class="chapter" data-level="4.4.2" data-path="file-system.html"><a href="file-system.html#section-4.4.2"><i class="fa fa-check"></i><b>4.4.2</b> 和工作區相關的指令</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="file-system.html"><a href="file-system.html#section-4.5"><i class="fa fa-check"></i><b>4.5</b> 讀檔</a><ul>
<li class="chapter" data-level="4.5.1" data-path="file-system.html"><a href="file-system.html#section-4.5.1"><i class="fa fa-check"></i><b>4.5.1</b> 一般的開檔/關檔過程</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="file-system.html"><a href="file-system.html#write-csv"><i class="fa fa-check"></i><b>4.6</b> write csv</a><ul>
<li class="chapter" data-level="4.6.1" data-path="file-system.html"><a href="file-system.html#data.frame-to-csv"><i class="fa fa-check"></i><b>4.6.1</b> data.frame to CSV</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="file-system.html"><a href="file-system.html#r"><i class="fa fa-check"></i><b>4.7</b> R語言的檔案格式</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>5</b> Functions</a><ul>
<li class="chapter" data-level="5.1" data-path="functions.html"><a href="functions.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html#outline"><i class="fa fa-check"></i>Outline</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="functions.html"><a href="functions.html#function-fundamentals"><i class="fa fa-check"></i><b>5.2</b> Function fundamentals</a><ul>
<li class="chapter" data-level="5.2.1" data-path="functions.html"><a href="functions.html#first-class-functions"><i class="fa fa-check"></i><b>5.2.1</b> First-class functions</a></li>
<li class="chapter" data-level="5.2.2" data-path="functions.html"><a href="functions.html#function-components"><i class="fa fa-check"></i><b>5.2.2</b> Function components</a></li>
<li class="chapter" data-level="5.2.3" data-path="functions.html"><a href="functions.html#primitive-functions"><i class="fa fa-check"></i><b>5.2.3</b> Primitive functions</a></li>
<li class="chapter" data-level="5.2.4" data-path="functions.html"><a href="functions.html#exercises"><i class="fa fa-check"></i><b>5.2.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="functions.html"><a href="functions.html#lexical-scoping"><i class="fa fa-check"></i><b>5.3</b> Lexical scoping</a><ul>
<li class="chapter" data-level="5.3.1" data-path="functions.html"><a href="functions.html#name-masking"><i class="fa fa-check"></i><b>5.3.1</b> Name masking</a></li>
<li class="chapter" data-level="5.3.2" data-path="functions.html"><a href="functions.html#functions-vs.variables"><i class="fa fa-check"></i><b>5.3.2</b> Functions vs. variables</a></li>
<li class="chapter" data-level="5.3.3" data-path="functions.html"><a href="functions.html#fresh-start"><i class="fa fa-check"></i><b>5.3.3</b> A fresh start</a></li>
<li class="chapter" data-level="5.3.4" data-path="functions.html"><a href="functions.html#dynamic-lookup"><i class="fa fa-check"></i><b>5.3.4</b> Dynamic lookup</a></li>
<li class="chapter" data-level="5.3.5" data-path="functions.html"><a href="functions.html#exercises-1"><i class="fa fa-check"></i><b>5.3.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="functions.html"><a href="functions.html#lazy-evaluation"><i class="fa fa-check"></i><b>5.4</b> Lazy evaluation</a><ul>
<li class="chapter" data-level="5.4.1" data-path="functions.html"><a href="functions.html#forcing-evaluation"><i class="fa fa-check"></i><b>5.4.1</b> Forcing evaluation</a></li>
<li class="chapter" data-level="5.4.2" data-path="functions.html"><a href="functions.html#promises"><i class="fa fa-check"></i><b>5.4.2</b> Promises</a></li>
<li class="chapter" data-level="5.4.3" data-path="functions.html"><a href="functions.html#default-arguments"><i class="fa fa-check"></i><b>5.4.3</b> Default arguments</a></li>
<li class="chapter" data-level="5.4.4" data-path="functions.html"><a href="functions.html#missing-arguments"><i class="fa fa-check"></i><b>5.4.4</b> Missing arguments</a></li>
<li class="chapter" data-level="5.4.5" data-path="functions.html"><a href="functions.html#exercises-2"><i class="fa fa-check"></i><b>5.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="functions.html"><a href="functions.html#fun-dot-dot-dot"><i class="fa fa-check"></i><b>5.5</b> <code>...</code> (dot-dot-dot)</a><ul>
<li class="chapter" data-level="5.5.1" data-path="functions.html"><a href="functions.html#exercises-3"><i class="fa fa-check"></i><b>5.5.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="functions.html"><a href="functions.html#exiting-a-function"><i class="fa fa-check"></i><b>5.6</b> Exiting a function</a><ul>
<li class="chapter" data-level="5.6.1" data-path="functions.html"><a href="functions.html#implicit-vs.explict-returns"><i class="fa fa-check"></i><b>5.6.1</b> Implicit vs. explict returns</a></li>
<li class="chapter" data-level="5.6.2" data-path="functions.html"><a href="functions.html#invisible-values"><i class="fa fa-check"></i><b>5.6.2</b> Invisible values</a></li>
<li class="chapter" data-level="5.6.3" data-path="functions.html"><a href="functions.html#errors"><i class="fa fa-check"></i><b>5.6.3</b> Errors</a></li>
<li class="chapter" data-level="5.6.4" data-path="functions.html"><a href="functions.html#on-exit"><i class="fa fa-check"></i><b>5.6.4</b> Exit handlers</a></li>
<li class="chapter" data-level="5.6.5" data-path="functions.html"><a href="functions.html#exercises-4"><i class="fa fa-check"></i><b>5.6.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="functions.html"><a href="functions.html#function-forms"><i class="fa fa-check"></i><b>5.7</b> Function forms</a><ul>
<li class="chapter" data-level="5.7.1" data-path="functions.html"><a href="functions.html#rewriting-to-prefix-form"><i class="fa fa-check"></i><b>5.7.1</b> Rewriting to prefix form</a></li>
<li class="chapter" data-level="5.7.2" data-path="functions.html"><a href="functions.html#prefix-form-prefix-form"><i class="fa fa-check"></i><b>5.7.2</b> Prefix form {prefix-form}</a></li>
<li class="chapter" data-level="5.7.3" data-path="functions.html"><a href="functions.html#infix-functions"><i class="fa fa-check"></i><b>5.7.3</b> Infix functions</a></li>
<li class="chapter" data-level="5.7.4" data-path="functions.html"><a href="functions.html#replacement-functions"><i class="fa fa-check"></i><b>5.7.4</b> Replacement functions</a></li>
<li class="chapter" data-level="5.7.5" data-path="functions.html"><a href="functions.html#special-forms"><i class="fa fa-check"></i><b>5.7.5</b> Special forms</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="functions.html"><a href="functions.html#invoking-a-function"><i class="fa fa-check"></i><b>5.8</b> Invoking a function</a><ul>
<li class="chapter" data-level="5.8.1" data-path="functions.html"><a href="functions.html#exercises-5"><i class="fa fa-check"></i><b>5.8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="functions.html"><a href="functions.html#function-answers"><i class="fa fa-check"></i><b>5.9</b> Quiz answers</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-6.html"><a href="section-6.html"><i class="fa fa-check"></i><b>6</b> 資料探索</a><ul>
<li class="chapter" data-level="6.1" data-path="section-6.html"><a href="section-6.html#wooldriidge-"><i class="fa fa-check"></i><b>6.1</b> 來自wooldriidge 的資料集</a></li>
<li class="chapter" data-level="6.2" data-path="section-6.html"><a href="section-6.html#section"><i class="fa fa-check"></i><b>6.2</b> </a><ul>
<li class="chapter" data-level="6.2.1" data-path="section-6.html"><a href="section-6.html#manually-enter-raw-data-from-wooldridge-table-c.3"><i class="fa fa-check"></i><b>6.2.1</b> Manually enter raw data from Wooldridge, Table C.3:</a></li>
<li class="chapter" data-level="6.2.2" data-path="section-6.html"><a href="section-6.html#calculate-change-the-parentheses-just-display-the-results"><i class="fa fa-check"></i><b>6.2.2</b> Calculate Change (the parentheses just display the results):</a></li>
<li class="chapter" data-level="6.2.3" data-path="section-6.html"><a href="section-6.html#ingredients-to-ci-formula"><i class="fa fa-check"></i><b>6.2.3</b> Ingredients to CI formula</a></li>
<li class="chapter" data-level="6.2.4" data-path="section-6.html"><a href="section-6.html#confidence-intervall"><i class="fa fa-check"></i><b>6.2.4</b> Confidence intervall:</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="section-6.html"><a href="section-6.html#misc-1"><i class="fa fa-check"></i><b>6.3</b> misc</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-packages.html"><a href="r-packages.html"><i class="fa fa-check"></i><b>7</b> R Packages</a><ul>
<li class="chapter" data-level="7.1" data-path="r-packages.html"><a href="r-packages.html#section-7.1"><i class="fa fa-check"></i><b>7.1</b> 基本</a><ul>
<li class="chapter" data-level="7.1.1" data-path="r-packages.html"><a href="r-packages.html#section-7.1.1"><i class="fa fa-check"></i><b>7.1.1</b> 套件在哪裡</a></li>
<li class="chapter" data-level="7.1.2" data-path="r-packages.html"><a href="r-packages.html#section-7.1.2"><i class="fa fa-check"></i><b>7.1.2</b> 搜尋套建中的檔案</a></li>
<li class="chapter" data-level="7.1.3" data-path="r-packages.html"><a href="r-packages.html#section-7.1.3"><i class="fa fa-check"></i><b>7.1.3</b> 哪個函數屬於哪個套件?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="r-packages.html"><a href="r-packages.html#library-vs-require"><i class="fa fa-check"></i><b>7.2</b> <code>library()</code> vs <code>require()</code></a></li>
<li class="chapter" data-level="7.3" data-path="r-packages.html"><a href="r-packages.html#debug"><i class="fa fa-check"></i><b>7.3</b> 測試debug</a></li>
<li class="chapter" data-level="7.4" data-path="r-packages.html"><a href="r-packages.html#-package"><i class="fa fa-check"></i><b>7.4</b> 自製 package</a><ul>
<li class="chapter" data-level="7.4.1" data-path="r-packages.html"><a href="r-packages.html#-package-"><i class="fa fa-check"></i><b>7.4.1</b> 自製 package 範例</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html"><i class="fa fa-check"></i><b>8</b> Packing up your data</a><ul>
<li class="chapter" data-level="8.1" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#preliminaries"><i class="fa fa-check"></i><b>8.1</b> Preliminaries</a></li>
<li class="chapter" data-level="8.2" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#what-is-a-package"><i class="fa fa-check"></i><b>8.2</b> What is a package?</a><ul>
<li class="chapter" data-level="8.2.1" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#section-8.2.1"><i class="fa fa-check"></i><b>8.2.1</b> 也可以包含資料</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#section-8.3"><i class="fa fa-check"></i><b>8.3</b> 怎樣自訂套件</a><ul>
<li class="chapter" data-level="8.3.1" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#devtools-package-skeleton"><i class="fa fa-check"></i><b>8.3.1</b> 利用<code>devtools</code> 建立骨架(package skeleton)</a></li>
<li class="chapter" data-level="8.3.2" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#section-8.3.2"><i class="fa fa-check"></i><b>8.3.2</b> 工作流程</a></li>
<li class="chapter" data-level="8.3.3" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#documentation-and-exports"><i class="fa fa-check"></i><b>8.3.3</b> Documentation and exports</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="packing-up-your-data.html"><a href="packing-up-your-data.html#section-8.4"><i class="fa fa-check"></i><b>8.4</b> 資料放入套件</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="environments.html"><a href="environments.html"><i class="fa fa-check"></i><b>9</b> Environments</a><ul>
<li class="chapter" data-level="9.1" data-path="environments.html"><a href="environments.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a><ul>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#quiz"><i class="fa fa-check"></i>Quiz</a></li>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#outline-1"><i class="fa fa-check"></i>Outline</a></li>
<li class="chapter" data-level="" data-path="environments.html"><a href="environments.html#prerequisites"><i class="fa fa-check"></i>Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="environments.html"><a href="environments.html#env-basics"><i class="fa fa-check"></i><b>9.2</b> Environment basics</a><ul>
<li class="chapter" data-level="9.2.1" data-path="environments.html"><a href="environments.html#basics"><i class="fa fa-check"></i><b>9.2.1</b> Basics</a></li>
<li class="chapter" data-level="9.2.2" data-path="environments.html"><a href="environments.html#important-environments"><i class="fa fa-check"></i><b>9.2.2</b> Important environments</a></li>
<li class="chapter" data-level="9.2.3" data-path="environments.html"><a href="environments.html#parents"><i class="fa fa-check"></i><b>9.2.3</b> Parents</a></li>
<li class="chapter" data-level="9.2.4" data-path="environments.html"><a href="environments.html#getting-and-setting"><i class="fa fa-check"></i><b>9.2.4</b> Getting and setting</a></li>
<li class="chapter" data-level="9.2.5" data-path="environments.html"><a href="environments.html#finalisers"><i class="fa fa-check"></i><b>9.2.5</b> Finalisers</a></li>
<li class="chapter" data-level="9.2.6" data-path="environments.html"><a href="environments.html#advanced-bindings"><i class="fa fa-check"></i><b>9.2.6</b> Advanced bindings</a></li>
<li class="chapter" data-level="9.2.7" data-path="environments.html"><a href="environments.html#exercises-6"><i class="fa fa-check"></i><b>9.2.7</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="environments.html"><a href="environments.html#env-recursion"><i class="fa fa-check"></i><b>9.3</b> Recursing over environments</a><ul>
<li class="chapter" data-level="9.3.1" data-path="environments.html"><a href="environments.html#exercises-7"><i class="fa fa-check"></i><b>9.3.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="environments.html"><a href="environments.html#function-envs"><i class="fa fa-check"></i><b>9.4</b> Special environments</a><ul>
<li class="chapter" data-level="9.4.1" data-path="environments.html"><a href="environments.html#package-environments-and-the-search-path"><i class="fa fa-check"></i><b>9.4.1</b> Package environments and the search path</a></li>
<li class="chapter" data-level="9.4.2" data-path="environments.html"><a href="environments.html#the-function-environment"><i class="fa fa-check"></i><b>9.4.2</b> The function environment</a></li>
<li class="chapter" data-level="9.4.3" data-path="environments.html"><a href="environments.html#namespaces"><i class="fa fa-check"></i><b>9.4.3</b> Namespaces</a></li>
<li class="chapter" data-level="9.4.4" data-path="environments.html"><a href="environments.html#execution-environments"><i class="fa fa-check"></i><b>9.4.4</b> Execution environments</a></li>
<li class="chapter" data-level="9.4.5" data-path="environments.html"><a href="environments.html#exercises-8"><i class="fa fa-check"></i><b>9.4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="environments.html"><a href="environments.html#the-call-stack"><i class="fa fa-check"></i><b>9.5</b> The call stack</a><ul>
<li class="chapter" data-level="9.5.1" data-path="environments.html"><a href="environments.html#simple-call-stacks"><i class="fa fa-check"></i><b>9.5.1</b> Simple call stacks</a></li>
<li class="chapter" data-level="9.5.2" data-path="environments.html"><a href="environments.html#lazy-evaluation-1"><i class="fa fa-check"></i><b>9.5.2</b> Lazy evaluation</a></li>
<li class="chapter" data-level="9.5.3" data-path="environments.html"><a href="environments.html#frames"><i class="fa fa-check"></i><b>9.5.3</b> Frames</a></li>
<li class="chapter" data-level="9.5.4" data-path="environments.html"><a href="environments.html#dynamic-scope"><i class="fa fa-check"></i><b>9.5.4</b> Dynamic scope</a></li>
<li class="chapter" data-level="9.5.5" data-path="environments.html"><a href="environments.html#exercises-9"><i class="fa fa-check"></i><b>9.5.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="environments.html"><a href="environments.html#explicit-envs"><i class="fa fa-check"></i><b>9.6</b> As data structures</a></li>
<li class="chapter" data-level="9.7" data-path="index.html"><a href="index.html#section-1"><i class="fa fa-check"></i><b>9.7</b> <code>&lt;&lt;-</code></a><ul>
<li class="chapter" data-level="9.7.1" data-path="environments.html"><a href="environments.html#exercises-10"><i class="fa fa-check"></i><b>9.7.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="environments.html"><a href="environments.html#env-answers"><i class="fa fa-check"></i><b>9.8</b> Quiz answers</a><ul>
<li class="chapter" data-level="9.8.1" data-path="environments.html"><a href="environments.html#term"><i class="fa fa-check"></i><b>9.8.1</b> term</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="section-10.html"><a href="section-10.html"><i class="fa fa-check"></i><b>10</b> 基本繪圖</a><ul>
<li class="chapter" data-level="10.1" data-path="section-10.html"><a href="section-10.html#reference"><i class="fa fa-check"></i><b>10.1</b> reference</a></li>
<li class="chapter" data-level="10.2" data-path="section-10.html"><a href="section-10.html#basic"><i class="fa fa-check"></i><b>10.2</b> basic</a><ul>
<li class="chapter" data-level="10.2.1" data-path="section-10.html"><a href="section-10.html#histograms"><i class="fa fa-check"></i><b>10.2.1</b> Histograms</a></li>
<li class="chapter" data-level="10.2.2" data-path="section-10.html"><a href="section-10.html#kernel-density-plot"><i class="fa fa-check"></i><b>10.2.2</b> Kernel Density Plot</a></li>
<li class="chapter" data-level="10.2.3" data-path="section-10.html"><a href="section-10.html#saving-graphs"><i class="fa fa-check"></i><b>10.2.3</b> Saving Graphs</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="section-10.html"><a href="section-10.html#section-10.3"><i class="fa fa-check"></i><b>10.3</b> 多個圖和疊圖</a><ul>
<li class="chapter" data-level="10.3.1" data-path="section-10.html"><a href="section-10.html#section-10.3.1"><i class="fa fa-check"></i><b>10.3.1</b> 多視窗</a></li>
<li class="chapter" data-level="10.3.2" data-path="section-10.html"><a href="section-10.html#-plots"><i class="fa fa-check"></i><b>10.3.2</b> 合併 Plots</a></li>
<li class="chapter" data-level="10.3.3" data-path="section-10.html"><a href="section-10.html#section-10.3.3"><i class="fa fa-check"></i><b>10.3.3</b> 疊圖</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="section-10.html"><a href="section-10.html#section-10.4"><i class="fa fa-check"></i><b>10.4</b> 分組畫圖</a><ul>
<li class="chapter" data-level="10.4.1" data-path="section-10.html"><a href="section-10.html#comparing-groups-via-kernal-density"><i class="fa fa-check"></i><b>10.4.1</b> Comparing Groups VIA Kernal Density</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="section-10.html"><a href="section-10.html#add-texts-within-the-graph"><i class="fa fa-check"></i><b>10.5</b> Add texts within the graph</a><ul>
<li class="chapter" data-level="10.5.1" data-path="section-10.html"><a href="section-10.html#add-text-in-the-margins-of-the-graph"><i class="fa fa-check"></i><b>10.5.1</b> Add text in the margins of the graph</a></li>
<li class="chapter" data-level="10.5.2" data-path="section-10.html"><a href="section-10.html#add-mathematical-annotation-to-a-plot"><i class="fa fa-check"></i><b>10.5.2</b> Add mathematical annotation to a plot</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="section-10.html"><a href="section-10.html#section-10.6"><i class="fa fa-check"></i><b>10.6</b> 函數畫圖</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html"><i class="fa fa-check"></i><b>11</b> Sample and Distribution 01</a><ul>
<li class="chapter" data-level="11.1" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html#section-11.1"><i class="fa fa-check"></i><b>11.1</b> 排列組合與概率的計算</a></li>
<li class="chapter" data-level="11.2" data-path="sample-and-distribution-01.html"><a href="sample-and-distribution-01.html#distribution"><i class="fa fa-check"></i><b>11.2</b> distribution</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html"><i class="fa fa-check"></i><b>12</b> Tidy Basic 01</a><ul>
<li class="chapter" data-level="12.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#long-and-wide-data"><i class="fa fa-check"></i><b>12.1</b> long and wide data</a><ul>
<li class="chapter" data-level="12.1.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#gather-wide-to-long"><i class="fa fa-check"></i><b>12.1.1</b> gather: wide to long</a></li>
<li class="chapter" data-level="12.1.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#spread-long-to-wide"><i class="fa fa-check"></i><b>12.1.2</b> spread :long to wide</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#dplyr"><i class="fa fa-check"></i><b>12.2</b> dplyr</a></li>
<li class="chapter" data-level="12.3" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#other"><i class="fa fa-check"></i><b>12.3</b> other</a><ul>
<li class="chapter" data-level="12.3.1" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#basic-verbs"><i class="fa fa-check"></i><b>12.3.1</b> Basic verbs</a></li>
<li class="chapter" data-level="12.3.2" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#group-by"><i class="fa fa-check"></i><b>12.3.2</b> Group by</a></li>
<li class="chapter" data-level="12.3.3" data-path="tidy-basic-01.html"><a href="tidy-basic-01.html#summarize"><i class="fa fa-check"></i><b>12.3.3</b> summarize()</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="programming-in-r.html"><a href="programming-in-r.html"><i class="fa fa-check"></i><b>13</b> programming in R</a><ul>
<li class="chapter" data-level="13.1" data-path="programming-in-r.html"><a href="programming-in-r.html#section-13.1"><i class="fa fa-check"></i><b>13.1</b> 條件指令</a><ul>
<li class="chapter" data-level="13.1.1" data-path="programming-in-r.html"><a href="programming-in-r.html#if"><i class="fa fa-check"></i><b>13.1.1</b> if</a></li>
<li class="chapter" data-level="13.1.2" data-path="programming-in-r.html"><a href="programming-in-r.html#ifelse"><i class="fa fa-check"></i><b>13.1.2</b> ifelse的寫法</a></li>
<li class="chapter" data-level="13.1.3" data-path="programming-in-r.html"><a href="programming-in-r.html#switch"><i class="fa fa-check"></i><b>13.1.3</b> switch的寫法</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="programming-in-r.html"><a href="programming-in-r.html#section-13.2"><i class="fa fa-check"></i><b>13.2</b> 迴圈指令</a><ul>
<li class="chapter" data-level="13.2.1" data-path="programming-in-r.html"><a href="programming-in-r.html#for-loop"><i class="fa fa-check"></i><b>13.2.1</b> for-loop</a></li>
<li class="chapter" data-level="13.2.2" data-path="programming-in-r.html"><a href="programming-in-r.html#while-loop"><i class="fa fa-check"></i><b>13.2.2</b> while-loop</a></li>
<li class="chapter" data-level="13.2.3" data-path="programming-in-r.html"><a href="programming-in-r.html#repeat-loop"><i class="fa fa-check"></i><b>13.2.3</b> repeat-loop</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="programming-in-r.html"><a href="programming-in-r.html#section-13.3"><i class="fa fa-check"></i><b>13.3</b> 範例</a><ul>
<li class="chapter" data-level="13.3.1" data-path="programming-in-r.html"><a href="programming-in-r.html#section-2"><i class="fa fa-check"></i><b>13.3.1</b> 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="econometrics.html"><a href="econometrics.html"><i class="fa fa-check"></i><b>14</b> Econometrics</a><ul>
<li class="chapter" data-level="14.1" data-path="econometrics.html"><a href="econometrics.html#package-recommended"><i class="fa fa-check"></i><b>14.1</b> package recommended</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="rbook-.html"><a href="rbook-.html"><i class="fa fa-check"></i><b>15</b> rbook 提要</a><ul>
<li class="chapter" data-level="15.1" data-path="rbook-.html"><a href="rbook-.html#index.rmd"><i class="fa fa-check"></i><b>15.1</b> index.Rmd</a></li>
<li class="chapter" data-level="15.2" data-path="rbook-.html"><a href="rbook-.html#section-3"><i class="fa fa-check"></i><b>15.2</b> </a></li>
<li class="chapter" data-level="15.3" data-path="rbook-.html"><a href="rbook-.html#_output.yml-"><i class="fa fa-check"></i><b>15.3</b> 其他_output.yml 範例</a></li>
<li class="chapter" data-level="15.4" data-path="rbook-.html"><a href="rbook-.html#travis.yml"><i class="fa fa-check"></i><b>15.4</b> .travis.yml</a></li>
<li class="chapter" data-level="15.5" data-path="rbook-.html"><a href="rbook-.html#section-15.5"><i class="fa fa-check"></i><b>15.5</b> 紀錄</a><ul>
<li class="chapter" data-level="15.5.1" data-path="rbook-.html"><a href="rbook-.html#knitr-hook"><i class="fa fa-check"></i><b>15.5.1</b> knitr hook</a></li>
<li class="chapter" data-level="15.5.2" data-path="rbook-.html"><a href="rbook-.html#terminal-output"><i class="fa fa-check"></i><b>15.5.2</b> terminal output</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="rbook-.html"><a href="rbook-.html#python"><i class="fa fa-check"></i><b>15.6</b> python</a></li>
<li class="chapter" data-level="15.7" data-path="rbook-.html"><a href="rbook-.html#pdf-"><i class="fa fa-check"></i><b>15.7</b> 產生PDF 文件</a><ul>
<li class="chapter" data-level="15.7.1" data-path="rbook-.html"><a href="rbook-.html#overview"><i class="fa fa-check"></i><b>15.7.1</b> Overview</a></li>
<li class="chapter" data-level="15.7.2" data-path="rbook-.html"><a href="rbook-.html#meta-data-pdf-"><i class="fa fa-check"></i><b>15.7.2</b> meta data 上的pdf 設定,常見版本</a></li>
<li class="chapter" data-level="15.7.3" data-path="rbook-.html"><a href="rbook-.html#latex-packages-for-citations"><i class="fa fa-check"></i><b>15.7.3</b> LaTeX Packages for Citations</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="rbook-.html"><a href="rbook-.html#section-15.8"><i class="fa fa-check"></i><b>15.8</b> 中文</a></li>
<li class="chapter" data-level="15.9" data-path="rbook-.html"><a href="rbook-.html#rstudio-chinese"><i class="fa fa-check"></i><b>15.9</b> Rstudio chinese</a><ul>
<li class="chapter" data-level="15.9.1" data-path="rbook-.html"><a href="rbook-.html#latex-engine"><i class="fa fa-check"></i><b>15.9.1</b> LaTeX Engine</a></li>
<li class="chapter" data-level="15.9.2" data-path="rbook-.html"><a href="rbook-.html#section-15.9.2"><i class="fa fa-check"></i><b>15.9.2</b> 註記</a></li>
<li class="chapter" data-level="15.9.3" data-path="rbook-.html"><a href="rbook-.html#custom-templates"><i class="fa fa-check"></i><b>15.9.3</b> Custom Templates</a></li>
<li class="chapter" data-level="15.9.4" data-path="rbook-.html"><a href="rbook-.html#pandoc-arguments"><i class="fa fa-check"></i><b>15.9.4</b> Pandoc Arguments</a></li>
</ul></li>
<li class="chapter" data-level="15.10" data-path="rbook-.html"><a href="rbook-.html#section-15.10"><i class="fa fa-check"></i><b>15.10</b> 共用設定</a></li>
<li class="chapter" data-level="15.11" data-path="rbook-.html"><a href="rbook-.html#section-15.11"><i class="fa fa-check"></i><b>15.11</b> 討論</a><ul>
<li class="chapter" data-level="15.11.1" data-path="rbook-.html"><a href="rbook-.html#inline-code"><i class="fa fa-check"></i><b>15.11.1</b> inline code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="git-note.html"><a href="git-note.html"><i class="fa fa-check"></i><b>16</b> git note</a></li>
<li class="chapter" data-level="17" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html"><i class="fa fa-check"></i><b>17</b> gitbook introduction</a><ul>
<li class="chapter" data-level="17.1" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#output.yml"><i class="fa fa-check"></i><b>17.1</b> _output.yml:</a></li>
<li class="chapter" data-level="17.2" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#bookdown.yml"><i class="fa fa-check"></i><b>17.2</b> _bookdown.yml:</a></li>
<li class="chapter" data-level="17.3" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#index.rmd-1"><i class="fa fa-check"></i><b>17.3</b> index.rmd</a></li>
<li class="chapter" data-level="17.4" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#section-17.4"><i class="fa fa-check"></i><b>17.4</b> 執行</a></li>
<li class="chapter" data-level="17.5" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#travis"><i class="fa fa-check"></i><b>17.5</b> 加入:Travis</a><ul>
<li class="chapter" data-level="17.5.1" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#travis.yml-1"><i class="fa fa-check"></i><b>17.5.1</b> .travis.yml:</a></li>
<li class="chapter" data-level="17.5.2" data-path="gitbook-introduction.html"><a href="gitbook-introduction.html#description"><i class="fa fa-check"></i><b>17.5.2</b> DESCRIPTION</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">test for class</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-type" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> data type</h1>
<div id="section-2.1" class="section level2">
<h2><span class="header-section-number">2.1</span> 基本操作</h2>
<div id="section-2.1.1" class="section level3">
<h3><span class="header-section-number">2.1.1</span> 指派</h3>
<p>雖然也可以用=但是，R的設計是使用&lt;-。</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<p><code>a&lt;-3</code>是一個指派的敘述句,不會回饋資訊到螢幕上。如果要知道a的內容是甚麼,就打入<code>a</code> 或者<code>(a&lt;-3)</code></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">    a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 3
</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">(a&lt;-<span class="dv">3</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 3
</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">sqrt</span>(a <span class="op">*</span><span class="st"> </span>a <span class="op">+</span><span class="st"> </span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb34-2" data-line-number="2">b</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 3.74
</code></pre>
<p>在session中的如果要列出已經定義過的變數,可以利用ls</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">ls</span>()</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "a" "b"
</code></pre>
</div>
</div>
<div id="section-2.2" class="section level2">
<h2><span class="header-section-number">2.2</span> 運算</h2>
<div id="section-2.2.1" class="section level3">
<h3><span class="header-section-number">2.2.1</span> 四則運算</h3>
</div>
<div id="logical" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Logical</h3>
<p>Another important data type is the logical type. There are two predefined variables, TRUE and FALSE:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">a =<span class="st"> </span><span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="kw">typeof</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "logical"
</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">b =<span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="kw">typeof</span>(b)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "logical"
</code></pre>
<p>The standard logical operators can be used:</p>
<table>
<thead>
<tr class="header">
<th>operator</th>
<th>說明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt;</td>
<td>less than</td>
</tr>
<tr class="even">
<td>&gt;</td>
<td>great than</td>
</tr>
<tr class="odd">
<td>&lt;=</td>
<td>less than or equal</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>greater than or equal</td>
</tr>
<tr class="odd">
<td>==</td>
<td>equal to</td>
</tr>
<tr class="even">
<td>!=</td>
<td>not equal to</td>
</tr>
<tr class="odd">
<td>|</td>
<td>entry wise or</td>
</tr>
<tr class="even">
<td>||</td>
<td>or</td>
</tr>
<tr class="odd">
<td>!</td>
<td>not</td>
</tr>
<tr class="even">
<td>&amp;</td>
<td>entry wise and</td>
</tr>
<tr class="odd">
<td>&amp;&amp;</td>
<td>and</td>
</tr>
<tr class="even">
<td>xor(a,b)</td>
<td>exclusive or</td>
</tr>
</tbody>
</table>
<p>Note that there is a difference between operators that act on
entries within a vector and the whole vector:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb38-2" data-line-number="2">b =<span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">a <span class="op">|</span><span class="st"> </span>b</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1]  TRUE FALSE
</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">a <span class="op">||</span><span class="st"> </span>b</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">xor</span>(a, b)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1]  TRUE FALSE
</code></pre>
<p>There are a large number of functions that test to determine the type of a variable.
For example the is.numeric function can determine if a variable is numeric:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="kw">is.numeric</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">is.factor</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
</div>
<div id="section-2.2.3" class="section level3">
<h3><span class="header-section-number">2.2.3</span> 資源</h3>
<ul>
<li><a href="http://adv-r.had.co.nz/Data-structures.html">資料結構</a></li>
</ul>
</div>
</div>
<div id="section-2.3" class="section level2">
<h2><span class="header-section-number">2.3</span> 介紹</h2>
<p>在R語言中,型態不須經過宣告(declared)。 一個變數的型態經由assignment的過程決定,即&lt;-右邊的R-Objects。也就是在指派變數值的時候,同時決定了型態。基本的 R-object有 −</p>
<ul>
<li>Vectors<br />
</li>
<li>Lists<br />
</li>
<li>Matrices</li>
<li>Arrays</li>
<li>Factors</li>
<li>Data Frames</li>
</ul>
<p>最簡單的是vector物件,atomic vector 有6種data types(有時也叫做 6 個classes)</p>
<table>
<thead>
<tr class="header">
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Logical</td>
<td>TRUE, FALSE</td>
</tr>
<tr class="even">
<td>Numeric</td>
<td>1.3, 5, 99</td>
</tr>
<tr class="odd">
<td>Integer</td>
<td>3L, 24L, 0L</td>
</tr>
<tr class="even">
<td>Complex</td>
<td>5 + 4i</td>
</tr>
<tr class="odd">
<td>Character</td>
<td>‘b’ , “good”, “TRUE”, ‘23.4’</td>
</tr>
<tr class="even">
<td>Raw</td>
<td>“Hello” is stored as 48 65 6c 6c 6f</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="ot">TRUE</span> </a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "logical"
</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="fl">23.5</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "numeric"
</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">v &lt;-<span class="st"> </span>2L</a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "integer"
</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="dv">2</span><span class="op">+</span>5i</a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "complex"
</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">v &lt;-<span class="st"> &quot;TRUE&quot;</span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">v &lt;-<span class="st"> </span><span class="kw">charToRaw</span>(<span class="st">&quot;Hello&quot;</span>)</a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="kw">print</span>(<span class="kw">class</span>(v))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "raw"
</code></pre>
</div>
<div id="section-2.4" class="section level2">
<h2><span class="header-section-number">2.4</span> 實數的比較</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb49-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dt">by =</span> <span class="fl">0.2</span>)</a>
<a class="sourceLine" id="cb49-3" data-line-number="3">y[<span class="dv">4</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 0.6
</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">x[<span class="dv">3</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 0.4
</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 0.6
</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">y[<span class="dv">4</span>] <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">y[<span class="dv">4</span>] <span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="co">## note:</span></a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="kw">all.equal</span>(y[<span class="dv">4</span>], <span class="dv">1</span> <span class="op">-</span><span class="st"> </span>x[<span class="dv">3</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="co">## Q: what is the result of : 1-0.4 ==0.6</span></a></code></pre></div>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="fl">0.1+0.2</span> <span class="op">==</span><span class="st"> </span><span class="fl">0.3</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw">all.equal</span>(<span class="fl">0.1+0.2</span>,<span class="fl">0.3</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
</div>
<div id="section-2.5" class="section level2">
<h2><span class="header-section-number">2.5</span> 字串</h2>
<p><a href="https://www.gastonsanchez.com/r4strings/chars.html">參考</a></p>
<div id="section-2.5.1" class="section level3">
<h3><span class="header-section-number">2.5.1</span> 建立字串</h3>
<p>可以是 雙引號中&quot;&quot; 或 單引號中’’。
字串中如果有雙引號,或單引號，則如下表示:<br />
“‘這個’來自’那個’”</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">a &lt;-<span class="st"> &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb58-2" data-line-number="2">a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "hello"
</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="kw">typeof</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<p>利用函數:character() 這個函數的參數,為整數,建立一個list,裡面的元素都是空字串</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="co"># 變數ex初始化為character vector,參看後面的討論</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2">(ex &lt;-<span class="st"> </span><span class="kw">character</span>(<span class="dv">0</span>))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>character(0)
</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">length</span>(ex)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 0
</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">class</span>(ex)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="co"># 如果剛剛沒有設定ex &lt;- character(0),這裡會發生錯誤</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2">(ex[<span class="dv">1</span>] &lt;-<span class="st"> &quot;first&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "first"
</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="co"># check its length again</span></a>
<a class="sourceLine" id="cb64-2" data-line-number="2"><span class="kw">length</span>(ex)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<p>索引可以用跳的:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">(ex[<span class="dv">4</span>] &lt;-<span class="st"> &quot;fourth&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "fourth"
</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">length</span>(ex)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 4
</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">typeof</span>(ex)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">ex</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "first"  NA       NA       "fourth"
</code></pre>
<p>跳過的索引,內容自動為<code>NA</code>.</p>
</div>
<div id="section-2.5.2" class="section level3">
<h3><span class="header-section-number">2.5.2</span> 空字串</h3>
<p>引號內連空白都沒有的字串:
(比較上面利用character(5)可以建立5個元素為空字串的vector。)</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="co"># empty string</span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2">empty_str &lt;-<span class="st"> &quot;&quot;</span></a>
<a class="sourceLine" id="cb69-3" data-line-number="3">empty_str</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] ""
</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="co"># class</span></a>
<a class="sourceLine" id="cb70-2" data-line-number="2"><span class="kw">class</span>(empty_str)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div id="character0" class="section level4">
<h4><span class="header-section-number">2.5.2.1</span> 討論character(0)</h4>
<p>前面說character(2),可以傳回長度2,每個元素都是空白字串&quot;&quot;的向量,那麼character(0)是甚麼?
除了前面提到的變數初始化為向量(也許可以說是向量宣告)
例如,整數也是這樣</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1">zz&lt;-<span class="kw">integer</span>(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb71-2" data-line-number="2">zz[<span class="dv">4</span>]=<span class="dv">6</span></a>
<a class="sourceLine" id="cb71-3" data-line-number="3">zz</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] NA NA NA  6
</code></pre>
<p>這裡對character(0)做一些測試:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">ex1&lt;-<span class="kw">character</span>(<span class="dv">0</span>) </a>
<a class="sourceLine" id="cb72-2" data-line-number="2">ex2&lt;-<span class="st">&quot;&quot;</span></a>
<a class="sourceLine" id="cb72-3" data-line-number="3"></a>
<a class="sourceLine" id="cb72-4" data-line-number="4"><span class="kw">typeof</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">typeof</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="kw">str</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> chr(0) 
</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1"><span class="kw">str</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> chr ""
</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1"><span class="kw">class</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="kw">class</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1"><span class="kw">is.list</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1"><span class="kw">is.list</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<p>surprise: 一個字元也是向量。</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="kw">is.vector</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="kw">is.vector</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1"><span class="kw">length</span>(ex1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 0
</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">length</span>(ex2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<p>最後,這兩個是不是相等</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">ex1<span class="op">==</span>ex2</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>logical(0)
</code></pre>
</div>
</div>
</div>
<div id="is-family" class="section level2">
<h2><span class="header-section-number">2.6</span> 型態操作is family</h2>
<p>is.numeric(), is.integer(), and is.double()
## 型態轉換 as family</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="kw">as.numeric</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 0
</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1">an&lt;-<span class="kw">as.logical</span>(a)</a>
<a class="sourceLine" id="cb86-2" data-line-number="2">an</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1]  TRUE FALSE
</code></pre>
</div>
<div id="vector" class="section level2">
<h2><span class="header-section-number">2.7</span> vector</h2>
<p>利用<code>c</code>函數，可以使用vector存放一個以上的數字。</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">a1 =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">5</span></a></code></pre></div>
<p>有關list的運算:加減乘除等等</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">a =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb88-2" data-line-number="2">a<span class="op">+</span><span class="dv">1</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2 3 4 5 6
</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" data-line-number="1"><span class="kw">mean</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 3
</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1"><span class="kw">var</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2.5
</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" data-line-number="1"><span class="kw">summary</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
      1       2       3       3       4       5 
</code></pre>
<p>list的元素,利用中括號</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1">a =<span class="st"> </span><span class="dv">2</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb92-2" data-line-number="2">a[<span class="dv">1</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2
</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1">a[<span class="dv">2</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 3
</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" data-line-number="1">a[<span class="dv">0</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>integer(0)
</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" data-line-number="1">a[<span class="dv">6</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] NA
</code></pre>
<p>在R中,的最小的索引值為1base.如果給索引為0,可以知道資料是否被排序。 超出索引範圍得到&quot;NA。</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" data-line-number="1">a=<span class="dv">2</span><span class="op">:</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb96-2" data-line-number="2">x =<span class="st"> </span>a[<span class="dv">6</span>]</a></code></pre></div>
<div class="sidebar">
<p>如何判斷是否NA</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" data-line-number="1">x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] NA
</code></pre>
<p>上面的比較沒有意義,和NA的任何運算都是NA</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" data-line-number="1">r =<span class="st"> </span>x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span></a>
<a class="sourceLine" id="cb98-2" data-line-number="2">r</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] NA
</code></pre>
<p>結論:任何變數和NA運算,結果還是NA<br />
另一種方法</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" data-line-number="1"><span class="kw">print</span>(x <span class="op">==</span><span class="st"> </span><span class="ot">NA</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] NA
</code></pre>
<p>如何判斷NA ? <code>is.na()</code></p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" data-line-number="1">    <span class="kw">is.na</span>(a[<span class="dv">6</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
</div>
<p>初始化向量,可以利用a&lt;-10 或指定numeric(double)型態</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">numeric</span>(<span class="dv">10</span>) </a>
<a class="sourceLine" id="cb101-2" data-line-number="2">a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] 0 0 0 0 0 0 0 0 0 0
</code></pre>
<p>如果想要知到變數的資料型別,利用函數typeof()</p>
<p>typeof()函數回傳的結果是“字串”</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" data-line-number="1"><span class="kw">typeof</span>(a) <span class="co"># 結果是&quot;double&quot;</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "double"
</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" data-line-number="1">s =<span class="st"> </span><span class="kw">typeof</span>(a)</a>
<a class="sourceLine" id="cb103-2" data-line-number="2">s</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "double"
</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" data-line-number="1"><span class="kw">typeof</span>(s) <span class="co">#結果是 &quot;character&quot;</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div id="section-2.7.1" class="section level3">
<h3><span class="header-section-number">2.7.1</span> 練習範例</h3>
<p>Q1. a,a1,a2 屬於甚麼型態</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb105-1" data-line-number="1">a =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span></a>
<a class="sourceLine" id="cb105-2" data-line-number="2">a1 =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb105-3" data-line-number="3">a2 =<span class="st"> </span><span class="kw">numeric</span>(<span class="dv">4</span>)</a></code></pre></div>
<p>A1</p>
<p>Q2:a3的長度是甚麼?2,或6</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" data-line-number="1">a1&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb106-2" data-line-number="2">a2&lt;-<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</a>
<a class="sourceLine" id="cb106-3" data-line-number="3">a3&lt;-<span class="kw">c</span>(a1,a2)</a></code></pre></div>
<p>HINT:
a1
a2
a3;length(a3)</p>
<div class="sidebar">
<h2 id="vector"><span class="header-section-number">2.7.1</span> 字串和vector</h2>
<p>在EXCEL中，vector 一般指的是只放元素為數字的陣列(array);而陣列是可以存數字和文字的區域。table是有欄位的陣列。
但是在R語言中,vector 只是元素型態相同即可。</p>
</div>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb107-1" data-line-number="1">a &lt;-<span class="st"> &quot;hello&quot;</span></a>
<a class="sourceLine" id="cb107-2" data-line-number="2">a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "hello"
</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" data-line-number="1"><span class="kw">typeof</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb109-1" data-line-number="1">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>, <span class="st">&quot;there&quot;</span>)</a>
<a class="sourceLine" id="cb109-2" data-line-number="2">b</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "hello" "there"
</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" data-line-number="1">b[<span class="dv">1</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "hello"
</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" data-line-number="1"><span class="kw">typeof</span>(b)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "character"
</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" data-line-number="1">(<span class="dt">a =</span> <span class="kw">character</span>(<span class="dv">5</span>)) <span class="co"># 產生5個空白字串</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "" "" "" "" ""
</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" data-line-number="1">(<span class="dt">b =</span> letters[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]) <span class="co"># 注意,letters不是函數</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "a" "b" "c" "d"
</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" data-line-number="1">letters</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j" "k" "l" "m" "n" "o" "p" "q"
[18] "r" "s" "t" "u" "v" "w" "x" "y" "z"
</code></pre>
<p>因為c函數的運算結果為vector,因此下例中,其元素都是字串</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb115-1" data-line-number="1"> (a&lt;-<span class="kw">c</span>(<span class="st">&quot;d&quot;</span>,<span class="dv">4</span>,<span class="ot">TRUE</span>))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "d"    "4"    "TRUE"
</code></pre>
<p>問題:
怎樣知道r是空集合?</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" data-line-number="1">y &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>] </a>
<a class="sourceLine" id="cb116-2" data-line-number="2">z &lt;-<span class="st"> </span>letters[<span class="dv">4</span><span class="op">:</span><span class="dv">6</span>] </a>
<a class="sourceLine" id="cb116-3" data-line-number="3">r&lt;-<span class="kw">intersect</span>(y,z) </a>
<a class="sourceLine" id="cb116-4" data-line-number="4">r</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>character(0)
</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb117-1" data-line-number="1"><span class="kw">is.na</span>(r)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>logical(0)
</code></pre>
<p>另外,當vector有多個字串,而使用索引0的時候,也會出現 <code>character(0)</code>,例如:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" data-line-number="1">string &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;sun&#39;</span>, <span class="st">&#39;sky&#39;</span>, <span class="st">&#39;clouds&#39;</span>)</a>
<a class="sourceLine" id="cb118-2" data-line-number="2">string[<span class="dv">0</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>character(0)
</code></pre>
</div>
<div id="vector-" class="section level3">
<h3><span class="header-section-number">2.7.2</span> vector 相關的運算</h3>
<p>連續數字可以利用操作元<code>:</code>,例如:</p>
<p>x &lt;- 1:7; x
y &lt;- 2:-2; y</p>
<p>比較複雜的序列可以利用函數 seq() ,例如</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb119-1" data-line-number="1"><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dt">by=</span><span class="fl">0.2</span>)          <span class="co"># specify step size</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] 1.0 1.2 1.4 1.6 1.8 2.0 2.2 2.4 2.6 2.8 3.0
</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" data-line-number="1"> <span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dt">length.out=</span><span class="dv">4</span>)    <span class="co"># specify length of the vector</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1.00 2.33 3.67 5.00
</code></pre>
</div>
<div id="vector" class="section level3">
<h3><span class="header-section-number">2.7.3</span> 如何存取vector中的元素</h3>
<p>元素索引可以利用 logical, integer or character vector.</p>
<p>如果利用整數索引,則從1開始.但是,如果索引值給的是負數(例如-2),則除了2號元素以外,都會被傳回。但是不能同時有正負。同時,浮點數會被truncated。</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb121-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb121-2" data-line-number="2">[<span class="dv">1</span>]  <span class="dv">0</span>  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">6</span>  <span class="dv">8</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb121-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">3</span>]           <span class="co"># access 3rd element</span></a>
<a class="sourceLine" id="cb121-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">4</span></a>
<a class="sourceLine" id="cb121-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>)]     <span class="co"># access 2nd and 4th element</span></a>
<a class="sourceLine" id="cb121-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">2</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb121-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x[<span class="op">-</span><span class="dv">1</span>]          <span class="co"># access all but 1st element</span></a>
<a class="sourceLine" id="cb121-8" data-line-number="8">[<span class="dv">1</span>]  <span class="dv">2</span>  <span class="dv">4</span>  <span class="dv">6</span>  <span class="dv">8</span> <span class="dv">10</span></a>
<a class="sourceLine" id="cb121-9" data-line-number="9"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">-4</span>)]    <span class="co"># 不能混合正負</span></a>
<a class="sourceLine" id="cb121-10" data-line-number="10">Error <span class="cf">in</span> x[<span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">-4</span>)] <span class="op">:</span><span class="st"> </span>only <span class="dv">0</span><span class="st">&#39;s may be mixed with negative subscripts</span></a>
<a class="sourceLine" id="cb121-11" data-line-number="11"><span class="st">&gt; x[c(2.4, 3.54)]    # real numbers are truncated to integers</span></a>
<a class="sourceLine" id="cb121-12" data-line-number="12"><span class="st">[1] 2 4</span></a></code></pre></div>
</div>
<div id="section-2.7.4" class="section level3">
<h3><span class="header-section-number">2.7.4</span> 邏輯做為索引</h3>
<p>說是索引有點誤導,可以認為是元素篩選。例如</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)]</a>
<a class="sourceLine" id="cb122-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span>  <span class="dv">3</span></a>
<a class="sourceLine" id="cb122-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[x <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>]  <span class="co"># filtering vectors based on conditions</span></a>
<a class="sourceLine" id="cb122-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-1</span></a>
<a class="sourceLine" id="cb122-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>]</a>
<a class="sourceLine" id="cb122-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">3</span></a></code></pre></div>
<p>In the above example, the expression x&gt;0 will yield a logical vector (FALSE, FALSE, FALSE, TRUE) which is then used for indexing.</p>
</div>
<div id="-character-vector-" class="section level3">
<h3><span class="header-section-number">2.7.5</span> 利用字串( character vector) 作為索引</h3>
<p>每個元素可以有名稱:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb123-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;first&quot;</span>=<span class="dv">3</span>, <span class="st">&quot;second&quot;</span>=<span class="dv">0</span>, <span class="st">&quot;third&quot;</span>=<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb123-2" data-line-number="2"><span class="op">&gt;</span><span class="st"> </span><span class="kw">names</span>(x)</a>
<a class="sourceLine" id="cb123-3" data-line-number="3">[<span class="dv">1</span>] <span class="st">&quot;first&quot;</span>  <span class="st">&quot;second&quot;</span> <span class="st">&quot;third&quot;</span> </a>
<a class="sourceLine" id="cb123-4" data-line-number="4"><span class="op">&gt;</span><span class="st"> </span>x[<span class="st">&quot;second&quot;</span>]</a>
<a class="sourceLine" id="cb123-5" data-line-number="5">second </a>
<a class="sourceLine" id="cb123-6" data-line-number="6"><span class="dv">0</span> </a>
<a class="sourceLine" id="cb123-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x[<span class="kw">c</span>(<span class="st">&quot;first&quot;</span>, <span class="st">&quot;third&quot;</span>)]</a>
<a class="sourceLine" id="cb123-8" data-line-number="8">first third </a>
<a class="sourceLine" id="cb123-9" data-line-number="9"><span class="dv">3</span>     <span class="dv">9</span></a></code></pre></div>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dt">y=</span><span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb124-2" data-line-number="2">a[<span class="st">&quot;x1&quot;</span>] <span class="co"># 不是a[x1]</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>x1 
 1 
</code></pre>
<p><a href="rbook-.html#section-3"></a> 和[<a href="rbook-.html#section-3"></a>]的差別:<br />
原來是甚麼(例如,list 或vector),<a href="rbook-.html#section-3"></a>只是返回子集合(仍然是list或vector),但是[<a href="rbook-.html#section-3"></a>]則是返回內容.</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb125-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>, <span class="dt">c =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb125-2" data-line-number="2">x[<span class="st">&quot;a&quot;</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a 
1 
</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" data-line-number="1">x[[<span class="st">&quot;a&quot;</span>]]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb127-1" data-line-number="1">x[<span class="dv">1</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a 
1 
</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" data-line-number="1">x[[<span class="dv">1</span>]]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<p>和list的區別是
1. $
1. 不必有&quot;&quot;</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb129-1" data-line-number="1">a1&lt;-<span class="kw">list</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dt">y=</span><span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)</a>
<a class="sourceLine" id="cb129-2" data-line-number="2">a1<span class="op">$</span>x</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 2
</code></pre>
</div>
<div id="how-to-modify-a-vector-in-r" class="section level3">
<h3><span class="header-section-number">2.7.6</span> How to modify a vector in R?</h3>
<p>We can modify a vector using the assignment operator.</p>
<p>We can use the techniques discussed above to access specific elements and modify them.</p>
<p>If we want to truncate the elements, we can use reassignments.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb130-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-2</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb130-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">2</span>] &lt;-<span class="st"> </span><span class="dv">0</span>; x        <span class="co"># modify 2nd element</span></a>
<a class="sourceLine" id="cb130-4" data-line-number="4">[<span class="dv">1</span>] <span class="dv">-3</span>  <span class="dv">0</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb130-5" data-line-number="5"><span class="op">&gt;</span><span class="st"> </span>x[x<span class="op">&lt;</span><span class="dv">0</span>] &lt;-<span class="st"> </span><span class="dv">5</span>; x   <span class="co"># modify elements less than 0</span></a>
<a class="sourceLine" id="cb130-6" data-line-number="6">[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">0</span> <span class="dv">5</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb130-7" data-line-number="7"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span>x[<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>]; x      <span class="co"># truncate x to first 4 elements</span></a>
<a class="sourceLine" id="cb130-8" data-line-number="8">[<span class="dv">1</span>] <span class="dv">5</span> <span class="dv">0</span> <span class="dv">5</span> <span class="dv">0</span></a></code></pre></div>
</div>
<div id="how-to-delete-a-vector" class="section level3">
<h3><span class="header-section-number">2.7.7</span> How to delete a Vector?</h3>
<p>We can delete a vector by simply assigning a NULL to it.</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb131-1" data-line-number="1"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb131-2" data-line-number="2">[<span class="dv">1</span>] <span class="dv">-3</span> <span class="dv">-2</span> <span class="dv">-1</span>  <span class="dv">0</span>  <span class="dv">1</span>  <span class="dv">2</span></a>
<a class="sourceLine" id="cb131-3" data-line-number="3"><span class="op">&gt;</span><span class="st"> </span>x &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb131-4" data-line-number="4"><span class="op">&gt;</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb131-5" data-line-number="5"><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb131-6" data-line-number="6"><span class="op">&gt;</span><span class="st"> </span>x[<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb131-7" data-line-number="7"><span class="ot">NULL</span></a></code></pre></div>

</div>
</div>
<div id="list" class="section level2">
<h2><span class="header-section-number">2.8</span> List</h2>
<p>Lists 是一個R物件。其元素內容可以是不同型態,例如 numbers, strings, vectors,matrix 或者是另一個 list，甚至是函數。。</p>
<div id="-list" class="section level3">
<h3><span class="header-section-number">2.8.1</span> 建立 List</h3>
<p>函數<code>list()</code> 可以建立list.</p>
<p>包含多種type的List: strings, numbers, vectors and a logical values.</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" data-line-number="1">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;Red&quot;</span>, <span class="st">&quot;Green&quot;</span>, <span class="kw">c</span>(<span class="dv">21</span>,<span class="dv">32</span>,<span class="dv">11</span>), <span class="ot">TRUE</span>, <span class="fl">51.23</span>, <span class="fl">119.1</span>)</a>
<a class="sourceLine" id="cb132-2" data-line-number="2"><span class="kw">print</span>(list_data)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
[1] "Red"

[[2]]
[1] "Green"

[[3]]
[1] 21 32 11

[[4]]
[1] TRUE

[[5]]
[1] 51.2

[[6]]
[1] 119
</code></pre>
<p>　
### Naming List Elements</p>
<p>The list elements can be given names and they can be accessed using these names.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb133-1" data-line-number="1"><span class="co">#Create a list containing a vector, a matrix and a list.</span></a>
<a class="sourceLine" id="cb133-2" data-line-number="2">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb133-3" data-line-number="3">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb133-4" data-line-number="4"></a>
<a class="sourceLine" id="cb133-5" data-line-number="5"><span class="co">#Give names to the elements in the list.</span></a>
<a class="sourceLine" id="cb133-6" data-line-number="6"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb133-7" data-line-number="7"></a>
<a class="sourceLine" id="cb133-8" data-line-number="8"><span class="co">#Show the list.</span></a>
<a class="sourceLine" id="cb133-9" data-line-number="9"><span class="kw">print</span>(list_data)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$`1st Quarter`
[1] "Jan" "Feb" "Mar"

$A_Matrix
     [,1] [,2] [,3]
[1,]    3    5   -2
[2,]    9    1    8

$`A Inner list`
$`A Inner list`[[1]]
[1] "green"

$`A Inner list`[[2]]
[1] 12.3
</code></pre>
<div class="sidebar">
<p>這裡討論一下為甚麼在R語言堅持<code>&lt;-</code>而不是<code>=</code>的一個原因</p>
<p>將列名的vector和list ,白話文意思就是將每個元素命名。</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" data-line-number="1">x=<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb134-2" data-line-number="2"><span class="kw">names</span>(x)&lt;-<span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>)</a>
<a class="sourceLine" id="cb134-3" data-line-number="3">x</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a b c 
1 2 3 
</code></pre>
<p>一般的程式語言,不會用到這種文法,例如,在其他程式語言中,直覺上應該是有一個<code>names()</code>,然後用法如下:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode c"><code class="sourceCode c"><a class="sourceLine" id="cb135-1" data-line-number="1">names(x,c(<span class="ch">&#39;a&#39;</span>,<span class="ch">&#39;b&#39;</span>,<span class="ch">&#39;c&#39;</span>) )</a></code></pre></div>
<p>但如果是matrix,被命名的就是欄位?答案是:<strong>NO</strong>。而是紀錄名稱?答案也是<strong>NO</strong>.而是給每個元素命名。</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb136-1" data-line-number="1">x&lt;-<span class="kw">matrix</span>(<span class="kw">runif</span>(<span class="dv">9</span>),<span class="dt">nrow=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb136-2" data-line-number="2"><span class="kw">names</span>(x)&lt;-<span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>)</a>
<a class="sourceLine" id="cb136-3" data-line-number="3">x</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>       [,1]   [,2]  [,3]
[1,] 0.0808 0.1572 0.498
[2,] 0.8343 0.0074 0.290
[3,] 0.6008 0.4664 0.733
attr(,"names")
[1] "a" "b" "c" NA  NA  NA  NA  NA  NA 
</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" data-line-number="1"><span class="kw">rownames</span>(x)&lt;-<span class="kw">c</span>(<span class="st">&#39;x&#39;</span>,<span class="st">&#39;y&#39;</span>,<span class="st">&#39;z&#39;</span>)</a>
<a class="sourceLine" id="cb137-2" data-line-number="2"><span class="kw">print</span>(x,<span class="dt">row.names=</span>T)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>    [,1]   [,2]  [,3]
x 0.0808 0.1572 0.498
y 0.8343 0.0074 0.290
z 0.6008 0.4664 0.733
attr(,"names")
[1] "a" "b" "c" NA  NA  NA  NA  NA  NA 
</code></pre>
<p>問:在上面的例子中x是一個矩陣,x[“a”]會傳回甚麼?</p>
</div>
<p>但是在data.frame的結構中,names()&lt;- 給定的是欄位名稱</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb138-1" data-line-number="1">xd&lt;-<span class="kw">data.frame</span>(x)</a>
<a class="sourceLine" id="cb138-2" data-line-number="2"><span class="kw">names</span>(xd)&lt;-<span class="kw">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>)</a>
<a class="sourceLine" id="cb138-3" data-line-number="3">xd</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>       a      b     c
x 0.0808 0.1572 0.498
y 0.8343 0.0074 0.290
z 0.6008 0.4664 0.733
</code></pre>
</div>
<div id="-list-" class="section level3">
<h3><span class="header-section-number">2.8.2</span> 存取 List 元素</h3>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" data-line-number="1"><span class="co"># 3個元素,分別是list, matrix, list</span></a>
<a class="sourceLine" id="cb139-2" data-line-number="2">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb139-3" data-line-number="3">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb139-4" data-line-number="4"></a>
<a class="sourceLine" id="cb139-5" data-line-number="5"><span class="co"># 給名稱</span></a>
<a class="sourceLine" id="cb139-6" data-line-number="6"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb139-7" data-line-number="7"></a>
<a class="sourceLine" id="cb139-8" data-line-number="8"><span class="co"># Access the first element of the list.</span></a>
<a class="sourceLine" id="cb139-9" data-line-number="9"><span class="kw">print</span>(list_data[<span class="dv">1</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$`1st Quarter`
[1] "Jan" "Feb" "Mar"
</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb140-1" data-line-number="1"><span class="co"># Access the thrid element. As it is also a list, all its elements will be printed.</span></a>
<a class="sourceLine" id="cb140-2" data-line-number="2"><span class="kw">print</span>(list_data[<span class="dv">3</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$`A Inner list`
$`A Inner list`[[1]]
[1] "green"

$`A Inner list`[[2]]
[1] 12.3
</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" data-line-number="1"><span class="co"># Access the list element using the name of the element.</span></a>
<a class="sourceLine" id="cb141-2" data-line-number="2"><span class="kw">print</span>(list_data<span class="op">$</span>A_Matrix)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3]
[1,]    3    5   -2
[2,]    9    1    8
</code></pre>
</div>
<div id="manipulating-list-elements" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Manipulating List Elements</h3>
<p>We can add, delete and update list elements as shown below. We can add and delete elements only at the end of a list. But we can update any element.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb142-1" data-line-number="1"><span class="co"># Create a list containing a vector, a matrix and a list.</span></a>
<a class="sourceLine" id="cb142-2" data-line-number="2">list_data &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;Jan&quot;</span>,<span class="st">&quot;Feb&quot;</span>,<span class="st">&quot;Mar&quot;</span>), <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">8</span>), <span class="dt">nrow =</span> <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb142-3" data-line-number="3">   <span class="kw">list</span>(<span class="st">&quot;green&quot;</span>,<span class="fl">12.3</span>))</a>
<a class="sourceLine" id="cb142-4" data-line-number="4"></a>
<a class="sourceLine" id="cb142-5" data-line-number="5"><span class="co"># Give names to the elements in the list.</span></a>
<a class="sourceLine" id="cb142-6" data-line-number="6"><span class="kw">names</span>(list_data) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;1st Quarter&quot;</span>, <span class="st">&quot;A_Matrix&quot;</span>, <span class="st">&quot;A Inner list&quot;</span>)</a>
<a class="sourceLine" id="cb142-7" data-line-number="7"></a>
<a class="sourceLine" id="cb142-8" data-line-number="8"><span class="co"># Add element at the end of the list.</span></a>
<a class="sourceLine" id="cb142-9" data-line-number="9">list_data[<span class="dv">4</span>] &lt;-<span class="st"> &quot;New element&quot;</span></a>
<a class="sourceLine" id="cb142-10" data-line-number="10"><span class="kw">print</span>(list_data[<span class="dv">4</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
[1] "New element"
</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" data-line-number="1"><span class="co"># Remove the last element.</span></a>
<a class="sourceLine" id="cb143-2" data-line-number="2">list_data[<span class="dv">4</span>] &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb143-3" data-line-number="3"></a>
<a class="sourceLine" id="cb143-4" data-line-number="4"><span class="co"># Print the 4th Element.</span></a>
<a class="sourceLine" id="cb143-5" data-line-number="5"><span class="kw">print</span>(list_data[<span class="dv">4</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$<NA>
NULL
</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb144-1" data-line-number="1"><span class="co"># Update the 3rd Element.</span></a>
<a class="sourceLine" id="cb144-2" data-line-number="2">list_data[<span class="dv">3</span>] &lt;-<span class="st"> &quot;updated element&quot;</span></a>
<a class="sourceLine" id="cb144-3" data-line-number="3"><span class="kw">print</span>(list_data[<span class="dv">3</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$`A Inner list`
[1] "updated element"
</code></pre>
</div>
<div id="merging-lists" class="section level3">
<h3><span class="header-section-number">2.8.4</span> Merging Lists</h3>
<p>You can merge many lists into one list by placing all the lists inside one list() function.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" data-line-number="1"><span class="co"># Create two lists.</span></a>
<a class="sourceLine" id="cb145-2" data-line-number="2">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb145-3" data-line-number="3">list2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;Sun&quot;</span>,<span class="st">&quot;Mon&quot;</span>,<span class="st">&quot;Tue&quot;</span>)</a>
<a class="sourceLine" id="cb145-4" data-line-number="4"></a>
<a class="sourceLine" id="cb145-5" data-line-number="5"><span class="co"># Merge the two lists.</span></a>
<a class="sourceLine" id="cb145-6" data-line-number="6">merged.list &lt;-<span class="st"> </span><span class="kw">c</span>(list1,list2)</a>
<a class="sourceLine" id="cb145-7" data-line-number="7"></a>
<a class="sourceLine" id="cb145-8" data-line-number="8"><span class="co"># Print the merged list.</span></a>
<a class="sourceLine" id="cb145-9" data-line-number="9"><span class="kw">print</span>(merged.list)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
[1] 1

[[2]]
[1] 2

[[3]]
[1] 3

[[4]]
[1] "Sun"

[[5]]
[1] "Mon"

[[6]]
[1] "Tue"
</code></pre>
<p>我們說函數<code>c()</code>是一個處理向量的函數,但是這裡的list裡面有多個型態,所以為甚麼用<code>c()</code>?
因為,對<code>c()</code>而言,兩個元素都是list 。而在R語言中,向量的意思,只要元素同型態就行。</p>
</div>
<div id="list--vector" class="section level3">
<h3><span class="header-section-number">2.8.5</span> List 轉 Vector</h3>
<p>函數 <code>unlist()</code></p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb146-1" data-line-number="1"><span class="co"># Create lists.</span></a>
<a class="sourceLine" id="cb146-2" data-line-number="2">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb146-3" data-line-number="3"><span class="kw">print</span>(list1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
[1] 1 2 3 4 5
</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" data-line-number="1">list2 &lt;-<span class="kw">list</span>(<span class="dv">10</span><span class="op">:</span><span class="dv">14</span>)</a>
<a class="sourceLine" id="cb147-2" data-line-number="2"><span class="kw">print</span>(list2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
[1] 10 11 12 13 14
</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb148-1" data-line-number="1"><span class="co"># Convert the lists to vectors.</span></a>
<a class="sourceLine" id="cb148-2" data-line-number="2">v1 &lt;-<span class="st"> </span><span class="kw">unlist</span>(list1)</a>
<a class="sourceLine" id="cb148-3" data-line-number="3">v2 &lt;-<span class="st"> </span><span class="kw">unlist</span>(list2)</a>
<a class="sourceLine" id="cb148-4" data-line-number="4"></a>
<a class="sourceLine" id="cb148-5" data-line-number="5"><span class="kw">print</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 2 3 4 5
</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" data-line-number="1"><span class="kw">print</span>(v2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 10 11 12 13 14
</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb150-1" data-line-number="1"><span class="co"># Now add the vectors</span></a>
<a class="sourceLine" id="cb150-2" data-line-number="2">result &lt;-<span class="st"> </span>v1<span class="op">+</span>v2</a>
<a class="sourceLine" id="cb150-3" data-line-number="3"><span class="kw">print</span>(result)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 11 13 15 17 19
</code></pre>
</div>
<div id="vector-list" class="section level3">
<h3><span class="header-section-number">2.8.6</span> 比較vector, list中,字串的問題</h3>
<ol style="list-style-type: decimal">
<li>Q length()函數可以知道vector,list 的長度,但是為甚麼length(“hello”)的長度是1?</li>
</ol>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" data-line-number="1">a&lt;-<span class="kw">c</span>(<span class="st">&quot;hello&quot;</span>,<span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb151-2" data-line-number="2"><span class="kw">length</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2
</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" data-line-number="1"><span class="kw">length</span>(a[<span class="dv">1</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb153-1" data-line-number="1"><span class="kw">length</span>(a[[<span class="dv">1</span>]])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" data-line-number="1"><span class="kw">nchar</span>(a[<span class="dv">1</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 5
</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb155-1" data-line-number="1"><span class="kw">length</span>(<span class="st">&quot;hello&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<ol style="list-style-type: decimal">
<li>Q</li>
</ol>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" data-line-number="1">a&lt;-<span class="kw">list</span>(<span class="st">&quot;hello&quot;</span>,<span class="st">&quot;r&quot;</span>)</a>
<a class="sourceLine" id="cb156-2" data-line-number="2"><span class="kw">length</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2
</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb157-1" data-line-number="1"><span class="kw">length</span>(a[<span class="dv">1</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" data-line-number="1"><span class="kw">length</span>(a[[<span class="dv">1</span>]])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<p>上面兩個答案的問題,和R怎樣建立字串有關
我猜是
“hello” 的記憶體結構是 list(ptr) ,ptr-&gt;“hello”
也就是說紀錄在list中,當我問說length(“hello”)的時候,list的長度都是1。<br />
總之,字串長度函數<code>nchar()</code>。</p>
</div>
</div>
<div id="data-set-build-in" class="section level2">
<h2><span class="header-section-number">2.9</span> data set build in</h2>
<div id="list-of-pre-loaded-data" class="section level3">
<h3><span class="header-section-number">2.9.1</span> List of pre-loaded data</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb159-1" data-line-number="1"><span class="kw">data</span>()</a></code></pre></div>
<p>Loading a built-in R data</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" data-line-number="1"><span class="kw">data</span>(mtcars) </a></code></pre></div>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb161-1" data-line-number="1"><span class="kw">nrow</span>(mtcars)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 32
</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" data-line-number="1"><span class="kw">ncol</span>(mtcars)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 11
</code></pre>

</div>
</div>
<div id="vector-" class="section level2">
<h2><span class="header-section-number">2.10</span> vector 函數範例</h2>
<div id="cbindrbind" class="section level3">
<h3><span class="header-section-number">2.10.1</span> cbind,rbind</h3>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" data-line-number="1">x&lt;-<span class="kw">runif</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb163-2" data-line-number="2">y&lt;-<span class="kw">runif</span>(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb163-3" data-line-number="3"><span class="kw">cbind</span>(x,y)</a></code></pre></div>
<pre style="color: red;"><code>Warning in cbind(x, y): number of rows of result is not a multiple of
vector length (arg 1)
</code></pre>
<pre style="border: 1px grey dotted;"><code>          x     y
[1,] 0.0808 0.466
[2,] 0.8343 0.498
[3,] 0.6008 0.290
[4,] 0.1572 0.733
[5,] 0.0074 0.773
[6,] 0.0808 0.875
</code></pre>
</div>
<div id="diff" class="section level3">
<h3><span class="header-section-number">2.10.2</span> 函數diff</h3>
<p>Arguments<br />
* x: a numeric vector or matrix containing the values to be differenced.<br />
* lag: an integer indicating which lag to use.<br />
* differences: an integer indicating the order of the difference.<br />
例如
diff(x,lag=d,differences=n)
x[(1+d):n] - x[1:(n-d)]</p>
</div>
</div>
<div id="-" class="section level2">
<h2><span class="header-section-number">2.11</span> 練習: 刪除向量中的一個元素</h2>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb164-1" data-line-number="1">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a></code></pre></div>
<p>如何刪除x中的第2個元素 ?</p>
<p>hint:<br />
數字向量元素的刪除 ，不能像是list[2]&lt;-NULL ，請問你的解法？ 並說明</p>
<p>物件元素的刪除，簡單一點的像是list，</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" data-line-number="1">x&lt;-<span class="kw">list</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb165-2" data-line-number="2">x[<span class="dv">2</span>]&lt;-<span class="ot">NULL</span></a>
<a class="sourceLine" id="cb165-3" data-line-number="3">x</a></code></pre></div>
<p>但是向量元素的刪除沒有捷徑</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb166-1" data-line-number="1">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb166-2" data-line-number="2">x[<span class="dv">2</span>]&lt;-<span class="ot">NULL</span></a></code></pre></div>
<pre style="color: red;"><code>Error in x[2] <- NULL:
  置換的長度為零
</code></pre>
<p>因此，需要變通的辦法<br />
方法1：</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" data-line-number="1">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb167-2" data-line-number="2">t&lt;-<span class="kw">as.list</span>(x) <span class="co"># note: 使用list(x)而不是as.list(x)會有什麼不同</span></a>
<a class="sourceLine" id="cb167-3" data-line-number="3">t[<span class="dv">2</span>]&lt;-<span class="ot">NULL</span></a>
<a class="sourceLine" id="cb167-4" data-line-number="4">x&lt;-<span class="kw">unlist</span>(t)</a>
<a class="sourceLine" id="cb167-5" data-line-number="5">x</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 3
</code></pre>
<p>方法2：</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb168-1" data-line-number="1">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb168-2" data-line-number="2">y&lt;-x[<span class="op">-</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb168-3" data-line-number="3">x&lt;-y</a></code></pre></div>
<p>練習：改為函數</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" data-line-number="1">delElement&lt;-<span class="cf">function</span>(x,idx){</a>
<a class="sourceLine" id="cb169-2" data-line-number="2">  <span class="cf">if</span> (<span class="kw">is.vector</span>(x)){</a>
<a class="sourceLine" id="cb169-3" data-line-number="3">    t&lt;-<span class="kw">as.list</span>(x)</a>
<a class="sourceLine" id="cb169-4" data-line-number="4">    t[idx]&lt;-<span class="ot">NULL</span></a>
<a class="sourceLine" id="cb169-5" data-line-number="5">    t&lt;-<span class="kw">unlist</span>(t)</a>
<a class="sourceLine" id="cb169-6" data-line-number="6">    <span class="kw">return</span>(t) </a>
<a class="sourceLine" id="cb169-7" data-line-number="7">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb169-8" data-line-number="8">    <span class="kw">stop</span>(<span class="st">&#39;must be vector&#39;</span>)</a>
<a class="sourceLine" id="cb169-9" data-line-number="9">  }</a>
<a class="sourceLine" id="cb169-10" data-line-number="10"></a>
<a class="sourceLine" id="cb169-11" data-line-number="11">}</a>
<a class="sourceLine" id="cb169-12" data-line-number="12">x&lt;-<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb169-13" data-line-number="13">x&lt;-<span class="kw">delElement</span>(x,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb169-14" data-line-number="14">x</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 3
</code></pre>
<div id="adding-attributes-to-vectors" class="section level3">
<h3><span class="header-section-number">2.11.1</span> <a href="http://uc-r.github.io/vectors_attributes">Adding Attributes to Vectors</a></h3>
<p>The attributes that you can add to vectors includes names and comments. If we continue with our vector v1 we can see that the vector currently has no attributes:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb170-1" data-line-number="1">v1 &lt;-<span class="st"> </span><span class="dv">8</span><span class="op">:</span><span class="dv">17</span></a>
<a class="sourceLine" id="cb170-2" data-line-number="2"><span class="kw">attributes</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>NULL
</code></pre>
<p>We can add names to vectors using two approaches. The first uses names() to assign names to each element of the vector. The second approach is to assign names when creating the vector.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" data-line-number="1"><span class="co"># assigning names to a pre-existing vector</span></a>
<a class="sourceLine" id="cb171-2" data-line-number="2"><span class="kw">names</span>(v1) &lt;-<span class="st"> </span>letters[<span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(v1)]</a>
<a class="sourceLine" id="cb171-3" data-line-number="3">v1</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> a  b  c  d  e  f  g  h  i  j 
 8  9 10 11 12 13 14 15 16 17 
</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb172-1" data-line-number="1"><span class="kw">attributes</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$names
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"
</code></pre>
<p>那，什麼是<code>names(v1)</code></p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" data-line-number="1"><span class="kw">names</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"
</code></pre>
<p>也就是說names()函數返回每個元素的名子，而<code>attributes()</code>返回的是有什麼屬性，也是函數名稱字面上的意思。但是再仔細看看，可以發現指派attribute 給</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb174-1" data-line-number="1"><span class="kw">attributes</span>(v1)&lt;-<span class="kw">list</span>(<span class="dt">x=</span><span class="st">&#39;&#39;</span>,<span class="dt">y=</span><span class="st">&#39;&#39;</span>,<span class="dt">z=</span><span class="st">&#39;&#39;</span>)</a>
<a class="sourceLine" id="cb174-2" data-line-number="2">v1</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1]  8  9 10 11 12 13 14 15 16 17
attr(,"x")
[1] ""
attr(,"y")
[1] ""
attr(,"z")
[1] ""
</code></pre>
<p>測試是否可以自行加入attributes，然後讓<code>names()</code>可以運作，如下：</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" data-line-number="1"><span class="kw">attributes</span>(v1)&lt;-<span class="kw">list</span>(<span class="dt">names=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a>
<a class="sourceLine" id="cb175-2" data-line-number="2">v1</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> a  b  c  d  e  f  g  h  i  j 
 8  9 10 11 12 13 14 15 16 17 
</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb176-1" data-line-number="1"><span class="kw">attributes</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$names
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"
</code></pre>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" data-line-number="1"><span class="kw">names</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"
</code></pre>
<p>上面這個程式暗示了什麼？
&gt;函數<code>names()</code>只是<code>attributes()&lt;-</code>的一個特例，我們總是可以自行加入一個屬性，名稱為<code>names</code>讓函數<code>names()</code>可以把每個元素的名稱列印出來。</p>
<p>後面這段程式碼只是對照一下之前每個元素加入名稱的作法，本身沒意義：</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" data-line-number="1"><span class="co"># adding names when creating vectors</span></a>
<a class="sourceLine" id="cb178-2" data-line-number="2">v2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">name1 =</span> <span class="dv">1</span>, <span class="dt">name2 =</span> <span class="dv">2</span>, <span class="dt">name3 =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb178-3" data-line-number="3">v2</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>name1 name2 name3 
    1     2     3 
</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" data-line-number="1"><span class="kw">attributes</span>(v2)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$names
[1] "name1" "name2" "name3"
</code></pre>
<p>也可以加入註解：</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb180-1" data-line-number="1"><span class="kw">comment</span>(v1) &lt;-<span class="st"> &quot;This is a comment on a vector&quot;</span></a>
<a class="sourceLine" id="cb180-2" data-line-number="2">v1</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> a  b  c  d  e  f  g  h  i  j 
 8  9 10 11 12 13 14 15 16 17 
</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" data-line-number="1"><span class="kw">attributes</span>(v1)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$names
 [1] "a" "b" "c" "d" "e" "f" "g" "h" "i" "j"

$comment
[1] "This is a comment on a vector"
</code></pre>

</div>
</div>
<div id="matrix" class="section level2">
<h2><span class="header-section-number">2.12</span> matrix</h2>
<p>矩陣的建立有多種方式,其中一種是利用向量轉填矩陣，填入的方式預設是以coumn為主要方向。</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb182-1" data-line-number="1"><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>),<span class="dv">2</span>,<span class="dv">3</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
</code></pre>
<p>問題: 怎樣產生<br />
1 2 3<br />
4 5 6<br />
的矩陣</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" data-line-number="1"><span class="kw">diag</span>(<span class="dv">1</span>, <span class="dt">nrow =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3] [,4] [,5]
[1,]    1    0    0    0    0
[2,]    0    1    0    0    0
[3,]    0    0    1    0    0
[4,]    0    0    0    1    0
[5,]    0    0    0    0    1
</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" data-line-number="1"><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>), <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="kw">c</span>(<span class="st">&quot;r1&quot;</span>, <span class="st">&quot;r2&quot;</span>, <span class="st">&quot;r3&quot;</span>), <span class="kw">c</span>(<span class="st">&quot;c1&quot;</span>, <span class="st">&quot;c2&quot;</span>, <span class="st">&quot;c3&quot;</span>)))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>   c1 c2 c3
r1  1  2  3
r2  4  5  6
r3  7  8  9
</code></pre>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1">m1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>), <span class="dt">ncol =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="kw">rownames</span>(m1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;r1&quot;</span>, <span class="st">&quot;r2&quot;</span>, <span class="st">&quot;r3&quot;</span>)</a>
<a class="sourceLine" id="cb185-3" data-line-number="3"><span class="kw">colnames</span>(m1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;c1&quot;</span>, <span class="st">&quot;c2&quot;</span>, <span class="st">&quot;c3&quot;</span>)</a>
<a class="sourceLine" id="cb185-4" data-line-number="4"></a>
<a class="sourceLine" id="cb185-5" data-line-number="5">m1</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>   c1 c2 c3
r1  1  4  7
r2  2  5  8
r3  3  6  9
</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1"> B =<span class="st"> </span><span class="kw">matrix</span>( </a>
<a class="sourceLine" id="cb186-2" data-line-number="2">    <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">7</span>), </a>
<a class="sourceLine" id="cb186-3" data-line-number="3">    <span class="dt">nrow=</span><span class="dv">3</span>, </a>
<a class="sourceLine" id="cb186-4" data-line-number="4">    <span class="dt">ncol=</span><span class="dv">2</span>) </a>
<a class="sourceLine" id="cb186-5" data-line-number="5">B</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2]
[1,]    2    1
[2,]    4    5
[3,]    3    7
</code></pre>
<div id="transpose" class="section level3">
<h3><span class="header-section-number">2.12.1</span> Transpose</h3>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb187-1" data-line-number="1"><span class="kw">t</span>(B)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3]
[1,]    2    4    3
[2,]    1    5    7
</code></pre>
</div>
<div id="section-2.12.2" class="section level3">
<h3><span class="header-section-number">2.12.2</span> 合併矩陣</h3>
<p>利用函數<code>cbind()</code> 可以合併同樣橫行數目的兩個矩陣,例如這裡C也是3個橫行:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1">C =<span class="st"> </span><span class="kw">matrix</span>( </a>
<a class="sourceLine" id="cb188-2" data-line-number="2">   <span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">4</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb188-3" data-line-number="3">   <span class="dt">nrow=</span><span class="dv">3</span>, </a>
<a class="sourceLine" id="cb188-4" data-line-number="4">   <span class="dt">ncol=</span><span class="dv">1</span>) </a>
<a class="sourceLine" id="cb188-5" data-line-number="5">C</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1]
[1,]    7
[2,]    4
[3,]    2
</code></pre>
<p>和B合併</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" data-line-number="1"><span class="kw">cbind</span>(B, C) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3]
[1,]    2    1    7
[2,]    4    5    4
[3,]    3    7    2
</code></pre>
<p>同樣的,<code>rbind()</code> 也可以合併直行數目相同的兩個矩陣:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb190-1" data-line-number="1"> D =<span class="st"> </span><span class="kw">matrix</span>( </a>
<a class="sourceLine" id="cb190-2" data-line-number="2">   <span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">2</span>), </a>
<a class="sourceLine" id="cb190-3" data-line-number="3">   <span class="dt">nrow=</span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb190-4" data-line-number="4">   <span class="dt">ncol=</span><span class="dv">2</span>) </a>
<a class="sourceLine" id="cb190-5" data-line-number="5">D</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2]
[1,]    6    2
</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1"><span class="kw">rbind</span>(B, D) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2]
[1,]    2    1
[2,]    4    5
[3,]    3    7
[4,]    6    2
</code></pre>
<p>將矩陣解構回向量:
可以利用<code>c()</code> 會把矩陣所有的直行都合併成一個直行.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb192-1" data-line-number="1"><span class="kw">c</span>(B) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2 4 3 1 5 7
</code></pre>
<p>unlist ?</p>
<p><strong>練習:利用上面的m1 回答下面的問題:</strong><br />
m1[1, 2]</p>
<p>m1[1:2, 2:3]</p>
<p>m1[1,]
m1[,2]
m1[1:2,]
m1[, 2:3]</p>
<p>m1[-1,]
m1[,-2]</p>
<p>m1[c(“r1”, “r3”), c(“c1”, “c3”)]</p>
<p>m1<a href="programming-in-r.html#section-2">1</a>
m1[9]
m1[3:7]</p>
<p>m1 &gt; 3</p>
<p>m1[m1 &gt; 3]</p>
<p>m1 + m1
m1 - 2<em>m1
m1 </em> m1
m1 / m1
m1 ^ 2
m1 %*% m1</p>
<p>t(m1)</p>

</div>
</div>
<div id="section-2.13" class="section level2">
<h2><span class="header-section-number">2.13</span> 字串函數</h2>
<div id="asic-character-string-functions-provided-by-r" class="section level4">
<h4><span class="header-section-number">2.13.0.1</span> asic character string functions provided by R:</h4>
<ul>
<li>nchar: string length<br />
</li>
<li>paste: concatenate strings</li>
<li>substr: substring</li>
<li>toupper: convert entire string to uppercase</li>
<li>tolower: convert entire string to lowercase</li>
<li>chartr: character map replacement (like “tr”)</li>
<li>strtrim：trunates string</li>
</ul>
<p>nchar, substr, toupper, tolower will accept string vectors as arguments and return vector results.</p>
<p>strtrim accepts both a vector of strings and a vector of truncation positions.</p>
<ul>
<li><code>\'</code>: 等同於 <code>&quot;'&quot;</code> .<br />
</li>
<li><code>\&quot;</code>: 等同於 <code>'&quot;'</code>.<br />
</li>
<li><code>\n</code>: newline.<br />
</li>
<li><code>\r</code>: carriage return.<br />
</li>
<li><code>\t</code>: tab character.</li>
</ul>
<blockquote>
<p>Note: <code>cat()</code> and <code>print()</code> 處理逃逸字元的方式不一樣如果要在螢幕上解讀上面的字串,需要的是 <code>cat()</code>.</p>
</blockquote>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" data-line-number="1"><span class="kw">print</span>(<span class="st">&quot;a</span><span class="ch">\n</span><span class="st">b&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "a\nb"
</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="kw">cat</span>(<span class="st">&quot;a</span><span class="ch">\n</span><span class="st">b&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a
b
</code></pre>
<p>問題:
1. 解釋paste0(c(1,2),c(3,4),collapse=’’)
2. 怎樣得到“1234”</p>
</div>
<div id="macro" class="section level3">
<h3><span class="header-section-number">2.13.1</span> 應用範例macro</h3>
<p><strong>version 1</strong></p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1">x&lt;-<span class="st"> &quot;${1} is good&quot;</span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">$</span><span class="ch">\\</span><span class="st">{1</span><span class="ch">\\</span><span class="st">}&quot;</span>,<span class="st">&quot;dog&quot;</span>,x)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "dog is good"
</code></pre>
<p>** version 2 to function**</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1">mstr&lt;-<span class="cf">function</span> (src,mto)</a>
<a class="sourceLine" id="cb196-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb196-3" data-line-number="3">  <span class="kw">return</span> (<span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\\</span><span class="st">$</span><span class="ch">\\</span><span class="st">{1</span><span class="ch">\\</span><span class="st">}&quot;</span>,mto,src))</a>
<a class="sourceLine" id="cb196-4" data-line-number="4">  </a>
<a class="sourceLine" id="cb196-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb196-6" data-line-number="6">x&lt;-<span class="st"> &quot;${1} is good&quot;</span></a>
<a class="sourceLine" id="cb196-7" data-line-number="7"><span class="kw">mstr</span>(x,<span class="st">&quot;dog&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "dog is good"
</code></pre>
</div>
<div id="paste" class="section level3">
<h3><span class="header-section-number">2.13.2</span> paste</h3>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" data-line-number="1"><span class="kw">paste0</span>(<span class="st">&quot;x&quot;</span>,<span class="st">&quot;y&quot;</span>,<span class="st">&quot;z&quot;</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "xyz"
</code></pre>
</div>
<div id="misc" class="section level3">
<h3><span class="header-section-number">2.13.3</span> misc</h3>
<p>.</p>
<p>The get() and assign() functions allow you to reference objects by
character strings, and as.name() will convert a string into a reference
(you would then probably need to use substitute() to create an expression
and eval()) to evaluate it.</p>
<p>eg</p>
<pre><code>assign(&quot;a&quot;,get(&quot;b&quot;))</code></pre>
<p>does
a&lt;-b</p>
<p>Often there is a better way: the objects can be stored in a list, making
it possible to use character strings directly to reference them</p>
<p>If obj&lt;-list(a=1,b=2)</p>
<p>then obj[[“a”]] is a reference to the “a” element and you can do eg</p>
<p>obj[[“a”]]&lt;-otherobj[[“b”]]</p>

</div>
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">2.14</span> Factors</h2>
<p>R也能把資料存為factor(store data is as a factor)。
在大部分實驗中,某些解釋變數經常有不同程度的測試。
大意如下：<br />
&gt;… includes trials for different levels of some explanatory variable.
&gt;The different levels are also called factors.</p>
<div id="factors" class="section level3">
<h3><span class="header-section-number">2.14.1</span> 探索一下factors</h3>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1">fert =<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">20</span>,<span class="dv">50</span>,<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">10</span>,<span class="dv">50</span>,<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb199-2" data-line-number="2">fert =<span class="st"> </span><span class="kw">factor</span>(fert,<span class="dt">levels=</span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">50</span>),<span class="dt">ordered=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<p>levels()可以顯示factor的標籤</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="kw">levels</span>(fert)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "10" "20" "50"
</code></pre>
<p>fert 的內容，如果忽略標籤本身，其實已經是數字。</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1">fert</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 10 20 20 50 10 20 10 50 20
Levels: 10 < 20 < 50
</code></pre>
<p>計算平均</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1"><span class="kw">mean</span>(fert)</a></code></pre></div>
<pre style="color: red;"><code>Warning in mean.default(fert): argument is not numeric or logical:
returning NA
</code></pre>
<pre style="border: 1px grey dotted;"><code>[1] NA
</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1"><span class="kw">mean</span>(<span class="kw">as.numeric</span>(<span class="kw">levels</span>(fert)[fert]))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 23.3
</code></pre>
<p>解釋：<br />
levels(fert) 產生一個「字串向量」，內容為10, 20, 50，如下可證：</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb204-1" data-line-number="1"><span class="kw">str</span>(<span class="kw">levels</span>(fert))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> chr [1:3] "10" "20" "50"
</code></pre>
<p>然後如果把fert想程式數字內容，例如(1,2,1) 則，這是索引。就像這樣<br />
c(“a”,“b”,“c”)[c(1,1,2,3,2)] ==&gt; a,a,b,c,b 。</p>
<p>上面的問題，可以簡化為：找回原來還沒被factor的向量。</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb205-1" data-line-number="1">x&lt;-<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>,<span class="st">&quot;b&quot;</span>,<span class="st">&quot;c&quot;</span>)</a>
<a class="sourceLine" id="cb205-2" data-line-number="2">x&lt;-<span class="kw">factor</span>(x) <span class="co"># 現在x是一個factor</span></a>
<a class="sourceLine" id="cb205-3" data-line-number="3"></a>
<a class="sourceLine" id="cb205-4" data-line-number="4">x&lt;-<span class="kw">levels</span>(x)[x] <span class="co">#現在又被轉回原來的x</span></a></code></pre></div>
</div>
<div id="factor" class="section level3">
<h3><span class="header-section-number">2.14.2</span> 探索一下factor</h3>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb206-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>))</a></code></pre></div>
<p>預期答案是factor,ok。</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb207-1" data-line-number="1"><span class="kw">class</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "factor"
</code></pre>
<p>因為a已經被編碼，預期是numeric，這裡答案直接給定integer:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb208-1" data-line-number="1"><span class="kw">typeof</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "integer"
</code></pre>
<p>a是一個factor,所以a<a href="rbook-.html#section-3"></a>代表a的一個子集合，因此結果看起來也是類似原來a的型態：</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb209-1" data-line-number="1">a[<span class="dv">1</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] A
Levels: A B C
</code></pre>
<p>驗證是不是和上面的表示方式一樣：</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb210-1" data-line-number="1">a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] A A B A B B C A C
Levels: A B C
</code></pre>
<p>所以，a,a<a href="rbook-.html#section-3"></a>都是類型為factor的變數。</p>
<p>按照之間<code>[]</code>和<code>[[]]</code>的規則，這裡會出現什麼？</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb211-1" data-line-number="1">a[[<span class="dv">1</span>]]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] A
Levels: A B C
</code></pre>
<p>出現的結果和a<a href="programming-in-r.html#section-2">1</a>一樣，這說明了，a的結構不是list,利用str()函數看一下確認：</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb212-1" data-line-number="1"><span class="kw">str</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> Factor w/ 3 levels "A","B","C": 1 1 2 1 2 2 3 1 3
</code></pre>
總之，a<a href="programming-in-r.html#section-2">1</a> a[<a href="programming-in-r.html#section-2">1</a>] 都是Factor 沒有[ 和 [[ 的分別。這很好記，因為這個factor也是r的內建資料型態。<br />
其他驗證如下，自行推敲：
<pre><code>
> typeof(a[[1]])
[1] "integer"
> typeof(a[1])
[1] "integer"
> class(a[[1]])
[1] "factor"
> class(a[1])
[1] "factor"

</code></pre>
<p>又有新的問題了，到底table(a),summary(a)的資料結構是什麼？</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb213-1" data-line-number="1"><span class="kw">str</span>(<span class="kw">table</span>(a))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> 'table' int [1:3(1d)] 4 3 2
 - attr(*, "dimnames")=List of 1
  ..$ a: chr [1:3] "A" "B" "C"
</code></pre>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb214-1" data-line-number="1"><span class="kw">str</span>(<span class="kw">summary</span>(a))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> Named int [1:3] 4 3 2
 - attr(*, "names")= chr [1:3] "A" "B" "C"
</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb215-1" data-line-number="1"><span class="kw">class</span>(<span class="kw">table</span>(a))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "table"
</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb216-1" data-line-number="1"><span class="kw">class</span>(<span class="kw">summary</span>(a))</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "integer"
</code></pre>
<p>又來一個讓人無言的地方，輸出樣子看起來很像，但是結構一個是類別<code>table</code>一個是「整數向量」，然後每個元素都是因子的發生次數，帶有因子名字，這裡是“A”,“B”,“C”。</p>
</div>
<div id="factor-read.csv" class="section level3">
<h3><span class="header-section-number">2.14.3</span> factor 和函數read.csv()</h3>
<p>read.csv() 通常產生一個data.frame的類別。但是在讀檔的時候，如果遇到字串欄位，會將字串欄位預設轉為factor欄位。</p>
<p>觀察carbon dioxide 對樹木的生長速率 trees91.csv <a href="The%20original%20spreadsheet%20is%20located%20at%20http://cdiac.ornl.gov/ftp/ndp061a/trees91.wk1.">1^</a>:</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb217-1" data-line-number="1">tree =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;./resources/trees91.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>);</a>
<a class="sourceLine" id="cb217-2" data-line-number="2"><span class="kw">attributes</span>(tree)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$names
 [1] "C"      "N"      "CHBR"   "REP"    "LFBM"   "STBM"   "RTBM"  
 [8] "LFNCC"  "STNCC"  "RTNCC"  "LFBCC"  "STBCC"  "RTBCC"  "LFCACC"
[15] "STCACC" "RTCACC" "LFKCC"  "STKCC"  "RTKCC"  "LFMGCC" "STMGCC"
[22] "RTMGCC" "LFPCC"  "STPCC"  "RTPCC"  "LFSCC"  "STSCC"  "RTSCC" 

$class
[1] "data.frame"

$row.names
 [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
[24] 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46
[47] 47 48 49 50 51 52 53 54
</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb218-1" data-line-number="1"><span class="kw">names</span>(tree)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] "C"      "N"      "CHBR"   "REP"    "LFBM"   "STBM"   "RTBM"  
 [8] "LFNCC"  "STNCC"  "RTNCC"  "LFBCC"  "STBCC"  "RTBCC"  "LFCACC"
[15] "STCACC" "RTCACC" "LFKCC"  "STKCC"  "RTKCC"  "LFMGCC" "STMGCC"
[22] "RTMGCC" "LFPCC"  "STPCC"  "RTPCC"  "LFSCC"  "STSCC"  "RTSCC" 
</code></pre>
<p>A description of the data file is located at <a href="http://cdiac.ornl.gov/ftp/ndp061a/ndp061a.txt" class="uri">http://cdiac.ornl.gov/ftp/ndp061a/ndp061a.txt</a> .</p>
</div>
<div id="factor-summary" class="section level3">
<h3><span class="header-section-number">2.14.4</span> factor 和函數summary()</h3>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb219-1" data-line-number="1"><span class="kw">summary</span>(tree<span class="op">$</span>CHBR)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> A1  A2  A3  A4  A5  A6  A7  B1  B2  B3  B4  B5  B6  B7  C1  C2  C3  C4 
  3   1   1   3   1   3   1   1   3   3   3   3   3   3   1   3   1   3 
 C5  C6  C7 CL6 CL7  D1  D2  D3  D4  D5  D6  D7 
  1   1   1   1   1   1   1   3   1   1   1   1 
</code></pre>
<p>在CHBR這個欄位中,因為不全都是數字,因此R自動假定這是一個factor。
因此針對這個欄位<code>summary()</code>函數不會列出5個統計量,而是列出次數表。因為，一旦向量轉為一組factors, 5個基本統計量不再有意義。</p>
<p>但有些欄位例如C,也是一個factor。但是,R認定為數字,這時必須手動處理。<br />
以下將 tree$C 轉為 factor:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb220-1" data-line-number="1">tree<span class="op">$</span>C</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3
[36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4
</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb221-1" data-line-number="1"><span class="kw">summary</span>(tree<span class="op">$</span>C)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   1.00    2.00    2.00    2.52    3.00    4.00 
</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb222-1" data-line-number="1">tree<span class="op">$</span>C &lt;-<span class="st"> </span><span class="kw">factor</span>(tree<span class="op">$</span>C)</a>
<a class="sourceLine" id="cb222-2" data-line-number="2">tree<span class="op">$</span>C</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3
[36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4
Levels: 1 2 3 4
</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb223-1" data-line-number="1"><span class="kw">summary</span>(tree<span class="op">$</span>C)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> 1  2  3  4 
 8 23 10 13 
</code></pre>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb224-1" data-line-number="1"><span class="kw">levels</span>(tree<span class="op">$</span>C)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "1" "2" "3" "4"
</code></pre>
<p>node: <code>summary()</code> 函數，參考table一節。</p>
</div>
</div>
<div id="data-frames" class="section level2">
<h2><span class="header-section-number">2.15</span> Data Frames</h2>
<div id="data.frame" class="section level3">
<h3><span class="header-section-number">2.15.1</span> 簡單介紹一下手動建立data.frame</h3>
<p>3個欄位，分別是a,b,f</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb225-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb225-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)</a>
<a class="sourceLine" id="cb225-3" data-line-number="3">levels &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</a>
<a class="sourceLine" id="cb225-4" data-line-number="4">bubba &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">first =</span> a,</a>
<a class="sourceLine" id="cb225-5" data-line-number="5">                      <span class="dt">second =</span> b,</a>
<a class="sourceLine" id="cb225-6" data-line-number="6">                      <span class="dt">f =</span> levels)</a>
<a class="sourceLine" id="cb225-7" data-line-number="7">bubba</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>  first second f
1     1      2 A
2     2      4 B
3     3      6 A
4     4      8 B
</code></pre>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb226-1" data-line-number="1"><span class="kw">summary</span>(bubba)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     first          second    f    
 Min.   :1.00   Min.   :2.0   A:2  
 1st Qu.:1.75   1st Qu.:3.5   B:2  
 Median :2.50   Median :5.0        
 Mean   :2.50   Mean   :5.0        
 3rd Qu.:3.25   3rd Qu.:6.5        
 Max.   :4.00   Max.   :8.0        
</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb227-1" data-line-number="1">bubba<span class="op">$</span>first</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1 2 3 4
</code></pre>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb228-1" data-line-number="1">bubba<span class="op">$</span>second</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 2 4 6 8
</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb229-1" data-line-number="1">bubba<span class="op">$</span>f</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] A B A B
Levels: A B
</code></pre>
</div>
<div id="data-frame-" class="section level3">
<h3><span class="header-section-number">2.15.2</span> data frame 的常用函數：</h3>
<ul>
<li>head() - shows first 6 rows</li>
<li>tail() - shows last 6 rows</li>
<li>dim() - returns the dimensions of data frame (i.e. number of rows and number of columns)</li>
<li>nrow() - number of rows</li>
<li>ncol() - number of columns</li>
<li>str() - structure of data frame - name, type and preview of data in each column</li>
<li>names() - shows the names attribute for a data frame, which gives the column names.</li>
<li>sapply(dataframe, class) - shows the class of each column in the data frame</li>
</ul>
<p>回到之前利用read.csv讀入的data.frame : tree</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb230-1" data-line-number="1"><span class="co"># 順便看看結構</span></a>
<a class="sourceLine" id="cb230-2" data-line-number="2"><span class="kw">typeof</span>(tree)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "list"
</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb231-1" data-line-number="1"><span class="kw">class</span>(tree)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "data.frame"
</code></pre>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb232-1" data-line-number="1"><span class="kw">is.data.frame</span>(tree)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<p>既然tree是一個list,那麼<code>[]</code>和<code>[[]]</code>的應用就和之前討論的一樣：</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb233-1" data-line-number="1">tree[<span class="dv">1</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>   C
1  1
2  1
3  1
4  1
5  1
6  1
7  1
8  1
9  2
10 2
11 2
12 2
13 2
14 2
15 2
16 2
17 2
18 2
19 2
20 2
21 2
22 2
23 2
24 2
25 2
26 2
27 2
28 2
29 2
30 2
31 2
32 3
33 3
34 3
35 3
36 3
37 3
38 3
39 3
40 3
41 3
42 4
43 4
44 4
45 4
46 4
47 4
48 4
49 4
50 4
51 4
52 4
53 4
54 4
</code></pre>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb234-1" data-line-number="1">tree[[<span class="dv">1</span>]] </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> [1] 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 3 3 3 3
[36] 3 3 3 3 3 3 4 4 4 4 4 4 4 4 4 4 4 4 4
Levels: 1 2 3 4
</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb235-1" data-line-number="1"><span class="kw">class</span>(tree[<span class="dv">1</span>]) <span class="co"># data.frame</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "data.frame"
</code></pre>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb236-1" data-line-number="1"><span class="kw">class</span>(tree[[<span class="dv">1</span>]]) <span class="co"># integer</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "factor"
</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb237-1" data-line-number="1"><span class="kw">typeof</span>(tree[<span class="dv">1</span>]) <span class="co"># list</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "list"
</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb238-1" data-line-number="1"><span class="kw">typeof</span>(tree<span class="op">$</span>C) <span class="co"># integer</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "integer"
</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb239-1" data-line-number="1"><span class="kw">typeof</span>(tree[[<span class="dv">1</span>]]) <span class="co"># integer</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "integer"
</code></pre>
<p>tree<a href="programming-in-r.html#section-2">1</a> 是一個list<br />
tree[<a href="programming-in-r.html#section-2">1</a>] 外圍的tree<a href="rbook-.html#section-3"></a>首先被解讀為list類別,然後<a href="programming-in-r.html#section-2">1</a>傳到類別</p>
<blockquote>
<p>[[ vs [<br />
由typeof,class看起來<br />
[[抽取list中的元素
[只是分割list,中的subset</p>
</blockquote>
</div>
</div>
<div id="tables" class="section level2">
<h2><span class="header-section-number">2.16</span> Tables</h2>
<p>除了data frame 以外,還有table 可以用來組織資料。
這裡只看怎樣建立table,分析看其他章節。</p>
<div id="one-way-tables" class="section level3">
<h3><span class="header-section-number">2.16.1</span> One Way Tables</h3>
<p>table()指令:<br />
這個指令通常用來建立因子之間的關聯表(contingency table)。參數通常是一個「因子向量」(factor vector)。<br />
例如建立一個單因子關聯表（one way table）:</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb240-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>))</a>
<a class="sourceLine" id="cb240-2" data-line-number="2">table_a &lt;-<span class="st"> </span><span class="kw">table</span>(a)</a></code></pre></div>
<p>table_a：</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb241-1" data-line-number="1">table_a</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a
A B C 
4 3 2 
</code></pre>
<p>attributes可以看出table_a裡面有哪些帶名元素</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb242-1" data-line-number="1"><span class="kw">attributes</span>(table_a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$dim
[1] 3

$dimnames
$dimnames$a
[1] "A" "B" "C"


$class
[1] "table"
</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb243-1" data-line-number="1"><span class="kw">summary</span>(table_a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>Number of cases in table: 9 
Number of factors: 1 
</code></pre>
<p>對照table(a)，直接把factor 變數，代入summary()看一下，結果是次數分配表（如下）</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb244-1" data-line-number="1"><span class="kw">table</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>a
A B C 
4 3 2 
</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb245-1" data-line-number="1"><span class="kw">summary</span>(a)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>A B C 
4 3 2 
</code></pre>
<p>問題：如果我們知道A有4,個,B有3個,C有2個,能不能直接建立table?<br />
1. 先建立matrix<br />
2. 再加入欄位名稱<br />
3. 利用函數as.table()</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb246-1" data-line-number="1"><span class="co"># step 1</span></a>
<a class="sourceLine" id="cb246-2" data-line-number="2">occur &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>), <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb246-3" data-line-number="3">occur</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     [,1] [,2] [,3]
[1,]    4    3    2
</code></pre>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb247-1" data-line-number="1"><span class="co">#step 2</span></a>
<a class="sourceLine" id="cb247-2" data-line-number="2"><span class="kw">colnames</span>(occur) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>)</a>
<a class="sourceLine" id="cb247-3" data-line-number="3">occur</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     A B C
[1,] 4 3 2
</code></pre>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb248-1" data-line-number="1"><span class="co">#step 3</span></a>
<a class="sourceLine" id="cb248-2" data-line-number="2">occur &lt;-<span class="st"> </span><span class="kw">as.table</span>(occur)</a>
<a class="sourceLine" id="cb248-3" data-line-number="3">occur</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>  A B C
A 4 3 2
</code></pre>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb249-1" data-line-number="1"><span class="kw">attributes</span>(occur)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>$dim
[1] 1 3

$dimnames
$dimnames[[1]]
[1] "A"

$dimnames[[2]]
[1] "A" "B" "C"


$class
[1] "table"
</code></pre>
</div>
<div id="two-way-tables" class="section level3">
<h3><span class="header-section-number">2.16.2</span> Two Way Tables</h3>
<p>這個例子中有兩個問題:第1個問題的答案有“Never,” “Sometimes,” or “Always.”<br />
第2個問題的答案有 “Yes,” “No,” or “Maybe.”
兩個問題分別以向量a,b存放( The set of vectors “a,” and “b,” contain the response for each measurement.)</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb250-1" data-line-number="1">a &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Never&quot;</span>, <span class="st">&quot;Always&quot;</span>, <span class="st">&quot;Always&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Sometimes&quot;</span>, <span class="st">&quot;Never&quot;</span>)</a>
<a class="sourceLine" id="cb250-2" data-line-number="2">b &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;Maybe&quot;</span>, <span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>)</a>
<a class="sourceLine" id="cb250-3" data-line-number="3">results &lt;-<span class="st"> </span><span class="kw">table</span>(a, b)</a>
<a class="sourceLine" id="cb250-4" data-line-number="4">results</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>           b
a           Maybe No Yes
  Always        2  0   0
  Never         0  1   1
  Sometimes     2  1   1
</code></pre>
<p>在表格中,可以看到同時回答 “Maybe” “Sometimes” 的個數有幾個。</p>
<p>這裡是另一個直接由我們知道的數據建立table的例子</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb251-1" data-line-number="1">sexsmoke &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">70</span>, <span class="dv">120</span>, <span class="dv">65</span>, <span class="dv">140</span>), <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb251-2" data-line-number="2"><span class="kw">rownames</span>(sexsmoke) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;male&quot;</span>, <span class="st">&quot;female&quot;</span>)</a>
<a class="sourceLine" id="cb251-3" data-line-number="3"><span class="kw">colnames</span>(sexsmoke) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;smoke&quot;</span>, <span class="st">&quot;nosmoke&quot;</span>)</a>
<a class="sourceLine" id="cb251-4" data-line-number="4">sexsmoke &lt;-<span class="st"> </span><span class="kw">as.table</span>(sexsmoke)</a>
<a class="sourceLine" id="cb251-5" data-line-number="5">sexsmoke</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>       smoke nosmoke
male      70     120
female    65     140
</code></pre>
</div>
</div>
<div id="oop" class="section level2">
<h2><span class="header-section-number">2.17</span> OOP</h2>
<p><a href="https://adv-r.hadley.nz/base-types.html">advance R</a>
### Base objects vs OO objects
辨別變數是基礎型別或是物件型別，可以簡單利用函數： <code>is.object()</code>:</p>
<p>基礎物件base object:</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb252-1" data-line-number="1"><span class="kw">is.object</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<p><a href="programming-in-r.html#section-2">1</a> FALSE</p>
<p>物件導向物件 OO object</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb253-1" data-line-number="1"><span class="kw">is.object</span>(mtcars)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<p><a href="programming-in-r.html#section-2">1</a> TRUE</p>
<p>主要的區別在於基本物件沒有class 這個attribute</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb254-1" data-line-number="1"><span class="kw">attr</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="st">&quot;class&quot;</span>) <span class="co">#  NULL</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>NULL
</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb255-1" data-line-number="1"><span class="kw">attr</span>(mtcars, <span class="st">&quot;class&quot;</span>) <span class="co"># [1] &quot;data.frame&quot;</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "data.frame"
</code></pre>
<p>class()這個函數,不見得總是會和attr()的結果一致,因為，對基本物件而言,傳回的是後面討論,而不是 NULL。</p>
<div id="section-2.17.1" class="section level3">
<h3><span class="header-section-number">2.17.1</span> 變數屬性查詢函數</h3>
<p>names()
dimnames()
length()
dim(): 各維度長度
class() : 變數類別
table()：各類資料計數
str()：變數的資料結構(其實是一個list)</p>
<p>透過names()函數，可取得各種list元素的名稱,但是如果是data.frame則是顯示欄位名稱
islands是內建資料</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb256-1" data-line-number="1"><span class="kw">str</span>(islands)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code> Named num [1:48] 11506 5500 16988 2968 16 ...
 - attr(*, "names")= chr [1:48] "Africa" "Antarctica" "Asia" "Australia" ...
</code></pre>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb257-1" data-line-number="1"><span class="kw">head</span>(<span class="kw">names</span>(islands)) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "Africa"       "Antarctica"   "Asia"         "Australia"   
[5] "Axel Heiberg" "Baffin"      
</code></pre>
<p>方形資料（例如，矩陣，table, data.frame)，可以透過dimnames()函數可顯示data.frame 橫行和直行的名稱 先橫行，然後直行。</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb258-1" data-line-number="1"><span class="kw">dimnames</span>(USArrests) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[[1]]
 [1] "Alabama"        "Alaska"         "Arizona"        "Arkansas"      
 [5] "California"     "Colorado"       "Connecticut"    "Delaware"      
 [9] "Florida"        "Georgia"        "Hawaii"         "Idaho"         
[13] "Illinois"       "Indiana"        "Iowa"           "Kansas"        
[17] "Kentucky"       "Louisiana"      "Maine"          "Maryland"      
[21] "Massachusetts"  "Michigan"       "Minnesota"      "Mississippi"   
[25] "Missouri"       "Montana"        "Nebraska"       "Nevada"        
[29] "New Hampshire"  "New Jersey"     "New Mexico"     "New York"      
[33] "North Carolina" "North Dakota"   "Ohio"           "Oklahoma"      
[37] "Oregon"         "Pennsylvania"   "Rhode Island"   "South Carolina"
[41] "South Dakota"   "Tennessee"      "Texas"          "Utah"          
[45] "Vermont"        "Virginia"       "Washington"     "West Virginia" 
[49] "Wisconsin"      "Wyoming"       

[[2]]
[1] "Murder"   "Assault"  "UrbanPop" "Rape"    
</code></pre>
<p>方形資料，可以透過length()函數可顯示資料長度，但是如果是data.frame則顯示欄位數。</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb259-1" data-line-number="1"><span class="kw">length</span>(islands) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 48
</code></pre>
<p>透過dim() 顯示方形資料的「資料筆數」和「欄位數目」，先「橫行」，後「直行」</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb260-1" data-line-number="1"><span class="kw">dim</span>(USArrests) </a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 50  4
</code></pre>
<p>使用class()函數可知道變數類別</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb261-1" data-line-number="1"><span class="kw">class</span>(pi)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "numeric"
</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb262-1" data-line-number="1"><span class="kw">class</span>(<span class="kw">Sys.Date</span>())</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "Date"
</code></pre>
<p>使用table()函數可知道向量中每個值出現幾次</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb263-1" data-line-number="1"><span class="kw">table</span>(iris<span class="op">$</span>Species) <span class="co">##統計結果</span></a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>
    setosa versicolor  virginica 
        50         50         50 
</code></pre>
</div>
</div>
<div id="operator" class="section level2">
<h2><span class="header-section-number">2.18</span> operator %&gt;%</h2>
<p>%&gt;% 不是R基礎套件
而是定義再套件 magrittr (CRAN) 且常跟 dplyr (CRAN)搭配。</p>
<p>意思是把左邊(LHS)當成右邊(RHS)的參數。<br />
例如下面的例子: 資料框iris 用來當 head()的參數:
也就是說 iris %&gt;% head() 相當於 head(iris).</p>
<p>library(magrittr)
iris %&gt;% head()
Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1 5.1 3.5 1.4 0.2 setosa
2 4.9 3.0 1.4 0.2 setosa
3 4.7 3.2 1.3 0.2 setosa
4 4.6 3.1 1.5 0.2 setosa
5 5.0 3.6 1.4 0.2 setosa
6 5.4 3.9 1.7 0.4 setosa</p>
<p>為甚麼需要這樣用,下面是一個例子</p>
<p>iris %&gt;% head() %&gt;% summary()
類似的觀念, iris %&gt;% head() %&gt;% summary() 等同於summary(head(iris)).
也就是說,避免了使用巢狀呼叫。</p>

</div>
<div id="section-2.19" class="section level2">
<h2><span class="header-section-number">2.19</span> 相關操作</h2>
<p><a href="resources/practice1.R">practice1.R</a></p>
<div id="section-2.19.1" class="section level3">
<h3><span class="header-section-number">2.19.1</span> 問題:想要知道有甚麼資料庫可以用?</h3>
<p>例如， 想要知道資料庫裏面有沒有’mtcars’<br />
hint:
grep(‘pattern’,target)</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb264-1" data-line-number="1">l&lt;-<span class="kw">list</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>)</a>
<a class="sourceLine" id="cb264-2" data-line-number="2"><span class="kw">grep</span>(<span class="st">&#39;a&#39;</span>,l)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 1
</code></pre>
<p>利用指令<code>data()</code>可以列出內建資料：</p>
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb265-1" data-line-number="1">xx&lt;-<span class="kw">data</span>()</a></code></pre></div>
<p>xx 是甚麼?直接打入xx並沒有像其他變數一樣，在console顯示內容：</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb266-1" data-line-number="1">xx</a></code></pre></div>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb267-1" data-line-number="1"><span class="kw">str</span>(xx)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>List of 4
 $ title  : chr "Data sets"
 $ header : NULL
 $ results: chr [1:138, 1:4] "forcats" "stringr" "stringr" "stringr" ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : NULL
  .. ..$ : chr [1:4] "Package" "LibPath" "Item" "Title"
 $ footer : chr "Use 'data(package = .packages(all.available = TRUE))'\nto list the data sets in all *available* packages."
 - attr(*, "class")= chr "packageIQR"
</code></pre>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb268-1" data-line-number="1"><span class="kw">is.data.frame</span>(xx)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb269-1" data-line-number="1"><span class="kw">is.list</span>(xx)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] TRUE
</code></pre>
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb270-1" data-line-number="1"><span class="kw">is.table</span>(xx)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] FALSE
</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb271-1" data-line-number="1"><span class="kw">class</span>(xx)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "packageIQR"
</code></pre>
<p><code>class()</code>函數說明xx是一個packageIQR物件。<code>str()</code>可以看出是一個長度為4的list，其中results標籤，是一個字串矩陣，大小為104 x 4。其中4個欄位的名稱為：“Package” “LibPath” “Item” “Title”（如下）：</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb272-1" data-line-number="1"><span class="kw">head</span>(xx<span class="op">$</span>results)</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>     Package   LibPath                                          
[1,] "forcats" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
[2,] "stringr" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
[3,] "stringr" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
[4,] "stringr" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
[5,] "ggplot2" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
[6,] "ggplot2" "/home/linchao/R/x86_64-pc-linux-gnu-library/3.5"
     Item       
[1,] "gss_cat"  
[2,] "fruit"    
[3,] "sentences"
[4,] "words"    
[5,] "diamonds" 
[6,] "economics"
     Title                                                             
[1,] "A sample of categorical variables from the General Social survey"
[2,] "Sample character vectors for practicing string manipulations."   
[3,] "Sample character vectors for practicing string manipulations."   
[4,] "Sample character vectors for practicing string manipulations."   
[5,] "Prices of 50,000 round cut diamonds"                             
[6,] "US economic time series"                                         
</code></pre>
<p>如果覺得混亂,可以利用</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb273-1" data-line-number="1"><span class="kw">View</span>(xx<span class="op">$</span>results)</a></code></pre></div>
<p>因為是矩陣,所以不能以「$」得到Item的內容?</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb274-1" data-line-number="1">xx<span class="op">$</span>results<span class="op">$</span>Item</a></code></pre></div>
<pre style="color: red;"><code>Error in xx$results$Item:
  $ operator is invalid for atomic vectors
</code></pre>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb275-1" data-line-number="1"><span class="kw">head</span>(xx<span class="op">$</span>results[,<span class="st">&#39;item&#39;</span>])</a></code></pre></div>
<pre style="color: red;"><code>Error in xx$results[, "item"]:
  subscript out of bounds
</code></pre>
<p>為甚麼錯誤?<br />
因為大小寫,所以正確寫法為：</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb276-1" data-line-number="1"><span class="kw">head</span>(xx<span class="op">$</span>results[,<span class="st">&#39;Item&#39;</span>])</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] "gss_cat"   "fruit"     "sentences" "words"     "diamonds"  "economics"
</code></pre>
<p>利用<code>grep()</code>可以拿到<code>mtcars</code>的位置：</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb277-1" data-line-number="1">idx&lt;-<span class="kw">grep</span>(<span class="st">&#39;mtcars&#39;</span>,xx<span class="op">$</span>results[,<span class="st">&#39;Item&#39;</span>])</a>
<a class="sourceLine" id="cb277-2" data-line-number="2">idx</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>[1] 106
</code></pre>
<p>確認</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb278-1" data-line-number="1">xx<span class="op">$</span>results[idx,<span class="st">&#39;Item&#39;</span>]</a></code></pre></div>
<pre style="border: 1px grey dotted;"><code>    Item 
"mtcars" 
</code></pre>
</div>
</div>
<div id="section-2.20" class="section level2">
<h2><span class="header-section-number">2.20</span> 常見錯誤</h2>
<div id="error" class="section level3">
<h3><span class="header-section-number">2.20.1</span> error</h3>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb279-1" data-line-number="1">l0 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb279-2" data-line-number="2">l0</a></code></pre></div>
<blockquote>
<p>錯誤念法<br />
l0等於一個列表list，裡面有三個元素，第一個元素是1，第二個元素是c(TRUE, FALSE)，第三個元素是c(“a”, “b”, “c”)</p>
</blockquote>
<blockquote>
<p>正確念法：<br />
正確念法 指派一個list給變數l0，裡面有三個元素，第一個元素是純量1，第二個元素是邏輯向量，長度為2，內容分別是TRUE, FALSE，第三個元素是字元向量，長度為3，內容分別是“a”, “b”, “c”</p>
</blockquote>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb280-1" data-line-number="1"><span class="kw">names</span>(l1) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>,<span class="st">&quot;B&quot;</span>,<span class="st">&quot;C&quot;</span>)</a></code></pre></div>
<blockquote>
<p>錯誤念法<br />
設定names(li)等於集合(“A”,“B”,“C”)</p>
</blockquote>
<blockquote>
<p>正確念法：<br />
將l1 這個list 的<strong>前3個</strong>元素名稱，分別指定為 A,B,C</p>
</blockquote>
</div>
<div id="error-1" class="section level3">
<h3><span class="header-section-number">2.20.2</span> error</h3>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb281-1" data-line-number="1">l1<span class="op">$</span>x &lt;-<span class="st"> </span><span class="ot">NULL</span></a></code></pre></div>
<blockquote>
<p>正確念法：<br />
刪除元素名為x的元素。</p>
</blockquote>
</div>
<div id="error-2" class="section level3">
<h3><span class="header-section-number">2.20.3</span> error</h3>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb282-1" data-line-number="1">l0 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb282-2" data-line-number="2"></a>
<a class="sourceLine" id="cb282-3" data-line-number="3">l1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="dt">z =</span> <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</a>
<a class="sourceLine" id="cb282-4" data-line-number="4">l1<span class="op">$</span>x</a>
<a class="sourceLine" id="cb282-5" data-line-number="5">l1<span class="op">$</span>y</a>
<a class="sourceLine" id="cb282-6" data-line-number="6">l1<span class="op">$</span>z</a>
<a class="sourceLine" id="cb282-7" data-line-number="7">l1<span class="op">$</span>m</a></code></pre></div>
<blockquote>
<p>更正念法
建立list變數<code>l1</code>,名稱分別是x,y,z,內容分別是…….<br />
l1<span class="math inline">\(y 為邏輯向量 l1\)</span>z 為字元向量<br />
尤其是這句<br />
—-&gt; ?? l1 y產生兩次邏輯運算。?? &lt;—-
邏輯運算指的是 and, or
因此，應該說 l1$y 是邏輯向量，元素有2個。</p>
</blockquote>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regular-expression-syntax.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/type_Basic.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
